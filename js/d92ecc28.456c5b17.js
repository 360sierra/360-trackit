(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["d92ecc28"],{"1d4d":function(e,t,s){"use strict";var i=s("26b9"),a=s.n(i);a.a},"23a3":function(e,t,s){},"26b9":function(e,t,s){},"295b":function(e,t,s){"use strict";var i=s("34b3"),a=s.n(i);a.a},"2a98":function(e,t,s){},"34b3":function(e,t,s){},"34e5":function(e,t,s){"use strict";var i=s("23a3"),a=s.n(i);a.a},"411d":function(e,t,s){},4678:function(e,t,s){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id="4678"},4846:function(e,t,s){"use strict";var i=s("8dcd"),a=s.n(i);a.a},"577b":function(e,t,s){"use strict";var i=s("87a0"),a=s.n(i);a.a},"5cc2":function(e,t){e.exports="data:image/png;base64,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"},"87a0":function(e,t,s){},"8dcd":function(e,t,s){},"96f6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},"994d":function(e,t,s){"use strict";var i=s("d08e"),a=s.n(i);a.a},b656:function(e,t,s){"use strict";var i=s("e707"),a=s.n(i);a.a},d08e:function(e,t,s){},dfed:function(e,t,s){"use strict";var i=s("2a98"),a=s.n(i);a.a},e707:function(e,t,s){},e72c:function(e,t,s){"use strict";var i=s("411d"),a=s.n(i);a.a},f241:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-layout",{ref:"layout",attrs:{view:"hHh LpR lFf"}},[e.isInit?i("q-drawer",{attrs:{side:"left","no-swipe-open":e.$q.platform.is.desktop,"no-swipe-close":e.$q.platform.is.desktop,breakpoint:576,behavior:"mobile"},model:{value:e.side_left,callback:function(t){e.side_left=t},expression:"side_left"}},[i("device-list",{directives:[{name:"show",rawName:"v-show",value:e.devices.length,expression:"devices.length"}],attrs:{deviceIdForWatch:e.deviceIdForWatch,activeDevicesID:e.activeDevicesID,devices:e.devices},on:{"update:watch-by-id":e.setWatchToDeviceID,"click:hide":function(t){e.side_left=!1}}})],1):e._e(),i("q-drawer",{attrs:{side:"right","no-swipe-open":"","no-swipe-close":"","content-class":{"bg-grey-9":e.telemetrySettings.inverted}},model:{value:e.side_right,callback:function(t){e.side_right=t},expression:"side_right"}},[i("div",{staticStyle:{position:"relative",height:"100vh",overflow:"hidden"}},[i("q-item",[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{color:e.telemetrySettings.inverted?"white":"",size:"1.8rem",name:"developer_board"}})],1),i("q-item-section",[i("q-item-label",{staticClass:"ellipsis text-bold q-pa-none",class:{"text-white":e.telemetrySettings.inverted},attrs:{header:""}},[e._v("Telemetry")]),e.deviceIdForTelemetry?i("q-item-label",{staticClass:"ellipsis",class:{"text-white":e.telemetrySettings.inverted},attrs:{caption:""}},[i("small",[e._v(e._s(e.deviceForTelemetry.name||"#"+e.deviceForTelemetry.id))])]):i("q-item-label",{staticClass:"ellipsis",class:{"text-white":e.telemetrySettings.inverted},attrs:{caption:""}},[i("small",[e._v("No selected device")])])],1),i("q-item-section",{attrs:{side:""}},[i("q-btn",{staticClass:"text-grey",attrs:{color:e.telemetrySettings.inverted?"white":"grey",flat:"",icon:"filter_b_and_w"},on:{click:e.telemetrySettingsChangeHandler}},[i("q-tooltip",[e._v("Inverted")])],1)],1)],1),e.deviceIdForTelemetry?i("q-item",[i("q-item-section",[i("q-input",{attrs:{type:"text",label:"Search",dark:e.telemetrySettings.inverted,color:e.telemetrySettings.inverted?"white":"grey"},model:{value:e.telemetrySearch,callback:function(t){e.telemetrySearch=t},expression:"telemetrySearch"}})],1)],1):e._e(),e.deviceIdForTelemetry?i("q-telemetry",{staticClass:"scroll",staticStyle:{height:"calc(100% - 128px)"},attrs:{propHistoryFlag:e.telemetryConfig.propHistoryFlag,device:e.deviceForTelemetry,inverted:e.telemetrySettings.inverted,search:e.telemetrySearch}}):i("div",{staticClass:"text-bold text-center q-mt-sm",class:{"text-white":e.telemetrySettings.inverted}},[e._v("\n        Select one by click on his "),i("q-icon",{attrs:{name:"mdi-map-marker"}}),e._v(" marker\n      ")],1)],1)]),i("q-page-container",[i("q-page",[e.devices.length?i("q-btn",{staticClass:"floated menu",attrs:{small:"",round:"",flat:"",color:"bg-grey-9",size:"md"},on:{click:function(t){e.side_left=!e.side_left}}},[i("q-icon",{attrs:{name:"menu"}})],1):e._e(),i("div",{staticClass:"floated label"},[i("img",{staticStyle:{height:"40px","margin-top":"3px",display:"inline-block"},attrs:{src:s("5cc2"),alt:"Track it!"}}),i("div",{staticClass:"q-toolbar-title",staticStyle:{color:"rgb(51, 51, 51)",display:"inline-block"}},[e._v("\n          Track it! "),i("sup",[e._v(e._s(e.version))]),i("div",{staticClass:"q-toolbar-subtitle"},[e._v("\n            Find yourself\n          ")])])]),e.errors.length?i("q-btn",{staticClass:"floated notifications",attrs:{small:"",flat:"",round:"",color:"bg-grey-9",size:"md",icon:"notifications"},on:{click:e.clearNotificationCounter}},[e.newNotificationCounter?i("q-chip",{staticClass:"absolute-top-right q-pa-xs text-white",staticStyle:{"font-size":".6rem"},attrs:{color:"red"}},[e._v(e._s(e.newNotificationCounter))]):e._e(),i("q-menu",{ref:"popoverError",attrs:{fit:""}},[i("q-list",{staticClass:"scroll",staticStyle:{"max-height":"200px"},attrs:{"no-border":"",link:"",separator:""}},e._l(e.errors,(function(t,s){return i("q-item",{key:s,staticStyle:{cursor:"default"}},[i("q-item-section",[i("q-item-label",[e._v(e._s(t))])],1)],1)})),1)],1)],1):e._e(),e.devices.length&&0===e.mode?i("div",{staticClass:"floated date"},[i("q-btn",{staticClass:"q-pa-none",staticStyle:{"max-width":"120px","font-size":".8rem","line-height":".8rem"},attrs:{flat:""},on:{click:function(t){return e.$refs.datePickerModal.toggle()}}},[i("div",[e._v(e._s(e.formatDate(e.date)))])]),i("q-dialog",{ref:"datePickerModal",staticClass:"modal-date",attrs:{"content-css":{maxWidth:"500px"},maximized:e.$q.platform.is.mobile}},[i("q-card",{style:{minWidth:e.$q.platform.is.mobile?"100%":"30vw"}},[i("q-card-section",{staticClass:"q-pa-none"},[i("q-toolbar",[i("div",{staticClass:"q-toolbar-title text-h6"},[e._v("\n                  Date/Time\n                ")])])],1),i("q-separator"),i("q-card-section",{staticClass:"scroll",style:{height:e.$q.platform.is.mobile?"calc(100% - 104px)":""}},[i("div",{staticClass:"flex flex-center"},[i("vue-flat-pickr",{attrs:{value:e.dateValue,config:e.dateConfig},on:{input:e.dateInputHandler}})],1)]),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:""},on:{click:e.datePickerModalClose}},[e._v("close")]),i("q-btn",{attrs:{flat:""},on:{click:e.datePickerModalSave}},[e._v("save")])],1)],1)],1)],1):e._e(),!e.activeDevicesID.length&&e.devices.length?i("div",{staticClass:"floated no-devices"},[i("span",{staticClass:"no-devices__message"},[e._v("You have no selected devices")]),i("div",{staticStyle:{"margin-top":"15px"}},[i("q-btn",{staticStyle:{"pointer-events":"auto"},attrs:{icon:"menu",color:"black",size:"md"},on:{click:function(t){e.side_left=!e.side_left}}},[e._v("\n            select devices\n          ")])],1)]):!e.devices.length&&e.hasDevicesInit?i("div",{staticClass:"floated no-devices"},[i("span",{staticClass:"no-devices__message"},[e._v("You have no devices")]),i("div",{staticClass:"q-mt-sm text-bg-grey-9",staticStyle:{"font-size":"1.3rem"}},[e._v("\n          Create one on\n          "),i("q-btn",{staticStyle:{"pointer-events":"auto"},attrs:{dense:"",color:"red-5",label:"flespi.io"},on:{click:function(t){return e.openURL("https://flespi.io")}}})],1)]):e._e(),e.devices.length?i("q-btn",{staticClass:"floated mode",attrs:{small:"",dense:"",flat:"",size:"md",icon:1===e.mode?"playlist_play":"history"},on:{click:e.changeMode}},[i("q-tooltip",[e._v("Change mode (History/Real-time)")])],1):e._e(),e.$q.platform.is.desktop?i("a",{staticClass:"floated github",attrs:{href:"https://github.com/flespi-software/TrackIt/",target:"_blank"}},[i("q-btn",{attrs:{flat:"",round:"",color:"bg-grey-9"}},[i("img",{staticStyle:{height:"30px"},attrs:{src:s("96f6"),alt:"GitHub"}}),i("q-tooltip",[e._v("Show on GitHub")])],1)],1):e._e(),i("q-btn",{staticClass:"floated options",attrs:{small:"",round:"",flat:"",size:"md"}},[i("q-icon",{attrs:{color:"bg-grey-9",name:"more_vert"}}),i("q-menu",{ref:"popover-menu"},[i("q-list",{staticClass:"scroll",staticStyle:{"min-width":"200px"},attrs:{link:"",separator:""}},[i("q-item",[i("q-toggle",{attrs:{disabled:!e.devices.length,icon:"dvr",label:"Messages"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowMessages,callback:function(t){e.$set(e.params,"needShowMessages",t)},expression:"params.needShowMessages"}})],1),i("q-item",[i("q-toggle",{attrs:{disable:1===e.mode||!e.devices.length,icon:"mdi-play",label:"Player",title:1===e.mode?"Only in history mode":""},on:{input:e.menuChangeHandler},model:{value:e.params.needShowPlayer,callback:function(t){e.$set(e.params,"needShowPlayer",t)},expression:"params.needShowPlayer"}})],1),i("q-item",[i("q-toggle",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disabled:!e.devices.length,icon:"av_timer",label:"Telemetry"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowTelemetry,callback:function(t){e.$set(e.params,"needShowTelemetry",t)},expression:"params.needShowTelemetry"}})],1),i("q-item",[i("q-toggle",{attrs:{disabled:!e.devices.length,icon:"pin_drop",label:"Names"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowNamesOnMap,callback:function(t){e.$set(e.params,"needShowNamesOnMap",t)},expression:"params.needShowNamesOnMap"}})],1),i("q-item",{staticClass:"within-iframe-hide",nativeOn:{click:function(t){return e.exitHandler(t)}}},[i("q-item-section",{staticClass:"q-pl-md",attrs:{avatar:""}},[i("q-icon",{attrs:{name:"exit_to_app"}})],1),i("q-item-section",[i("q-item-label",[e._v("Exit")])],1)],1)],1)],1)],1),i("map-component",{attrs:{activeDevices:e.activeDevices,deviceIdForWatch:e.deviceIdForWatch,params:e.params,mode:e.mode,date:e.date},on:{"update:telemetry-device-id":e.updateTelemetryDeviceId,"change:needShowMessages":function(t){e.params.needShowMessages=t}}})],1)],1)],1)},a=[],n=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("f751"),s("28a5"),s("6762"),s("2fdb"),s("c47a")),r=s.n(n),o=s("2b0e"),c=s("2f62"),l=s("a99f"),d=s("5ee7"),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"map-wrapper absolute-top-left absolute-bottom-right"},[s("div",{style:{height:e.mapHeight},attrs:{id:"map"}},[s("q-resize-observer",{on:{resize:e.onResize}})],1),Object.keys(e.messages).length&&(0===e.mode&&(e.params.needShowMessages||e.params.needShowPlayer)||1===e.mode&&e.params.needShowMessages)?s("queue",{ref:"queue",attrs:{devices:e.activeDevices,activeDevicesID:e.activeDevicesID,needShowMessages:e.params.needShowMessages,needShowPlayer:e.params.needShowPlayer,messages:e.allMessages,isAdmin:e.admin.flag,telemetryDeviceId:e.telemetryDeviceId,mode:e.mode,date:e.date,markers:e.markers},on:{send:e.prepareForSendMessage,play:e.playHandler,stop:e.stopHandler,"change:needShowTail":e.changeShowTail,"change:needShowMessages":function(t){e.$emit("change:needShowMessages",t)},"change:selected":function(t){e.selected=t},"update:color":e.updateColorHandler,"view-on-map":e.viewOnMapHandler}}):e._e(),s("post-message-modal",{ref:"postMessageModal",attrs:{currentPos:e.draggedMarker.markerCurrentPosition,deviceID:e.draggedMarker.markerID,lastMessage:e.lastMessage},on:{"update:marker":e.updateMarkerHandler,"update:dragged":e.updateFlagHandler}}),s("color-modal",{ref:"colorModal",model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)},h=[],u=s("967e"),f=s.n(u),g=(s("96cf"),s("3846"),s("7f7f"),s("e11eb")),p=(s("6cc5"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"absolute-bottom-left absolute-bottom-right",attrs:{id:"queue"}},[s("q-tab-panels",{staticStyle:{background:"rgba(0, 0, 0, .5)"},attrs:{animated:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.activeDevicesID,(function(t){return s("q-tab-panel",{key:"tab-panel-"+t,staticClass:"no-padding",attrs:{name:t.toString()}},[s("queue-item",{key:"tab-pane-"+t,attrs:{id:t,messages:e.messages[t],mode:e.mode,date:e.date,isAdmin:e.isAdmin,device:e.devices[t],needShowMessages:e.needShowMessages,needShowPlayer:e.needShowPlayer},on:{send:e.sendInitMessages,play:e.playHandler,stop:e.stopHandler,"change:needShowTail":function(t){e.$emit("change:needShowTail",t)},"change:needShowMessages":function(t){e.$emit("change:needShowMessages",t)},"view-on-map":function(t){e.$emit("view-on-map",t)}}})],1)})),1),s("q-tabs",{staticClass:"bg-grey-9",attrs:{align:"left","indicator-color":"white"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.activeDevicesID,(function(t){return s("q-tab",{key:"tab-"+t,attrs:{name:t.toString()},on:{click:function(s){e.messages[t].length&&e.markers[t]&&e.markers[t]._icon&&e.changeTabColorHandler(t)}}},[s("div",{staticClass:"text-white"},[e.messages[t].length&&e.markers[t]&&e.markers[t]._icon?s("div",{staticClass:"color-view q-mr-xs",style:{backgroundColor:e.markers[t].color},on:{click:function(s){return s.stopPropagation(),e.changeColorHandler(t)}}}):e._e(),e._v("\n        "+e._s(e.getNameById(t))+"\n      ")])])})),1),s("color-modal",{ref:"colorModal",model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)}),v=[],y=(s("6b54"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{style:[{height:e.height,position:"relative"}]},[!e.messages.length&&e.needShowMessages?s("div",{staticClass:"no-messages text-center"},[e._m(0),e.isAdmin&&1===e.mode?s("q-btn",{attrs:{color:"grey-9"},on:{click:function(t){return e.$emit("send",e.id)}}},[e._v("Send message")]):e._e()],1):e._e(),e.messages.length&&e.needShowMessages?s("div",{staticClass:"table__wrapper",style:{height:e.messages.length>1&&0===e.mode&&e.needShowPlayer?"calc(100% - 65px)":"100%"}},[s("messages",{staticStyle:{height:"100%"},attrs:{messages:e.messages,mode:e.mode,item:e.device,activeDeviceId:e.id,limit:0,date:e.date,activeMessagesIds:e.activeMessagesIndexes},on:{view:e.viewMessageHandler,"view-on-map":e.viewOnMapHandler}})],1):e._e(),0===e.mode&&e.needShowPlayer?s("div",{staticStyle:{display:"flex","background-color":"#424242"},style:{height:0===e.mode&&e.needShowMessages?"65px":"100%"}},[e.$q.platform.is.mobile?s("q-btn",{staticClass:"btn-less-padding",attrs:{icon:"more_vert",color:"white",size:"md",flat:""}},[s("q-menu",{ref:"popoverExtra"},[s("q-list",{staticClass:"scroll",staticStyle:{"min-width":"200px"},attrs:{link:"",separator:""}},[s("q-item",[s("q-toggle",{attrs:{icon:"dvr",label:"Messages"},on:{input:function(t){return e.$emit("change:needShowMessages",e.messagesFlag)}},model:{value:e.messagesFlag,callback:function(t){e.messagesFlag=t},expression:"messagesFlag"}})],1),s("q-item",[s("q-toggle",{attrs:{icon:"mdi-ray-end",label:"Tail"},on:{input:function(t){return e.$emit("change:needShowTail",e.needPolyline)}},model:{value:e.needPolyline,callback:function(t){e.needPolyline=t},expression:"needPolyline"}})],1)],1)],1)],1):e._e(),e.$q.platform.is.desktop?s("q-btn",{class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{icon:"mdi-ray-end",color:e.needPolyline?"blue":"white",size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.needPolyline=!e.needPolyline,e.$emit("change:needShowTail",e.needPolyline)}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Tail")]):e._e()],1):e._e(),e.$q.platform.is.desktop?s("q-btn",{class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{icon:"dvr",color:e.needShowMessages?"blue":"white",size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.messagesFlag=!e.messagesFlag,e.$emit("change:needShowMessages",e.messagesFlag)}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Messages")]):e._e()],1):e._e(),s("player",{ref:"player",attrs:{min:e.timeRange.min,max:e.timeRange.max},on:{next:e.playerNextHandler,prev:e.playerPrevHandler},model:{value:e.playerValue,callback:function(t){e.playerValue=t},expression:"playerValue"}})],1):e._e()])}),b=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-white",staticStyle:{"font-size":"3rem"}},[s("div",[e._v("No messages")]),s("div",{staticStyle:{"font-size":"1.5rem"}},[e._v("or position is empty")])])}],k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("virtual-scroll-list",{ref:"scrollList",attrs:{cols:e.cols,actions:e.actions,items:e.messages,date:e.from,mode:e.mode,viewConfig:e.viewConfig,colsConfigurator:"toolbar",i18n:e.i18n,theme:e.theme,title:"Messages"},on:{"change:pagination-prev":e.paginationPrevChangeHandler,"change:pagination-next":e.paginationNextChangeHandler,"change:date":e.dateChangeHandler,"change:date-prev":e.datePrevChangeHandler,"change:date-next":e.dateNextChangeHandler,"update:cols":e.updateColsHandler},scopedSlots:e._u([{key:"items",fn:function(t){var i=t.item,a=t.index,n=t.actions,r=t.cols,o=t.etcVisible,c=t.actionsVisible,l=t.itemHeight,d=t.rowWidth;return s("messages-list-item",{key:""+JSON.stringify(i)+a,attrs:{item:i,index:a,actions:n,cols:r,itemHeight:l,rowWidth:d,etcVisible:o,actionsVisible:c,selected:e.selected.includes(a)},on:{"item-click":e.viewMessageOnMap,action:e.actionHandler}})}}])}),s("message-viewer",{ref:"messageViewer",attrs:{message:"undefined"!==typeof e.selectedMessage?e.selectedMessage:{},inverted:""},on:{close:e.closeHandler}})],1)},w=[],D=s("de45"),x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{ref:"modal",on:{hide:function(t){return e.$emit("close")}}},[s("q-card",{class:{"bg-grey-9":void 0!==e.inverted},style:{minWidth:e.$q.platform.is.mobile?"100%":"30vw"}},[s("q-card-section",{staticClass:"scroll q-pa-none",style:{height:e.$q.platform.is.mobile?"calc(100% - 52px)":""}},[s("div",{staticClass:"layout-padding q-pa-md"},e._l(e.message,(function(t,i,a){return s("div",{key:a,staticClass:"row items-center"},[s("div",{staticClass:"text-weight-bold"},[s("span",{staticClass:"message-viewer__copy text-green cursor-pointer"},[s("q-icon",{attrs:{name:"mdi-content-copy"},nativeOn:{click:function(s){return e.copy(i+": "+t)}}})],1),s("span",{staticClass:"message-viewer__name text-white"},[e._v(e._s(i)+": ")]),s("span",{staticClass:"message-viewer__value text-green"},[e._v(e._s(e.getValue(i,t)))])])])})),0)]),s("q-separator",{attrs:{color:"white"}}),s("q-card-actions",{staticClass:"bg-grey-9 text-white",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:""},on:{click:function(t){return e.copy(e.message)}}},[e._v("Copy full message")]),s("q-btn",{attrs:{flat:""},on:{click:function(t){return e.$refs.modal.hide()}}},[e._v("Close")])],1)],1)],1)},M=[],C=s("bd4c"),S=s("cdde"),I={name:"MessageViewer",data:function(){return{date:C["a"]}},props:{message:{type:Object,required:!0},inverted:{type:Boolean}},methods:{show:function(){this.$refs.modal.show()},getValue:function(e,t){return"timestamp"===e?C["a"].formatDate(1e3*t,"DD/MM/YYYY HH:mm:ss"):t},copy:function(e){var t=this;Object(S["a"])(JSON.stringify(e)).then((function(e){t.$q.notify({color:"positive",icon:"content_copy",message:"Successfully copied",timeout:1e3})}),(function(e){t.$q.notify({color:"negative",icon:"content_copy",message:"Error coping",timeout:1e3})}))}}},j=I,q=s("2877"),_=Object(q["a"])(j,x,M,!1,null,null,null),P=_.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.item["__connectionStatus"]?s("div",{style:{height:e.itemHeight+"px",width:e.rowWidth+"px",border:"solid 1px #000",color:"#000",fontWeight:"bold",backgroundColor:"offline"===e.item.__connectionStatus?"#ff0":"#0f0",backgroundImage:"url(./statics/police.png)",overflow:"hidden",opacity:".7"},attrs:{title:e.date.formatDate(e.item.timestamp,"DD/MM/YYYY HH:mm:ss")}},e._l(Array(10),(function(t){return s("span",{key:t,staticClass:"uppercase",staticStyle:{padding:"0 5px","margin-left":"150px"},style:{backgroundColor:"offline"===e.item.__connectionStatus?"#ff0":"#0f0"}},[e._v(e._s(e.item["__connectionStatus"]))])})),0):s("div",{staticClass:"cursor-pointer",class:[e.item.__status?"missed-items":""],style:{height:e.itemHeight+"px",width:e.rowWidth+"px",backgroundColor:e.item["x-flespi-inited-by-telemetry"]?"rgba(111, 101, 19, 0.7)":e.selected?"rgba(255,255,255,0.7)":"",color:e.selected?"#333":"",borderBottom:e.item.delimiter?"solid 1px #f40":""},on:{click:function(t){return e.itemClickHandler(e.index,e.clearItem)}}},[e.actionsVisible?s("span",{staticClass:"list__item item_actions"},e._l(e.actions,(function(t,i){return s("q-icon",{key:i,staticClass:"cursor-pointer on-left",class:t.classes,attrs:{name:t.icon},nativeOn:{click:function(s){return s.stopPropagation(),e.clickHandler(e.index,t.type,e.clearItem)}}},[s("q-tooltip",[e._v(e._s(t.label))])],1)})),1):e._e(),e._l(e.cols,(function(t,i){var a;return s("span",{key:t.name+i,staticClass:"list__item",class:(a={},a["item_"+i]=!0,a),attrs:{title:e.values[t.name].value}},[e._v("\n    "+e._s(e.values[t.name].value)+"\n  ")])})),e.etcVisible?s("span",{staticClass:"list__item item_etc"},[e._v(e._s(e.values.etc.value||"*Empty*"))]):e._e()],2)},O=[],A=s("8993"),H=s.n(A),N={props:["item","index","actions","cols","itemHeight","etcVisible","rowWidth","actionsVisible","selected"],data:function(){return{date:C["a"]}},computed:{values:function(){var e=this,t={};return t=this.cols.length?this.cols.reduce((function(e,t,s,i){return e[t.name]={value:null},s===i.length-1&&(e.etc={value:""}),e}),{}):{etc:{value:""}},Object.keys(this.item).forEach((function(s){if(-1!==s.indexOf("#")){var i=s.split("#"),a=i[0],n=i[1];if(t[a]){if(t[a].value){if("object"!==H()(t[a].value)){var o=t[a].value;t[a].value=r()({},n-1,o)}}else t[a].value={};t[a].value[n]=e.getValue(e.item[s])}else t.etc.value+="".concat(s,": ").concat(e.getValue(e.item[s]),"; ")}else if(t[s]){var c=e.item[s];-1!==s.indexOf("timestamp")&&(c=C["a"].formatDate(1e3*c,"DD/MM/YYYY HH:mm:ss")),-1!==s.indexOf("image.bin.")&&(c="<binary image>"),t[s].value=e.getValue(c)}else{if("delimiter"===s||"__status"===s||"x-flespi-inited-by-telemetry"===s)return!1;-1!==s.indexOf("image.bin.")?t.etc.value+="".concat(s,": <binary image>"):t.etc.value+="".concat(s,": ").concat(e.getValue(e.item[s]),"; ")}})),Object.keys(t).forEach((function(e){if("object"===H()(t[e].value)&&t[e].value)if(t[e].value instanceof Array){var s=t[e].value.reduce((function(e,t,s,i){return e+=t,s!==i.length-1&&(e+=", "),e}),"");t[e].value=s}else if(t[e].value instanceof Object){var i=Object.keys(t[e].value).reduce((function(s,i,a,n){return s+="".concat(i,": ").concat(t[e].value[i]),a!==n.length-1&&(s+=", "),s}),"");t[e].value=i}})),t},clearItem:function(){var e=this;return Object.keys(this.item).reduce((function(t,s){return"delimiter"===s||"__status"===s||"uuid"===s||"x-flespi-filter-fields"===s||"x-flespi-filter-next"===s||"x-flespi-filter-prev"===s||"x-flespi-inited-by-telemetry"===s?t:(t[s]=e.item[s],t)}),{})}},methods:{clickHandler:function(e,t,s){this.$emit("action",{index:e,type:t,content:s})},itemClickHandler:function(e,t){this.$emit("item-click",{index:e,content:t})},getValue:function(e){return"string"===typeof e?e:JSON.stringify(e)}}},E=N,B=(s("1d4d"),Object(q["a"])(E,T,O,!1,null,null,null)),z=B.exports,F={actions:[{icon:"mdi-eye",label:"view",classes:"",type:"view"}],viewConfig:{needShowFilter:!1,needShowMode:!1,needShowPageScroll:!1,needShowDate:!1,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}},$={props:["mode","item","activeDeviceId","limit","messages","date","activeMessagesIds"],data:function(){return{selectedMessage:void 0,theme:F.theme,i18n:{},viewConfig:F.viewConfig,actions:F.actions,moduleName:this.activeDeviceId}},computed:{cols:{get:function(){return this.$store.state.messages[this.moduleName].cols},set:function(e){this.$store.commit("messages/".concat(this.moduleName,"/updateCols"),e)}},from:{get:function(){return this.$store.state.messages[this.moduleName].from},set:function(e){e?this.$store.commit("messages/".concat(this.moduleName,"/setFrom"),e):this.$store.commit("messages/".concat(this.moduleName,"/setFrom"),0)}},to:{get:function(){return this.$store.state.messages[this.moduleName].to},set:function(e){e?this.$store.commit("messages/".concat(this.moduleName,"/setTo"),e):this.$store.commit("messages/".concat(this.moduleName,"/setTo"),0)}},reverse:{get:function(){return this.$store.state.messages[this.moduleName].reverse||!1},set:function(e){this.$store.commit("messages/".concat(this.moduleName,"/setReverse"),e)}},currentLimit:{get:function(){return this.$store.state.messages[this.moduleName].limit},set:function(e){e?this.$store.commit("messages/".concat(this.moduleName,"/setLimit"),e):this.$store.commit("messages/".concat(this.moduleName,"/setLimit"),0)}},selected:{get:function(){return this.$store.state.messages[this.moduleName].selected},set:function(e){this.$store.commit("messages/".concat(this.moduleName,"/setSelected"),e)}}},methods:{resetParams:function(){this.$refs.scrollList.resetParams()},setTranslate:function(e){this.i18n.from=e.length?"Previous batch until ".concat(C["a"].formatDate(1e3*e[0].timestamp,"HH:mm:ss")):"Prev",this.i18n.to=e.length?"Next batch from ".concat(C["a"].formatDate(1e3*e[e.length-1].timestamp,"HH:mm:ss")):"Next"},updateColsHandler:function(e){this.cols=e},dateChangeHandler:function(e){e=new Date(e).setHours(0,0,0,0),this.$store.dispatch("messages/".concat(this.moduleName,"/get"),{name:"setDate",payload:e})},datePrevChangeHandler:function(){this.$store.dispatch("messages/".concat(this.moduleName,"/get"),{name:"datePrev"})},dateNextChangeHandler:function(){this.$store.dispatch("messages/".concat(this.moduleName,"/get"),{name:"dateNext"})},paginationPrevChangeHandler:function(){var e=0;e=this.messages.length?1e3*this.messages[0].timestamp:0,this.$store.dispatch("messages/".concat(this.moduleName,"/get"),{name:"paginationPrev",payload:e})},paginationNextChangeHandler:function(){var e=0;e=this.messages.length?1e3*this.messages[this.messages.length-1].timestamp:0,this.$store.dispatch("messages/".concat(this.moduleName,"/get"),{name:"paginationNext",payload:e})},viewMessagesHandler:function(e){var t=e.index,s=e.content;this.selected=[t],this.selectedMessage=s,this.$refs.messageViewer.show(),this.$emit("view")},viewMessageOnMap:function(e){e.index;var t=e.content;this.$emit("view-on-map",t)},closeHandler:function(){this.selected=[],this.selectedMessage=void 0,this.activeMessagesIds.length&&(this.selected=[this.activeMessagesIds[this.activeMessagesIds.length-1]])},copyMessageHandler:function(e){var t=this,s=(e.index,e.content);Object(S["a"])(JSON.stringify(s)).then((function(e){t.$q.notify({color:"positive",icon:"content_copy",message:"Message copied",timeout:1e3})}),(function(e){t.$q.notify({color:"negative",icon:"content_copy",message:"Error coping messages",timeout:1e3})}))},actionHandler:function(e){var t=e.index,s=e.type,i=e.content;switch(s){case"view":this.viewMessagesHandler({index:t,content:i});break}},unselect:function(){this.selected.length&&(this.selected=[])},highlightSelected:function(e){var t=this;e.length&&e.forEach((function(e){t.selected=[e]}))}},watch:{limit:function(e){this.currentLimit=e},activeMessagesIds:function(e){this.highlightSelected(e)}},created:function(){return f.a.async((function(e){while(1)switch(e.prev=e.next){case 0:this.currentLimit=this.limit,this.highlightSelected(this.activeMessagesIds);case 2:case"end":return e.stop()}}),null,this)},destroyed:function(){this.$store.commit("messages/".concat(this.moduleName,"/clearSelected"))},components:{VirtualScrollList:D["a"],MessagesListItem:z,MessageViewer:P}},L=$,W=(s("295b"),Object(q["a"])(L,k,w,!1,null,null,null)),Y=W.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"flex","background-color":"#424242",width:"100%"}},[s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{disable:e.max<=e.min,size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""}},[e._v("\n    x"+e._s(e.speed)+"\n    "),s("q-menu",{ref:"speedPopover",staticStyle:{"background-color":"#424242"},attrs:{anchor:"top left"}},[s("div",{staticClass:"column"},[s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=100}}},[e._v("x100")]),s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=70}}},[e._v("x70")]),s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=50}}},[e._v("x50")]),s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=30}}},[e._v("x30")]),s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=10}}},[e._v("x10")]),s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=1}}},[e._v("x1")])],1)]),e.$q.platform.is.desktop?s("q-tooltip",[e._v("Speed")]):e._e()],1),s("q-btn",{directives:[{name:"touch-hold",rawName:"v-touch-hold.noMouse",value:e.playRepeatClickHandler,expression:"playRepeatClickHandler",modifiers:{noMouse:!0}}],staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{color:"play"===e.status?"blue":"white",disable:e.max<=e.min,size:e.$q.platform.is.desktop?"1.4rem":"md",icon:"play"===e.status?e.repeatFlag?"mdi-repeat":"mdi-pause":"mdi-play",flat:""},on:{click:[e.playClickHandler,function(t){return t.ctrlKey?e.playRepeatClickHandler(t):null}]}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Play/Pause (Ctrl+Click to repeat)")]):e._e(),e.$q.platform.is.mobile?s("q-tooltip",[e._v("Play/Pause (Touch hold to repeat)")]):e._e()],1),s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{disable:e.max<=e.min,icon:"mdi-skip-previous",size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){return e.$emit("prev")}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Prev message")]):e._e()],1),s("div",{staticClass:"player"},[s("div",{staticClass:"player__main"},[s("div",{ref:"playerContainer",staticClass:"player__container",staticStyle:{transform:"translate3d(0,0,0)"}},[e.max>e.min?s("q-range",{attrs:{color:"white",min:e.min,max:e.max,step:1},model:{value:e.range,callback:function(t){e.range=t},expression:"range"}}):e._e(),s("div",{staticClass:"player__line cursor-pointer",class:{disabled:e.max<=e.min},on:{click:e.clickLineHandler}},[s("div",{staticClass:"line line__disabled line__disabled--left",style:{width:100*(e.rangeMin-e.min)/(e.max-e.min)+"%"}}),s("div",{staticClass:"line line__active",style:{left:e.current+"%",width:100-e.current-100/e.max*(e.max-e.rangeMax)+"%"}}),s("div",{staticClass:"line line__disabled line__disabled--right",style:{width:100/(e.max-e.min)*(e.max-e.rangeMax)+"%"}})]),s("div",{directives:[{name:"touch-pan",rawName:"v-touch-pan.horizontal.mouse",value:e.dragPlayerControl,expression:"dragPlayerControl",modifiers:{horizontal:!0,mouse:!0}}],staticClass:"player__control cursor-pointer",class:{"player__control--mobile":e.$q.platform.is.mobile,disabled:e.max<=e.min},style:{left:e.current+"%"}})],1)])]),s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{disable:e.max<=e.min,icon:"mdi-skip-next",size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){return e.$emit("next")}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Next message")]):e._e()],1)],1)},R=[],J=s("1c16"),Z=s("e302"),G={name:"Player",props:["min","max","value"],data:function(){return{status:"pause",currentValue:this.value,rangeMin:this.min,rangeMax:this.max,timer:0,speed:10,percentsByPixel:0,current:0,repeatFlag:!1}},computed:{range:{get:function(){return{min:this.rangeMin,max:this.rangeMax}},set:function(e){this.stop(),this.currentValue<=e.min&&(this.currentValue=e.min),this.currentValue>e.max&&(this.currentValue=e.max,this.end()),this.rangeMin=e.min,this.rangeMax=e.max}}},mounted:function(){this.$refs.playerContainer&&(this.percentsByPixel=100/this.$refs.playerContainer.offsetWidth)},watch:{currentValue:Object(Z["a"])((function(e){this.$emit("input",Math.round(e))}),100),speed:Object(J["a"])((function(e){this.$refs.speedPopover.hide(),"play"===this.status&&(this.stop(),this.$nextTick(this.play))}),100),value:function(e){var t=(e-this.min)/(this.max-this.min)*100;if(this.checkNeedRedraw(t),e===this.currentValue)return!1;this.currentValue=e},min:function(e){this.rangeMin=e},max:function(e){this.rangeMax=e}},methods:{checkNeedRedraw:function(e){Math.abs(e-this.current)>=this.percentsByPixel&&(this.current=e)},playRepeatClickHandler:function(){this.repeatFlag=!this.repeatFlag,"pause"===this.status&&this.playClickHandler()},playClickHandler:function(){switch(this.status){case"pause":this.play();break;case"play":this.stop();break}},changeCurrent:function(){var e=this.currentValue+1;if(e>this.rangeMax)return this.stop(),!1;this.currentValue=e},play:function(){"pause"===this.status&&(this.status="play"),this.currentValue===this.max&&(this.currentValue=this.min),this.timer=setInterval(this.changeCurrent,1e3/this.speed)},stop:function(){var e=this;if(this.repeatFlag&&this.currentValue===this.max)return setTimeout((function(){e.currentValue=e.min}),600),!1;this.timer&&(clearInterval(this.timer),this.timer=0,"play"===this.status&&(this.end(),this.status="pause"))},end:function(){var e=this;this.value!==this.currentValue&&setTimeout((function(){e.$emit("input",e.currentValue)}),100)},getPlayerParams:function(){var e=this.$refs.playerContainer,t=e.getBoundingClientRect().left,s=e.offsetWidth,i=s/(this.max-this.min);return{left:t,width:s,step:i}},dragPlayerControl:function(e){if(this.max<=this.min)return!1;var t=this.getPlayerParams(),s=t.left,i=t.step,a=this.min+(e.position.left-s)/i;a<this.rangeMin&&(a=this.rangeMin),a>this.rangeMax&&(a=this.rangeMax),this.currentValue=e.isFinal?Math.round(a):a},clickLineHandler:function(e){if(this.max<=this.min)return!1;var t=e.clientX,s=this.getPlayerParams(),i=s.left,a=s.step,n=this.min+(t-i)/a;if(this.currentValue!==n){if(n<this.rangeMin||n>this.rangeMax)return!1;this.currentValue=Math.round(n)}},beforeDestroy:function(){this.stop()}}},Q=G,U=(s("e72c"),Object(q["a"])(Q,V,R,!1,null,null,null)),X=U.exports,K={name:"QueueItem",props:["id","messages","mode","date","isAdmin","device","needShowMessages","needShowPlayer"],data:function(){return{playerValue:0,activeMessagesIndexes:[],needPolyline:!1,messagesFlag:this.needShowMessages}},computed:{timeRange:function(){return this.messages.length?{min:Math.floor(this.messages[0].timestamp),max:Math.floor(this.messages[this.messages.length-1].timestamp)}:{min:0,max:0}},indexesByTimestamp:function(){return this.messages.reduce((function(e,t,s){var i=Math.floor(t.timestamp);return e[i]||(e[i]=[]),e[i].push(s),e}),{})},height:function(){return 0===this.mode&&this.messages.length?this.needShowMessages&&!this.needShowPlayer?"20vh":!this.needShowMessages&&this.needShowPlayer?"65px":"30vh":this.needShowMessages&&this.needShowPlayer?"205px":this.needShowMessages&&!this.needShowPlayer?"20vh":!this.needShowMessages&&this.needShowPlayer?"65px":"0vh"}},methods:{getCurrentActiveTimestamp:function(){var e=this,t=0,s=Object.keys(this.indexesByTimestamp);return s.every((function(s,i){return e.playerValue>=s&&(t=s,!0)})),t},update:function(e){this.$emit("play",{id:this.id,messagesIndexes:this.indexesByTimestamp[e]}),this.activeMessagesIndexes=this.indexesByTimestamp[e]},playerNextHandler:function(){var e=Object.keys(this.indexesByTimestamp),t=e.indexOf(this.getCurrentActiveTimestamp());if(t===e.length-1)return this.$q.notify({message:"That`s last message",color:"info",position:"bottom-left"}),!1;this.playerValue=e[t+1]},playerPrevHandler:function(){var e=Object.keys(this.indexesByTimestamp),t=e.indexOf(this.getCurrentActiveTimestamp());if(0===t)return this.$q.notify({message:"That`s first message",color:"info",position:"bottom-left"}),!1;this.playerValue=e[t-1]},viewMessageHandler:function(){this.$refs.player&&this.$refs.player.stop()},viewOnMapHandler:function(e){this.$emit("view-on-map",e)}},watch:{playerValue:function(e,t){var s=0,i=!0,a=Object.keys(this.indexesByTimestamp);a.every((function(n,r){return e>=n?(s=n,r===a.length-1&&(i=!1),!0):((t>=n||t<s)&&(i=!1),!1)})),i||this.update(s)},needShowMessages:function(e){this.messagesFlag=e},messages:function(e){if(0===this.mode&&e.length){var t=Math.floor(e[0].timestamp);this.playerValue=e.length?Math.floor(e[0].timestamp):0,this.update(t)}}},components:{Messages:Y,Player:X},beforeDestroy:function(){if(0===this.mode&&this.messages.length){var e=Math.floor(this.messages[this.messages.length-1].timestamp);this.update(e)}},created:function(){if(0===this.mode&&this.messages.length){var e=Math.floor(this.messages[0].timestamp);this.playerValue=this.messages.length?Math.floor(this.messages[0].timestamp):0,this.update(e)}}},ee=K,te=(s("994d"),Object(q["a"])(ee,y,b,!1,null,null,null)),se=te.exports,ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{ref:"colorModal",staticClass:"color-modal",attrs:{minimized:"","content-css":{minWidth:"240px",minHeight:"201px"}}},[s("div",{staticStyle:{"background-color":"#444",height:"20px"},attrs:{slot:"header"},slot:"header"},[s("q-icon",{staticClass:"absolute-top-right cursor-pointer",attrs:{color:"white",name:"close",size:"1rem",flat:""},nativeOn:{click:function(t){return e.modalButtonCloseHandler(t)}}})],1),s("q-color",{attrs:{dark:"",value:e.color,"format-model":"hex"},on:{change:e.modalSubmit}})],1)},ae=[],ne={name:"ColorModal",props:["value"],data:function(){return{color:"#fff"}},methods:{modalSubmit:function(e){this.$emit("input",e),this.currentColorId=0,this.color="#fff",this.$refs.colorModal.hide(),this.$emit("hide")},modalButtonCloseHandler:function(){this.color="#fff",this.$refs.colorModal.hide(),this.$emit("hide")},show:function(){this.$refs.colorModal.show()}}},re=ne,oe=Object(q["a"])(re,ie,ae,!1,null,"635ec68d",null),ce=oe.exports,le={name:"Queue",props:["messages","activeDevicesID","devices","isAdmin","telemetryDeviceId","mode","date","needShowMessages","needShowPlayer","markers"],data:function(){var e=this;return{selected:this.activeDevicesID.length?this.activeDevicesID[0].toString():"",telemetryOfActiveDevices:this.devices.filter((function(t){return e.activeDevicesID.includes(t.id)})).reduce((function(e,t){return e[t.id]=t.telemetry?t.telemetry:null,e}),{}),playerValue:0,currentColorModel:"#fff",currentColorId:0}},computed:{color:{get:function(){return this.currentColorModel},set:function(e){this.$emit("update:color",{id:this.currentColorId,color:e}),this.currentColorModel=e}}},methods:{getNameById:function(e){return this.devices.filter((function(t){return t.id===e}))[0].name||"<#".concat(e,">")},sendInitMessages:function(e){this.$emit("send",e)},playHandler:function(e){this.$emit("play",e)},stopHandler:function(e){this.$emit("stop",e)},changeColorHandler:function(e){this.currentColorId=e,this.currentColorModel=this.markers[e].color,this.$refs.colorModal.show()},changeTabColorHandler:function(e){e.toString()===this.selected&&this.changeColorHandler(e)}},created:function(){this.activeDevicesID.length&&this.$emit("change:selected",parseInt(this.activeDevicesID[0]))},watch:{devices:{deep:!0,handler:function(e){var t=this;this.telemetryOfActiveDevices=e.filter((function(e){return t.activeDevicesID.includes(e.id)})).reduce((function(e,t){return e[t.id]=t.telemetry?t.telemetry:null,e}),{})}},activeDevicesID:function(e){this.telemetryOfActiveDevices=this.devices.filter((function(t){return e.includes(t.id)})).reduce((function(e,t){return e[t.id]=t.telemetry?t.telemetry:null,e}),{}),e.length||(this.selected=""),this.selected&&e.includes(parseInt(this.selected))||!e.length||(this.selected=e[0].toString())},telemetryDeviceId:function(e){e&&(this.selected=e.toString())},selected:function(e){this.$emit("change:selected",parseInt(e))}},components:{QueueItem:se,ColorModal:ce}},de=le,me=(s("4846"),Object(q["a"])(de,p,v,!1,null,null,null)),he=me.exports,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{ref:"postMessageModal",attrs:{"content-css":{minWidth:"50vw",minHeight:"50vh"}},on:{show:e.modalOpenHandler}},[s("q-toolbar",{staticClass:"bg-grey-9",attrs:{slot:"footer"},slot:"footer"},[s("q-btn",{staticClass:"full-width",attrs:{flat:""},on:{click:e.modalSubmit}},[e._v("Send")])],1),s("q-toolbar",{staticClass:"bg-grey-9",attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"header__label"},[e._v("Send message")]),s("q-icon",{staticClass:"absolute-top-right cursor-pointer",attrs:{name:"close",size:"2.5rem",flat:""},nativeOn:{click:function(t){return e.modalButtonCloseHandler(t)}}})],1),s("div",{staticClass:"modal__wrapper"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 col-sm-12"},[s("q-input",{attrs:{label:"Latitude",placeholder:"Latitude"},model:{value:e.currentPos.lat,callback:function(t){e.$set(e.currentPos,"lat",t)},expression:"currentPos.lat"}}),s("q-input",{attrs:{label:"Longitude",placeholder:"Longitude"},model:{value:e.currentPos.lng,callback:function(t){e.$set(e.currentPos,"lng",t)},expression:"currentPos.lng"}})],1),s("div",{staticClass:"text-center col-md-5 offset-md-1 col-sm-12"},[s("q-knob",{attrs:{min:0,max:360},model:{value:e.direction,callback:function(t){e.direction=t},expression:"direction"}},[s("div",{staticClass:"direction",style:{transform:"rotate("+(e.direction-45)+"deg)"}})])],1),s("div",{staticClass:"col-4"},[s("q-input",{attrs:{type:"number",min:-100,max:1e4,label:"Altitude",placeholder:"Altitude"},model:{value:e.altitude,callback:function(t){e.altitude=t},expression:"altitude"}})],1),s("div",{staticClass:"col-4"},[s("q-input",{attrs:{type:"number",min:0,label:"Satellites",placeholder:"Satellites"},model:{value:e.satellites,callback:function(t){e.satellites=t},expression:"satellites"}})],1),s("div",{staticClass:"col-4"},[s("q-input",{attrs:{type:"number",min:0,label:"Speed",placeholder:"Speed"},model:{value:e.speed,callback:function(t){e.speed=t},expression:"speed"}})],1),s("div",{staticClass:"col-12"},[e._v("Custom properties")]),s("div",{staticClass:"col-4"},[e._v("\n        Key\n      ")]),s("div",{staticClass:"col-8"},[e._v("\n        Value\n      ")]),s("div",{staticClass:"col-4"},[s("q-input",{attrs:{type:"text",placeholder:"Key"},model:{value:e.current_custom_field.key,callback:function(t){e.$set(e.current_custom_field,"key",t)},expression:"current_custom_field.key"}})],1),s("div",{staticClass:"col-4 text-center vertical-middle",staticStyle:{"line-height":"3.5rem"}},["number"==e.type_current_field?s("q-input",{attrs:{type:"number",placeholder:"Value"},model:{value:e.current_custom_field.value,callback:function(t){e.$set(e.current_custom_field,"value",t)},expression:"current_custom_field.value"}}):e._e(),"string"==e.type_current_field?s("q-input",{attrs:{type:"text",placeholder:"Value"},model:{value:e.current_custom_field.value,callback:function(t){e.$set(e.current_custom_field,"value",t)},expression:"current_custom_field.value"}}):e._e(),"bool"==e.type_current_field?s("q-checkbox",{model:{value:e.current_custom_field.value,callback:function(t){e.$set(e.current_custom_field,"value",t)},expression:"current_custom_field.value"}}):e._e()],1),s("div",{staticClass:"col-2"},[s("q-select",{attrs:{options:e.types_current_field},on:{change:e.inputChange},model:{value:e.type_current_field,callback:function(t){e.type_current_field=t},expression:"type_current_field"}})],1),s("div",{staticClass:"col-2 relative-position"},[s("q-icon",{staticClass:"pull-right cursor-pointer absolute-bottom-right",staticStyle:{bottom:"10px"},attrs:{name:"add",size:"2rem",flat:""},nativeOn:{click:function(t){return e.addCustomFieldHandler(t)}}})],1)]),e._l(e.custom,(function(t,i){return s("div",{key:i,staticClass:"row",staticStyle:{"margin-top":"10px"}},[s("div",{staticClass:"col-5 ellipsis"},[e._v("\n        "+e._s(i)+"\n      ")]),s("div",{staticClass:"col-5 ellipsis"},[e._v("\n        "+e._s(t)+"\n      ")]),s("div",{staticClass:"col-2"},[s("q-icon",{staticClass:"pull-right cursor-pointer",attrs:{name:"remove",size:"1.5rem",flat:""},nativeOn:{click:function(t){return e.removeCustomFieldHandler(i)}}})],1)])}))],2)],1)},fe=[],ge={props:["currentPos","deviceID","lastMessage"],data:function(){return{type_current_field:"string",types_current_field:[{label:"String",value:"string"},{label:"Number",value:"number"},{label:"Boolean",value:"bool"}],current_custom_field:{key:null,value:null},altitude:0,speed:0,satellites:0,direction:0,custom:{}}},methods:{show:function(){this.$refs.postMessageModal.show()},modalOpenHandler:function(){this.direction=this.lastMessage&&this.lastMessage["position.direction"]?this.lastMessage["position.direction"]:0;var e=Object.keys(this.lastMessage).length?[this.lastMessage["position.latitude"],this.lastMessage["position.longitude"]]:[51.50853,-.12574];this.$emit("update:marker",{id:this.deviceID,lastPos:e})},modalSubmit:function(){var e=Object.assign({"position.latitude":this.currentPos.lat,"position.longitude":this.currentPos.lng,"position.altitude":this.altitude,"position.direction":this.direction,"position.satellites":this.satellites,"position.speed":this.speed},this.custom);this.$store.dispatch("postMessage",{data:e,id:this.deviceID}),this.$emit("update:dragged",!1),this.altitude=0,this.satellites=0,this.speed=0,this.custom={},this.type_current_field="string",this.current_custom_field={key:null,value:null},this.$refs.postMessageModal.hide()},modalButtonCloseHandler:function(){this.$emit("update:dragged",!1),this.$refs.postMessageModal.hide()},addCustomFieldHandler:function(){this.current_custom_field.key&&(o["default"].set(this.custom,this.current_custom_field.key,this.current_custom_field.value),this.current_custom_field.key=null,this.current_custom_field.value=null,this.type_current_field="string")},removeCustomFieldHandler:function(e){o["default"].delete(this.custom,e)},inputChange:function(e){switch(e){case"number":this.current_custom_field.value=0;break;case"string":this.current_custom_field.value="";break;case"bool":this.current_custom_field.value=!1;break}}}},pe=ge,ve=(s("34e5"),Object(q["a"])(pe,ue,fe,!1,null,null,null)),ye=ve.exports,be=s("bc78"),ke=s("1732"),we=function(e){return e},De={};function xe(e){var t=e.name,s=e.duration,i=void 0===s?300:s,a=e.to,n=e.from,r=e.apply,o=e.done,c=e.cancel,l=e.easing,d=t,m=new Date;d?Me(d):d=Object(ke["a"])();var h=l||we,u=function e(){var t=(new Date-m)/i;t>1&&(t=1);var s=n+(a-n)*h(t);if(r(s,t),1===t)return delete De[d],void(o&&o(s));f.last={pos:s,progress:t},f.timer=requestAnimationFrame(e)},f=De[d]={cancel:c,timer:requestAnimationFrame(u)};return d}function Me(e){if(e){var t=De[e];t&&t.timer&&(cancelAnimationFrame(t.timer),t.cancel&&t.cancel(t.last),delete De[e])}}var Ce={start:xe,stop:Me};function Se(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Ie(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(s),!0).forEach((function(t){r()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Se(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var je={name:"Map",props:["params","deviceIdForWatch","activeDevices","delay","mode","date"],data:function(){return{isDragged:!1,map:null,flyToZoom:15,markers:{},tracks:{},lastMessage:{},telemetryDeviceId:-1,activeDeviceID:0,activeDevicesID:[],draggedMarker:{markerCurrentPosition:[],markerID:0},openModalFlag:!1,admin:{flag:!1,counter:0,timerId:0},needShowTail:!1,selected:null,currentColorModel:"#fff",currentColorId:0}},computed:Ie({},Object(c["d"])({messages:function(e){return this.activeDevicesID.reduce((function(t,s){return t[s]=e.messages[s].messages.filter((function(e){return!!e["position.latitude"]&&!!e["position.longitude"]})),t}),{})},allMessages:function(e){return this.activeDevicesID.reduce((function(t,s){return t[s]=e.messages[s].messages,t}),{})}}),{color:{get:function(){return this.currentColorModel},set:function(e){this.updateColorHandler({id:this.currentColorId,color:e}),this.currentColorModel=e}},mapHeight:function(){var e="100%";return this.activeDevices.length?(1===this.mode?this.params.needShowMessages&&(e="calc(100% - 48px)"):0===this.mode&&(this.params.needShowMessages&&this.params.needShowPlayer?e="calc(100% - 113px)":this.params.needShowMessages&&!this.params.needShowPlayer?e="calc(100% - 48px)":!this.params.needShowMessages&&this.params.needShowPlayer&&(e="calc(100% - 65px)")),e):e}}),methods:{initMap:function(){var e=this;this.map||(this.map=g["map"]("map",{center:[51.50853,-.12574],zoom:3,maxBounds:[[90,-180],[-90,180]]}),this.map.addEventListener("zoom",(function(t){t.flyTo||(e.flyToZoom=t.target.getZoom())})),this.map.addEventListener("click",(function(t){g["DomUtil"].hasClass(e.map._container,"crosshair-cursor-enabled")&&(e.draggedMarker.markerCurrentPosition=t.latlng,g["DomUtil"].removeClass(e.map._container,"crosshair-cursor-enabled"),e.$refs.postMessageModal.show(),e.$emit("update:send-active",null)),e.admin.counter+=1,e.admin.timerId=setTimeout((function(){e.admin.timerId&&e.admin.counter,e.admin.timerId=0,e.admin.counter=0}),2e3)})),g["tileLayer"]("//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:3,noWrap:!0}).addTo(this.map))},flyToWithHideTracks:function(e,t){var s=this;this.map.once("zoomstart",(function(e){Object.keys(s.tracks).forEach((function(e){var t=s.tracks[e];t instanceof g["Polyline"]&&(t.tail&&t.tail instanceof g["Polyline"]&&s.map.removeLayer(t.tail),s.map.removeLayer(t))}))})),this.map.once("zoomend",(function(e){Object.keys(s.tracks).forEach((function(e){var t=s.tracks[e];t instanceof g["Polyline"]&&(s.map.addLayer(t),t.tail&&t.tail instanceof g["Polyline"]&&s.map.addLayer(t.tail))}))})),this.map.flyTo(e,t)},generateIcon:function(e,t,s){return g["divIcon"]({className:"my-div-icon icon-".concat(e),iconSize:new g["Point"](20,20),html:'<div style="border-color: '.concat(s,'" class="my-div-icon__inner"></div>').concat(this.params.needShowNamesOnMap?'<div class="my-div-icon__name">'.concat(t,"</div>"):"")})},getColor:function(){for(var e="0123456789ABCDEF",t="#".concat(e[Math.floor(5*Math.random())]),s=0;s<5;s++)t+=e[Math.floor(15*Math.random())];return t},getColorById:function(e){var t=this.$q.localStorage.getItem("trackit-colors-settings");return t||(t={}),t[e]||(t[e]=this.getColor()),this.$q.localStorage.set("trackit-colors-settings",t),t[e]},getAccuracyParams:function(e){var t=[e["position.latitude"],e["position.longitude"]],s=e["position.hdop"]||e["position.pdop"]||0,i={stroke:!0,color:"#444",weight:3,opacity:.5,fillOpacity:.15,fillColor:"#444",clickable:!1};return{position:t,accuracy:s,circleStyle:i}},initMarker:function(e,t,s){var i=this,a=this.messages[e][this.messages[e].length-1]["position.direction"]?this.messages[e][this.messages[e].length-1]["position.direction"]:0,n=this.tracks[e]&&this.tracks[e].options?this.tracks[e].options.color:this.markers[e]?this.markers[e].color:this.getColorById(e);this.markers[e]=g["marker"](s,{icon:this.generateIcon(e,t,n),draggable:this.admin.flag,title:t}),this.markers[e].id=e,this.markers[e].color=n;var r=this.getAccuracyParams(this.messages[e][this.messages[e].length-1]),o=r.position,c=r.accuracy,l=r.circleStyle;this.markers[e].accuracy=g["circle"](o,c,l),this.markers[e].accuracy.addTo(this.map),this.markers[e].addEventListener("dragstart",(function(e){i.isDragged=!0})),this.markers[e].addEventListener("dragend",(function(e){if(0===i.mode){i.$q.notify({message:"Change mode to real-time",color:"warning"});var t=[i.messages[e.target.id][i.messages[e.target.id].length-1]["position.latitude"],i.messages[e.target.id][i.messages[e.target.id].length-1]["position.longitude"]];return i.markers[e.target.id].setLatLng(t).update(),!1}i.draggedMarker.markerCurrentPosition=e.target.getLatLng(),i.draggedMarker.markerID=e.target.id,i.lastMessage=i.messages[e.target.id][i.messages[e.target.id].length-1]?i.messages[e.target.id][i.messages[e.target.id].length-1]:{},i.$refs.postMessageModal.show()})),this.markers[e].addEventListener("add",(function(t){if(document.querySelector(".icon-".concat(e," .my-div-icon__inner")).style.transform="rotate(".concat(a-45,"deg)"),i.messages[e]&&i.messages[e].length&&i.deviceIdForWatch===parseInt(e)){var s=document.querySelector(".icon-".concat(e," .my-div-icon__inner"));s.style.backgroundColor=s.style.borderColor}})),this.markers[e].addEventListener("click",(function(t){i.telemetryDeviceId=parseInt(e),i.$emit("update:telemetry-device-id",i.telemetryDeviceId)})),this.markers[e].addEventListener("move",(function(t){1===i.mode&&(document.querySelector(".icon-".concat(e," .my-div-icon__inner")).style.transform="rotate(".concat((i.messages[e][i.messages[e].length-1]["position.direction"]?i.messages[e][i.messages[e].length-1]["position.direction"]:0)-45,"deg)"))})),this.markers[e].addEventListener("contextmenu",(function(t){i.currentColorId=e,i.currentColorModel=i.markers[e].color,i.$refs.colorModal.show()})),this.markers[e].addTo(this.map)},initDeviceOnMap:function(e){var t=this.activeDevices.filter((function(t){return t.id===parseInt(e)}))[0];this.markers[e]||(this.markers[e]={},this.markers[e].id=e,this.markers[e].color=this.getColorById(e),this.tracks[e]={});var s=this.messages[e]&&this.messages[e].length;if(!s)return!1;var i=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]],a=t.name||"#".concat(e);if(this.initMarker(e,a,i),this.tracks[e]=g["polyline"](this.getLatLngArrByDevice(e),{color:this.markers[e].color}).addTo(this.map),parseInt(e)===this.selected&&0===this.mode){var n=this.tracks[e].getBounds();this.map.fitBounds(n)}},updateDeviceOnMap:function(e){var t=this.getLatLngArrByDevice(e),s=this.deviceIdForWatch&&this.markers[this.deviceIdForWatch]&&this.markers[this.deviceIdForWatch]instanceof g["Marker"]?this.markers[this.deviceIdForWatch].getLatLng():{},i=this.deviceIdForWatch&&this.messages[this.deviceIdForWatch]&&this.messages[this.deviceIdForWatch].length&&s.lat&&s.lat!==this.messages[this.deviceIdForWatch][this.messages[this.deviceIdForWatch].length-1]["position.latitude"]&&s.lng&&s.lng!==this.messages[this.deviceIdForWatch][this.messages[this.deviceIdForWatch].length-1]["position.longitude"];if(i){var a=t[t.length-1];this.flyToWithHideTracks(a,this.flyToZoom)}if(!t.length)return this.removeFlags(e),this.tracks[e].tail&&this.tracks[e].tail instanceof g["Polyline"]&&this.tracks[e].tail.remove(),this.markers[e].accuracy&&this.map.removeLayer(this.markers[e].accuracy),this.map.removeLayer(this.tracks[e]),this.map.removeLayer(this.markers[e]),this.tracks[e]={},this.markers[e]={color:this.markers[e].color||void 0,id:e},!1;if(!(this.markers[e]instanceof g["Marker"])){var n=this.activeDevices.filter((function(t){return t.id===parseInt(e)}))[0].name||"#".concat(e),r=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]];this.initMarker(e,n,r)}if(this.tracks[e]instanceof g["Polyline"]||(this.tracks[e]=g["polyline"](this.getLatLngArrByDevice(e),{color:this.markers[e]?this.markers[e].color:this.getColorById(e)}).addTo(this.map)),this.isDragged||(this.markers[e].setLatLng(t[t.length-1]).update(),this.markers[e].accuracy.setRadius(this.getAccuracyParams(this.messages[e][this.messages[e].length-1]).accuracy),this.markers[e].accuracy.setLatLng(t[t.length-1])),this.markers[e].setOpacity(1),this.tracks[e].setLatLngs(t),parseInt(e)===this.selected&&0===this.mode){var o=this.tracks[e].getBounds();this.map.fitBounds(o)}},getLatLngArrByDevice:function(e){return this.messages[e]?this.messages[e].reduce((function(e,t){return e.push([t["position.latitude"],t["position.longitude"]]),e}),[]):[]},prepareForSendMessage:function(e){this.draggedMarker.markerID=parseInt(e),this.lastMessage=this.messages[e]&&this.messages[e][this.messages[e].length-1]?this.messages[e][this.messages[e].length-1]:{},g["DomUtil"].addClass(this.map._container,"crosshair-cursor-enabled")},onResize:function(){this.map&&this.map.invalidateSize()},updateMarkerHandler:function(e){var t=e.id,s=e.lastPos;this.markers[t]&&this.markers[t]instanceof g["Marker"]?(this.markers[t].setLatLng(s).update(),this.markers[t].accuracy.setLatLng(s)):this.initDeviceOnMap(t)},updateFlagHandler:function(e){this.isDragged=e},removeMarker:function(e){this.markers[e]&&this.markers[e]instanceof g["Marker"]&&(this.removeFlags(e),this.map.removeLayer(this.markers[e].accuracy),this.markers[e].remove(),this.tracks[e].tail&&this.tracks[e].tail instanceof g["Polyline"]&&this.tracks[e].tail.remove(),this.tracks[e].remove()),o["default"].delete(this.markers,e),o["default"].delete(this.tracks,e)},flyToDevice:function(e){var t=this.activeDevices.filter((function(t){return t.id===e})),s=t.length?t[0]:null,i=s&&[];this.messages[e]&&this.messages[e].length&&(i=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]]),i.length?this.flyToWithHideTracks(i,this.flyToZoom):this.$q.notify({message:"No Position!",color:"warning"})},centerOnDevice:function(e){var t=this.activeDevices.filter((function(t){return t.id===e})),s=t.length?t[0]:null,i=s&&[];this.messages[e]&&this.messages[e].length&&(i=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]]),i.length?this.map.setView(i,14,{animation:!1}):this.$q.notify({message:"No Position!",color:"warning"})},generateFlag:function(e){var t=e.id,s=e.status;return g["divIcon"]({className:"my-flag-icon flag-".concat(s,"-").concat(t),iconSize:new g["Point"](45,45),html:'<i aria-hidden="true" style="color: '.concat("start"===s?be["a"].getBrand("positive"):be["a"].getBrand("negative"),';" class="my-flag-icon__inner mdi mdi-flag-variant-outline"></i>')})},addFlags:function(e){if(!this.markers[e])return!1;if(this.markers[e].flags||(this.markers[e].flags={start:{},stop:{}}),this.messages[e].length){var t=[this.messages[e][0]["position.latitude"],this.messages[e][0]["position.longitude"]],s=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]];this.markers[e].flags.start=g["marker"](t,{icon:this.generateFlag({id:e,status:"start"})}),this.markers[e].flags.start.addTo(this.map),this.markers[e].flags.stop=g["marker"](s,{icon:this.generateFlag({id:e,status:"stop"})}),this.markers[e].flags.stop.addTo(this.map)}},removeFlags:function(e){if(!this.markers[e]||!this.markers[e].flags||!(this.markers[e].flags.start instanceof g["Marker"])||!(this.markers[e].flags.stop instanceof g["Marker"]))return!1;this.markers[e].flags.start.remove(),this.markers[e].flags.stop.remove(),this.markers[e].flags=void 0},modeChangeById:function(e){var t,s;return f.a.async((function(i){while(1)switch(i.prev=i.next){case 0:if(t=null!==this.$store.state.messages[e].mode,this.$store.commit("messages/".concat(e,"/clearMessages")),this.$store.commit("messages/".concat(e,"/setMode"),this.mode),1!==this.mode||!t){i.next=10;break}return this.$store.commit("messages/".concat(e,"/setTo"),Date.now()),i.next=7,f.a.awrap(this.$store.dispatch("messages/".concat(e,"/getHistory"),200));case 7:if(this.$store.state.messages[e].messages.length){i.next=10;break}return i.next=10,f.a.awrap(this.$store.dispatch("getInitDataByDeviceId",e));case 10:if(0!==this.mode){i.next=15;break}return s=new Date(this.date).setHours(0,0,0,0),i.next=14,f.a.awrap(this.$store.dispatch("messages/".concat(e,"/get"),{name:"setDate",payload:s}));case 14:this.addFlags(e);case 15:case"end":return i.stop()}}),null,this)},initDevice:function(e){var t=this;return f.a.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.$q.loading.show(),!e){s.next=5;break}return this.$store.commit("messages/".concat(e,"/setActive"),e),s.next=5,f.a.awrap(this.$store.dispatch("messages/".concat(e,"/getCols")));case 5:if(null!==this.$store.state.messages[e].mode){s.next=16;break}return s.next=8,f.a.awrap(this.modeChangeById(e));case 8:return s.next=10,f.a.awrap(this.$store.dispatch("messages/".concat(e,"/pollingGet")));case 10:if(1!==this.mode){s.next=16;break}return s.next=13,f.a.awrap(this.$store.dispatch("messages/".concat(e,"/getHistory"),200));case 13:if(this.$store.state.messages[e].messages.length){s.next=16;break}return s.next=16,f.a.awrap(this.$store.dispatch("getInitDataByDeviceId",e));case 16:o["default"].connector.socket.on("offline",(function(){t.$store.commit("messages/".concat(e,"/setOffline"),1===t.mode)})),o["default"].connector.socket.on("connect",(function(){t.$store.state.messages[e].offline&&(t.$store.commit("messages/".concat(e,"/setReconnected"),1===t.mode),1===t.mode&&t.$store.dispatch("messages/".concat(e,"/getMissedMessages")))})),this.needInitWatchingDevice&&e===this.deviceIdForWatch&&(this.telemetryDeviceId=parseInt(e),this.$emit("update:telemetry-device-id",this.telemetryDeviceId),this.centerOnDevice(e)),this.$q.loading.hide();case 20:case"end":return s.stop()}}),null,this)},initActiveDeviceID:function(e){this.activeDeviceID=e||0},viewOnMapHandler:function(e){var t=this;if(e["position.latitude"]&&e["position.longitude"]){var s=[e["position.latitude"],e["position.longitude"]],i=g["divIcon"]({className:"my-highlight-icon",iconSize:new g["Point"](40,40),html:'<div class="my-highlight-icon__innner"></div>'}),a=g["marker"](s,{icon:i}),n=this.map.getZoom();this.flyToWithHideTracks(s,n>12?n:12),this.map.once("moveend",(function(){a.addTo(t.map);var e=document.querySelector(".my-highlight-icon__innner");Ce.start({from:20,to:40,duration:500,apply:function(t){e.style.height="".concat(t,"px"),e.style.width="".concat(t,"px"),e.style.transform="translate(".concat((40-t)/2,"px, ").concat((40-t)/2,"px)")},done:function(){a.remove()}})}))}else this.$q.notify({message:"Have no position",color:"warning",position:"bottom-left",icon:"mdi-alert-outline"})},playHandler:function(e){var t=this,s=e.id,i=e.messagesIndexes;if(!this.messages[s])return!1;i.forEach((function(e){if(t.markers[s]&&t.markers[s]instanceof g["Marker"]){var i=t.messages[s][e];if(!i||!i["position.latitude"]||!i["position.longitude"])return!1;var a=[i["position.latitude"],i["position.longitude"]];if(t.markers[s].setLatLng(a).update(),t.markers[s].accuracy.setRadius(t.getAccuracyParams(i).accuracy),t.markers[s].accuracy.setLatLng(a),i["position.direction"]){var n=document.querySelector(".icon-".concat(s," .my-div-icon__inner"));n&&(n.style.transform="rotate(".concat((i["position.direction"]?i["position.direction"]:0)-45,"deg)"))}}}));var a=i[i.length-1],n=a-10<0?0:a-10,r=this.messages[s].slice(n,a+1),o=r.map((function(e){return[e["position.latitude"],e["position.longitude"]]}));if(this.tracks[s]&&this.tracks[s]instanceof g["Polyline"]&&o.length){if(!this.tracks[s].tail||!(this.tracks[s].tail instanceof g["Polyline"]))return this.tracks[s].tail=g["polyline"](o,{color:"#666666"}),this.needShowTail&&this.tracks[s].tail.addTo(this.map),!0;this.tracks[s].tail.setLatLngs(o)}},stopHandler:function(e){e.id},changeShowTail:function(e){var t=this;Object.keys(this.tracks).forEach((function(s){t.tracks[s]&&t.tracks[s].tail&&t.tracks[s].tail instanceof g["Polyline"]&&(e?t.tracks[s].tail.addTo(t.map):t.tracks[s].tail.remove())}))},updateColorHandler:function(e){var t=e.id,s=e.color;this.tracks[t].setStyle({color:s}),this.markers[t].color=s,document.querySelector(".my-div-icon.icon-".concat(t," .my-div-icon__inner")).style.borderColor=s}},watch:{messages:{deep:!0,handler:function(e){var t=this,s=Object.keys(e),i=Object.keys(this.markers);if(!s.length)return Object.keys(this.markers).forEach((function(e){t.removeMarker(e)})),!1;if(s.length<i.length){var a=i.filter((function(e){return!s.includes(e)}))[0];return this.removeMarker(a),!1}s.forEach((function(s){if(!e[s].length)return t.activeDevices.filter((function(e){return e.id===parseInt(s)}))[0].telemetry||t.markers[s]?t.updateDeviceOnMap(s):t.initDeviceOnMap(s),!1;i.includes(s)?t.updateDeviceOnMap(s):t.initDeviceOnMap(s)}))}},activeDevices:function(e){var t=this,s=e.map((function(e){return e.id}));this.activeDeviceID||s.forEach((function(e){t.initActiveDeviceID(e)}));var i=Object.keys(this.messages).map((function(e){return parseInt(e)})),a=i.length>s.length?"remove":"add";switch(s.forEach((function(e){t.$store.state.messages[e]||(t.$store.registerModule(["messages",e],Object(D["b"])({Vue:o["default"],LocalStorage:t.$q.localStorage,name:"messages/".concat(e),errorHandler:function(e){t.$store.commit("reqFailed",e)}})),t.$store.commit("messages/".concat(e,"/setSortBy"),"timestamp"),t.$store.commit("messages/".concat(e,"/setLimit"),0))})),this.activeDevicesID=s,a){case"remove":var n=i.filter((function(e){return!s.includes(e)}));1===n.length&&n[0]?this.$store.commit("messages/".concat(n[0],"/clear")):n.length===i.length&&n.forEach((function(e){t.$store.commit("messages/".concat(e,"/clear"))}));break;case"add":var r=s.filter((function(e){return!i.includes(e)}));r&&r.forEach((function(e){t.initDevice(e)}));break}this.map&&g["DomUtil"].hasClass(this.map._container,"crosshair-cursor-enabled")&&g["DomUtil"].removeClass(this.map._container,"crosshair-cursor-enabled")},deviceIdForWatch:function(e){if(e){if(this.flyToDevice(e),document.querySelectorAll(".my-div-icon__inner").forEach((function(e){e.style.backgroundColor=""})),this.messages[e]&&this.messages[e].length){var t=document.querySelector(".my-div-icon.icon-".concat(e," .my-div-icon__inner"));t.style.backgroundColor=t.style.borderColor}}else document.querySelectorAll(".my-div-icon__inner").forEach((function(e){e.style.backgroundColor=""}))},"admin.flag":function(e){var t=this;e?(Object.keys(this.markers).forEach((function(e){t.markers[e]instanceof g["Marker"]&&t.markers[e].dragging.enable()})),this.$q.notify({message:"Send messages: enabled",color:"info",position:"bottom-left"})):(Object.keys(this.markers).forEach((function(e){t.markers[e]instanceof g["Marker"]&&t.markers[e].dragging.disable()})),this.$q.notify({message:"Send messages: disabled",color:"info",position:"bottom-left"}))},"params.needShowNamesOnMap":function(e){var t=this;Object.keys(this.markers).forEach((function(e){var s=t.activeDevices.filter((function(t){return t.id===parseInt(e)}))[0],i=t.messages[e]&&t.messages[e].length?[t.messages[e][t.messages[e].length-1]["position.latitude"],t.messages[e][t.messages[e].length-1]["position.longitude"]]:[],a=s.name||"#".concat(e);t.markers[e]instanceof g["Marker"]&&(t.markers[e].remove(),t.map.removeLayer(t.markers[e].accuracy),t.initMarker(e,a,i))}))},mode:function(){var e=this;this.activeDevicesID.forEach((function(t){return f.a.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,f.a.awrap(e.modeChangeById(t));case 2:case"end":return s.stop()}}))}))},date:function(e,t){var s=this;0===this.mode&&t&&this.activeDevicesID.forEach((function(e){return f.a.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(s.modeChangeById(e));case 2:case"end":return t.stop()}}))}))},selected:function(e){if(this.tracks[e]&&this.tracks[e]instanceof g["Polyline"]&&0===this.mode){var t=this.tracks[e].getBounds();this.map.fitBounds(t)}}},created:function(){var e=this;this.deviceIdForWatch&&(this.needInitWatchingDevice=!0),this.activeDevicesID=this.activeDevices.map((function(e){return e.id})),this.activeDevicesID.forEach((function(t){e.$store.registerModule(["messages",t],Object(D["b"])({Vue:o["default"],LocalStorage:e.$q.localStorage,name:"messages/".concat(t),errorHandler:function(t){e.$store.commit("reqFailed",t)}})),e.$store.commit("messages/".concat(t,"/setSortBy"),"timestamp"),e.initDevice(t)})),o["default"].connector.socket.on("offline",(function(){e.$store.commit("setSocketOffline",!0)})),o["default"].connector.socket.on("connect",(function(){e.$store.commit("setSocketOffline",!1)}))},destroyed:function(){var e=this;o["default"].connector.socket.off("offline"),o["default"].connector.socket.off("connect"),this.activeDevicesID.forEach((function(t){return f.a.async((function(s){while(1)switch(s.prev=s.next){case 0:e.$store.unregisterModule(["messages",t]);case 1:case"end":return s.stop()}}))}))},mounted:function(){this.initMap()},components:{Queue:he,PostMessageModal:ye,ColorModal:ce}},qe=je,_e=(s("577b"),Object(q["a"])(qe,m,h,!1,null,null,null)),Pe=_e.exports,Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-list",{attrs:{separator:""}},[s("q-item-label",{ref:"header",staticStyle:{height:"58px","line-height":"58px!important"}},[s("big",[s("q-icon",{staticClass:"cursor-pointer",staticStyle:{"margin-right":"15px"},attrs:{name:"mdi-arrow-left",size:"1.8rem"},nativeOn:{click:function(t){return e.$emit("click:hide")}}}),e._v("\n      Devices\n    ")],1)],1),s("VirtualList",{style:{height:e.height+"px"},attrs:{size:70,remain:e.itemsCount}},e._l(e.devices,(function(t){return s("device",{key:t.id,attrs:{device:t,activeDevicesID:e.activeDevicesID,isDeviceWatched:e.deviceIdForWatch===t.id},on:{"update:watch-by-id":e.setWatchByDeviceID}})})),1)],1)},Oe=[],Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-item",{class:[e.model?"device-item__active":"",e.device.messages_ttl?"":"disabled"],attrs:{highlight:e.$q.platform.is.desktop,clickable:""},on:{click:e.deviceClickHandler}},[e.device.messages_ttl?e._e():s("q-tooltip",[e._v("You should set messages ttl more than 0")]),s("q-item-section",{staticClass:"flex flex-center",class:[e.model?"text-primary":""],attrs:{avatar:""}},[s("q-icon",{attrs:{name:"developer_board"}}),s("small",[e._v("#"+e._s(e.device.id))])],1),s("q-item-section",[s("q-item-label",{staticClass:"ellipsis q-pa-none",attrs:{header:""}},[e._v(e._s(e.device.name||"<noname>"))]),s("small",[s("q-item-label",{staticClass:"ellipsis",attrs:{caption:""}},[s("q-icon",{attrs:{name:"label_outline"}}),e._v(" "+e._s(e.device.configuration&&e.device.configuration.ident?e.device.configuration.ident:"<no ident>"))],1),s("q-item-label",{attrs:{caption:""}},[s("q-icon",{attrs:{name:"phone"}}),e._v(" "+e._s(e.device.configuration&&e.device.configuration.phone?e.device.configuration.phone:"<no phone>"))],1)],1)],1),s("q-item-section",{staticClass:"text-center",attrs:{side:""}},[s("q-item-label",[s("q-icon",{class:[e.isDeviceWatched&&e.activeDevicesID.includes(e.device.id)?"icon__send-active":""],attrs:{size:"1.5rem",name:"gps_fixed"},nativeOn:{click:function(t){return t.stopPropagation(),e.watchDeviceHandler(t)}}},[e.device.messages_ttl?s("q-tooltip",{model:{value:e.watchTooltip,callback:function(t){e.watchTooltip=t},expression:"watchTooltip"}},[e._v("Show on map")]):e._e()],1)],1)],1)],1)},He=[],Ne={props:["device","activeDevicesID","isDeviceWatched"],data:function(){return{watchTooltip:!1}},computed:{model:function(){return this.activeDevicesID.includes(this.device.id)}},methods:{deviceClickHandler:function(){this.activeDevicesID.includes(this.device.id)?this.unsetActiveDevice():this.setActiveDevice()},setActiveDevice:function(){this.device.messages_ttl&&this.$store.commit("setActiveDevice",this.device.id)},unsetActiveDevice:function(){this.$store.commit("unsetActiveDevice",this.device.id)},watchDeviceHandler:function(){var e=this;if(!this.device.messages_ttl)return!1;this.activeDevicesID.includes(this.device.id)||this.setActiveDevice(),setTimeout((function(){e.isDeviceWatched?e.$emit("update:watch-by-id",null):e.$emit("update:watch-by-id",e.device.id)}),500),setTimeout((function(){e.watchTooltip=!1}),500)}}},Ee=Ne,Be=(s("dfed"),Object(q["a"])(Ee,Ae,He,!1,null,null,null)),ze=Be.exports,Fe=s("89c1"),$e=s.n(Fe),Le={name:"DeviceList",data:function(){return{unsubscribeDevices:function(){},itemsCount:0,height:0}},props:["devices","activeDevicesID","deviceIdForWatch"],components:{Device:ze,VirtualList:$e.a},methods:{setWatchByDeviceID:function(e){this.$emit("update:watch-by-id",e)},onResize:function(e){this.height=e-76,this.itemsCount=Math.floor((e-76)/70)}},watch:{"$q.screen.height":{immediate:!0,handler:function(e){this.onResize(e)}}}},We=Le,Ye=Object(q["a"])(We,Te,Oe,!1,null,null,null),Ve=Ye.exports,Re=s("9224"),Je=s("b06b");function Ze(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Ge(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(s),!0).forEach((function(t){r()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ze(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Qe={data:function(){return{deviceIdForWatch:null,deviceIdForTelemetry:null,params:{needShowMessages:!1,needShowTelemetry:!1,needShowNamesOnMap:!0,needShowPlayer:!0},side_left:!1,side_right:!1,telemetrySettings:{inverted:!0},mode:1,telemetrySearch:"",telemetryConfig:{propHistoryFlag:!0},version:Re.version,date:void 0,dateValue:void 0,dateConfig:{enableTime:!0,time_24hr:!0,inline:!0,maxDate:(new Date).setHours(23,59,59,999),mode:"single",locale:{firstDayOfWeek:1}},isInit:o["default"].connector.socket.connected(),unsubscribeDevices:function(){}}},computed:Ge({},Object(c["d"])({token:function(e){return e.token},devices:function(e){return e.devices},isLoading:function(e){return e.isLoading},activeDevicesID:function(e){var t=this;return 0===this.mode&&this.getLastUpdatePosition().then((function(e){t.date=e||void 0,t.dateValue=e||void 0})),e.activeDevicesID},hasDevicesInit:function(e){return e.hasDevicesInit},activeDevices:function(e){return e.devices.filter((function(t){return e.activeDevicesID.includes(t.id)}))},lastActiveDevicesUpdate:function(e){return this.activeDevicesID.reduce((function(t,s){var i=e.messages[s].messages.filter((function(e){return!!e["position.latitude"]&&!!e["position.longitude"]}));return i.length?t[s]=Math.floor(1e3*i[i.length-1].timestamp):t[s]=0,t}),{})},errors:function(e){return e.errors},newNotificationCounter:function(e){return e.newNotificationCounter},deviceForTelemetry:function(e){var t=this;return this.deviceIdForTelemetry?e.devices.filter((function(e){return e.id===t.deviceIdForTelemetry}))[0]:{}}})),components:{DeviceList:Ve,MapComponent:Pe,QTelemetry:d["a"],VueFlatPickr:l["a"]},methods:Ge({openURL:Je["a"]},Object(c["c"])(["setToken","clearToken","setDevicesInit","unsetDevicesInit","setActiveDevice","reqFailed","clearNotificationCounter","clearErrors"]),{},Object(c["b"])(["getLastUpdatePosition","poolDevices"]),{exitHandler:function(e){o["default"].connector.socket.off("error"),this.unsetDevicesInit(),this.clearToken(),this.$router.push("/login")},setWatchToDeviceID:function(e){this.updateTelemetryDeviceId(e),this.deviceIdForWatch=e},menuChangeHandler:function(e){this.$q.localStorage.set("TrackIt Params",this.params)},telemetrySettingsChangeHandler:function(){this.$set(this.telemetrySettings,"inverted",!this.telemetrySettings.inverted),this.$q.localStorage.set("TrackIt TelemetrySettings",this.telemetrySettings)},updateTelemetryDeviceId:function(e){var t=this;if(this.deviceIdForTelemetry===e)return this.setWatchToDeviceID(null),!1;var s=this.devices.filter((function(t){return t.id===e}));s.length?(this.deviceIdForTelemetry=e,this.deviceIdForWatch=e,this.params.needShowTelemetry&&this.deviceIdForTelemetry&&this.activeDevicesID.includes(this.deviceIdForTelemetry)&&setTimeout((function(){if(e===t.deviceIdForWatch&&t.$q.platform.is.mobile)return!1}),0)):this.deviceIdForTelemetry=null},changeMode:function(){var e=this;1===this.mode?this.getLastUpdatePosition().then((function(t){e.date=t||void 0,e.dateValue=t||void 0,e.mode=0})):(this.date=void 0,this.dateValue=void 0,this.mode=1)},formatDate:function(e){return C["a"].formatDate(e,"DD/MM/YYYY HH:mm:ss")},datePickerModalClose:function(){this.dateValue=this.date,this.$refs.datePickerModal.hide()},datePickerModalSave:function(){this.date=this.dateValue,this.$refs.datePickerModal.hide()},dateInputHandler:function(e){this.dateValue=e?e.setSeconds(0):new Date}}),watch:{token:function(e){e||this.$router.push("/login")},hasDevicesInit:function(e){e?this.$q.loading.hide():this.$q.loading.show()},deviceIdForWatch:function(e){e&&(this.side_left=!1)},devices:function(e,t){e.length||(this.side_left=!1,this.side_right=!1)},"params.needShowTelemetry":function(e){this.side_right=e}},created:function(){var e=this;if(this.$store.registerModule("telemetry",Object(d["b"])(this.$store,o["default"])),this.clearNotificationCounter(),this.clearErrors(),!this.token){if(this.$route.params.devices){var t=this.$route.params.devices.split(",").map((function(e){return+e}));t.forEach((function(t){e.setActiveDevice(t)}))}return this.$route.params.token?this.$router.push("/login/".concat(this.$route.params.token)):this.$router.push("/login"),!1}this.isInit||(o["default"].connector.socket.on("connect",(function(){e.isInit=!0,e.$q.loading.hide()})),this.$q.loading.show()),this.poolDevices().then((function(t){e.unsubscribeDevices=t})),this.activeDevicesID.length&&(this.$router.push("devices/".concat(this.activeDevicesID.join(","))),1===this.activeDevicesID.length&&(this.deviceIdForWatch=this.activeDevicesID[0]));var s=this.$q.localStorage.getItem("TrackIt Params");s&&(o["default"].set(this,"params",Object.assign(this.params,s)),this.side_right=s.needShowTelemetry);var i=this.$q.localStorage.getItem("TrackIt TelemetrySettings");i&&o["default"].set(this,"telemetrySettings",Object.assign(this.telemetrySettings,i))},destroyed:function(){this.unsubscribeDevices&&this.unsubscribeDevices(),o["default"].connector.socket.off("connect")}},Ue=Qe,Xe=(s("b656"),Object(q["a"])(Ue,i,a,!1,null,null,null));t["default"]=Xe.exports}}]);
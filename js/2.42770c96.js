(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"1KOk":function(e,t,s){},2416:function(e,t,s){},"4HMK":function(e,t,s){"use strict";var i=s("p1vZ"),a=s.n(i);a.a},"9hsq":function(e,t,s){},BlKS:function(e,t,s){},Eeo1:function(e,t,s){e.exports=s.p+"img/right-graphite@2x.f2e09a9.png"},"H/dO":function(e,t,s){"use strict";var i=s("MGOW"),a=s.n(i);a.a},MGOW:function(e,t,s){},RnhZ:function(e,t,s){var i={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=n(e),i=s(t);return i}function n(e){var t=i[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id="RnhZ"},Tfr2:function(e,t,s){"use strict";var i=s("tZvi"),a=s.n(i);a.a},"U2l+":function(e,t,s){},"WN/4":function(e,t,s){"use strict";var i=s("2416"),a=s.n(i);a.a},WtGL:function(e,t,s){"use strict";var i=s("9hsq"),a=s.n(i);a.a},XMJB:function(e,t){e.exports="data:image/png;base64,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"},Yrxm:function(e,t,s){},b628:function(e,t,s){"use strict";var i=s("U2l+"),a=s.n(i);a.a},d7WT:function(e,t,s){"use strict";var i=s("tD+G"),a=s.n(i);a.a},ijhY:function(e,t,s){"use strict";var i=s("Yrxm"),a=s.n(i);a.a},kiQV:function(e){e.exports={name:"track-it",version:"0.4.9",description:"A simple application based on flespi.io and built with Quasar and Leaflet.js. Allows tracking different devices on the map, viewing telemetry messages for these devices.",productName:"Track it!",cordovaId:"org.cordova.quasar.app",author:"Sergei Buntsevich <sebu@gurtam.com>",private:!0,scripts:{lint:"eslint --ext .js,.vue src",dev:'node ./build.js "dev -m pwa" "flespi"',build:'node ./build.js "build -m pwa" "flespi"',dev_local:'node ./build.js "dev -m pwa" "local"',deploy:"npm run build && rm -rf deploy && mkdir deploy && cp -R dist/pwa-mat/* misc LICENSE package.json deploy && cp README.md deploy/README.md && node_modules/git-directory-deploy/bin/git-directory-deploy.sh -ddeploy -bgh-pages -rhttps://git.gurtam.net/flespi/frontend/TrackIt.git && rm -rf deploy && git push github gh-pages"},dependencies:{"flespi-io-js":"git+https://github.com/flespi-software/flespi-io-js.git",leaflet:"^1.3.1",moment:"^2.22.1",qtelemetry:"git+https://github.com/flespi-software/QTelemetry.git",qvirtualscroll:"git+https://github.com/flespi-software/QVirtualScroll.git",shelljs:"^0.8.2","vue-clipboard2":"^0.1.0","vue-i18n":"^7.3.3"},devDependencies:{"babel-eslint":"^8.2.3",eslint:"^4.19.1","eslint-config-standard":"^11.0.0","eslint-friendly-formatter":"^3.0.0","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.11.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.1.0","eslint-plugin-vue":"^4.5.0","git-directory-deploy":"^1.5.1","quasar-cli":"^0.16.3"},engines:{node:">= 8.9.0",npm:">= 5.6.0"},browserslist:["> 1%","last 2 versions","not ie <= 10"]}},lvbe:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},p1vZ:function(e,t,s){},qguO:function(e,t,s){"use strict";var i=s("uITV"),a=s.n(i);a.a},qypp:function(e,t,s){"use strict";var i=s("BlKS"),a=s.n(i);a.a},"tD+G":function(e,t,s){},tZvi:function(e,t,s){},thcN:function(e,t,s){"use strict";var i=s("1KOk"),a=s.n(i);a.a},uDGt:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-layout",{ref:"layout",attrs:{view:"hHh LpR lFf"}},[i("q-layout-drawer",{attrs:{side:"left","no-swipe-open":e.$q.platform.is.desktop,"no-swipe-close":e.$q.platform.is.desktop,breakpoint:576,behavior:"mobile"},model:{value:e.side_left,callback:function(t){e.side_left=t},expression:"side_left"}},[i("device-list",{directives:[{name:"show",rawName:"v-show",value:e.devices.length,expression:"devices.length"}],attrs:{deviceIdForWatch:e.deviceIdForWatch,activeDevicesID:e.activeDevicesID,devices:e.devices},on:{"update:watch-by-id":e.setWatchToDeviceID,"click:hide":function(t){e.side_left=!1}}})],1),i("q-layout-drawer",{attrs:{side:"right","no-swipe-open":"","no-swipe-close":"","content-class":{"bg-dark":e.telemetrySettings.inverted}},model:{value:e.side_right,callback:function(t){e.side_right=t},expression:"side_right"}},[e.params.needShowTelemetry&&e.deviceIdForTelemetry&&e.activeDevicesID.includes(e.deviceIdForTelemetry)?i("div",[i("q-item",[i("q-item-side",{attrs:{left:""}},[i("q-icon",{attrs:{color:e.telemetrySettings.inverted?"white":"",size:"1.8rem",name:"developer_board"}})],1),i("q-item-main",[i("q-item-tile",{staticClass:"ellipsis text-bold",class:{"text-white":e.telemetrySettings.inverted},attrs:{label:""}},[e._v("Telemetry")]),i("q-item-tile",{staticClass:"ellipsis",class:{"text-white":e.telemetrySettings.inverted},attrs:{sublabel:""}},[i("small",[e._v(e._s(e.deviceForTelemetry.name||"#"+e.deviceForTelemetry.id))])])],1),i("q-item-side",{attrs:{right:""}},[i("q-checkbox",{staticClass:"text-grey",attrs:{"checked-icon":"filter_b_and_w","unchecked-icon":"filter_b_and_w",color:e.telemetrySettings.inverted?"white":"grey"},on:{change:e.telemetrySettingsChangeHandler},model:{value:e.telemetrySettings.inverted,callback:function(t){e.$set(e.telemetrySettings,"inverted",t)},expression:"telemetrySettings.inverted"}},[i("q-tooltip",[e._v("Inverted")])],1)],1),i("q-item-side",{attrs:{right:""}},[i("q-icon",{staticClass:"pull-right cursor-pointer",attrs:{color:e.telemetrySettings.inverted?"white":"",name:"arrow_forward",size:"1.8rem"},nativeOn:{click:function(t){e.side_right=!1,e.deviceIdForTelemetry=0}}})],1)],1),i("q-item",[i("q-item-main",[i("q-input",{attrs:{type:"text","float-label":"Search",inverted:e.telemetrySettings.inverted,color:e.telemetrySettings.inverted?"none":""},model:{value:e.telemetrySearch,callback:function(t){e.telemetrySearch=t},expression:"telemetrySearch"}})],1)],1),i("q-telemetry",{attrs:{propHistoryFlag:e.telemetryConfig.propHistoryFlag,device:e.deviceForTelemetry,inverted:e.telemetrySettings.inverted,search:e.telemetrySearch}})],1):e._e()]),i("q-page-container",[i("q-page",[e.devices.length?i("q-btn",{staticClass:"floated menu",attrs:{small:"",round:"",flat:"",color:"dark",size:"md"},on:{click:function(t){e.side_left=!e.side_left}}},[i("q-icon",{attrs:{name:"menu"}})],1):e._e(),i("div",{staticClass:"floated label"},[i("img",{staticStyle:{height:"40px","margin-top":"3px",display:"inline-block"},attrs:{src:s("XMJB"),alt:"Track it!"}}),i("div",{staticClass:"q-toolbar-title",staticStyle:{color:"rgb(51, 51, 51)",display:"inline-block"}},[e._v("\n          Track it! "),i("sup",[e._v(e._s(e.version))]),i("div",{staticClass:"q-toolbar-subtitle"},[e._v("\n            Find yourself\n          ")])])]),e.devices.length&&0===e.mode?i("div",{staticClass:"floated date"},[i("q-datetime",{staticStyle:{display:"inline-flex"},attrs:{format:"DD-MM-YYYY",color:"grey-8",modal:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1):e._e(),e.activeDevicesID.length?e._e():i("div",{staticClass:"floated no-devices"},[i("span",{staticClass:"no-devices__message"},[e._v("You have no selected devices")]),i("div",{staticStyle:{"margin-top":"15px"}},[e.devices.length?i("q-btn",{staticStyle:{"pointer-events":"auto"},attrs:{color:"black",size:"md"},on:{click:function(t){e.side_left=!e.side_left}}},[e._v("\n            select devices\n          ")]):e._e()],1)]),e.devices.length?i("q-btn",{staticClass:"floated mode",attrs:{small:"",round:"",flat:"",size:"md",icon:1===e.mode?"playlist_play":"history"},on:{click:e.changeMode}}):e._e(),e.$q.platform.is.desktop?i("a",{staticClass:"floated github",attrs:{href:"https://github.com/flespi-software/TrackIt/",target:"_blank"}},[i("q-btn",{attrs:{flat:"",round:"",color:"dark"}},[i("img",{staticStyle:{height:"30px"},attrs:{src:s("lvbe"),alt:"GitHub"}}),i("q-tooltip",[e._v("Show on GitHub")])],1)],1):e._e(),e.devices.length?i("q-btn",{staticClass:"floated options",attrs:{small:"",round:"",flat:"",size:"md"}},[i("q-icon",{attrs:{color:"dark",name:"more_vert"}}),i("q-popover",{ref:"popover-menu"},[i("q-list",{staticClass:"scroll",staticStyle:{"min-width":"200px"},attrs:{link:"",separator:""}},[i("q-item",[i("q-toggle",{attrs:{icon:"dvr",label:"Messages"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowMessages,callback:function(t){e.$set(e.params,"needShowMessages",t)},expression:"params.needShowMessages"}})],1),i("q-item",[i("q-toggle",{attrs:{disable:1===e.mode,icon:"mdi-play",label:"Player"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowPlayer,callback:function(t){e.$set(e.params,"needShowPlayer",t)},expression:"params.needShowPlayer"}})],1),i("q-item",[i("q-toggle",{attrs:{icon:"av_timer",label:"Telemetry"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowTelemetry,callback:function(t){e.$set(e.params,"needShowTelemetry",t)},expression:"params.needShowTelemetry"}})],1),i("q-item",[i("q-toggle",{attrs:{icon:"pin_drop",label:"Names"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowNamesOnMap,callback:function(t){e.$set(e.params,"needShowNamesOnMap",t)},expression:"params.needShowNamesOnMap"}})],1),i("q-item",{staticClass:"within-iframe-hide",nativeOn:{click:function(t){return e.exitHandler(t)}}},[i("q-item-side",{attrs:{icon:"exit_to_app"}}),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v("Exit")])],1)],1)],1)],1)],1):e._e(),e.devices.length?i("map-component",{attrs:{activeDevices:e.activeDevices,deviceIdForWatch:e.deviceIdForWatch,params:e.params,mode:e.mode,date:e.date},on:{"update:telemetry-device-id":e.updateTelemetryDeviceId,"change:needShowMessages":function(t){e.params.needShowMessages=t}}}):e._e(),!e.devices.length&&e.hasDevicesInit?i("div",{staticClass:"error-page bg-light column items-center no-wrap"},[e.$q.platform.is.mobile?e._e():i("a",{attrs:{href:"https://github.com/flespi-software/TrackIt/",target:"_blank"}},[i("img",{staticStyle:{position:"absolute",top:"0",right:"0",border:"0",width:"149px",height:"149px"},attrs:{src:s("Eeo1"),alt:"Fork me on GitHub"}})]),i("div",{staticClass:"error-code flex items-center justify-center"},[e._v("\n          Track It!\n        ")]),i("div",[i("div",{staticClass:"error-card shadow-4 bg-white column items-center justify-center no-wrap"},[i("p",{staticClass:"text-center group"},[i("q-btn",{attrs:{color:"dark","icon-right":"exit_to_app"},on:{click:e.exitHandler}},[e._v("Logout")])],1),i("q-icon",{attrs:{name:"error_outline",color:"grey-5"}}),i("p",{staticClass:"caption text-center"},[e._v("Devices not found.")])],1)])]):e._e()],1)],1)],1)},a=[],n=(s("91GP"),s("Z2Ku"),s("L9s1"),s("MVZn")),r=s.n(n),o=s("L2JU"),l=s("XudM"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"map-wrapper absolute-top-left absolute-bottom-right"},[s("div",{attrs:{id:"map"}},[s("q-resize-observable",{on:{resize:e.onResize}})],1),Object.keys(e.messages).length&&(0===e.mode&&(e.params.needShowMessages||e.params.needShowPlayer)||1===e.mode&&e.params.needShowMessages)?s("queue",{ref:"queue",attrs:{devices:e.activeDevices,activeDevicesID:e.activeDevicesID,needShowMessages:e.params.needShowMessages,needShowPlayer:e.params.needShowPlayer,messages:e.allMessages,isAdmin:e.admin.flag,telemetryDeviceId:e.telemetryDeviceId,mode:e.mode,date:e.date},on:{send:e.prepareForSendMessage,play:e.playHandler,stop:e.stopHandler,"change:needShowTail":e.changeShowTail,"change:needShowMessages":function(t){e.$emit("change:needShowMessages",t)},"change:selected":function(t){e.selected=t}}}):e._e(),s("post-message-modal",{ref:"postMessageModal",attrs:{currentPos:e.draggedMarker.markerCurrentPosition,deviceID:e.draggedMarker.markerID,lastMessage:e.lastMessage},on:{"update:marker":e.updateMarkerHandler,"update:dragged":e.updateFlagHandler}})],1)},d=[],m=(s("yt8O"),s("RW0V"),s("rGqo"),s("ls82"),s("yXPU")),h=s.n(m),u=(s("OEbY"),s("f3/d"),s("4R65")),g=s.n(u),p=(s("bMVF"),s("Kw5r")),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"absolute-bottom-left absolute-bottom-right",attrs:{id:"queue"}},[s("q-tabs",{attrs:{"no-pane-border":"",position:"bottom",color:"dark"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._l(e.activeDevicesID,function(t){return[s("q-tab-pane",{key:"tab-pane-"+t,staticClass:"no-padding",attrs:{name:t.toString()}},[s("queue-item",{key:"tab-pane-"+t,attrs:{id:t,messages:e.messages[t],mode:e.mode,date:e.date,isAdmin:e.isAdmin,device:e.devices[t],needShowMessages:e.needShowMessages,needShowPlayer:e.needShowPlayer},on:{send:e.sendInitMessages,play:e.playHandler,stop:e.stopHandler,"change:needShowTail":function(t){e.$emit("change:needShowTail",t)},"change:needShowMessages":function(t){e.$emit("change:needShowMessages",t)}}})],1),s("q-tab",{key:"tab-"+t,attrs:{slot:"title",label:e.getNameById(t),name:t.toString()},slot:"title"})]})],2)],1)},f=[],y=(s("a1Th"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{style:[{height:e.height,position:"relative"}]},[!e.messages.length&&e.needShowMessages?s("div",{staticClass:"no-messages text-center"},[e._m(0),e.isAdmin&&1===e.mode?s("q-btn",{attrs:{color:"dark"},on:{click:function(t){e.$emit("send",e.id)}}},[e._v("Send message")]):e._e()],1):e._e(),e.messages.length&&e.needShowMessages?s("div",{staticClass:"table__wrapper",style:{height:e.messages.length>1&&0===e.mode&&e.needShowPlayer?"calc(100% - 65px)":"100%"}},[s("messages",{attrs:{messages:e.messages,mode:e.mode,item:e.device,activeDeviceId:e.id,limit:0,date:e.date,activeMessagesIds:e.activeMessagesIndexes},on:{view:e.viewMessageHandler}})],1):e._e(),0===e.mode&&e.needShowPlayer?s("div",{staticStyle:{display:"flex","background-color":"#424242"},style:{height:0===e.mode&&e.needShowMessages?"65px":"100%"}},[e.$q.platform.is.mobile?s("q-btn",{staticClass:"btn-less-padding",attrs:{icon:"more_vert",color:"white",size:"md",flat:""}},[s("q-popover",{ref:"popoverExtra"},[s("q-list",{staticClass:"scroll",staticStyle:{"min-width":"200px"},attrs:{link:"",separator:""}},[s("q-item",[s("q-toggle",{attrs:{icon:"dvr",label:"Messages"},on:{input:function(t){e.$emit("change:needShowMessages",e.messagesFlag)}},model:{value:e.messagesFlag,callback:function(t){e.messagesFlag=t},expression:"messagesFlag"}})],1),s("q-item",[s("q-toggle",{attrs:{icon:"mdi-ray-end",label:"Tail"},on:{input:function(t){e.$emit("change:needShowTail",e.needPolyline)}},model:{value:e.needPolyline,callback:function(t){e.needPolyline=t},expression:"needPolyline"}})],1)],1)],1)],1):e._e(),e.$q.platform.is.desktop?s("q-btn",{class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{icon:"mdi-ray-end",color:e.needPolyline?"blue":"white",size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.needPolyline=!e.needPolyline,e.$emit("change:needShowTail",e.needPolyline)}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Tail")]):e._e()],1):e._e(),e.$q.platform.is.desktop?s("q-btn",{class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{icon:"dvr",color:e.needShowMessages?"blue":"white",size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.messagesFlag=!e.messagesFlag,e.$emit("change:needShowMessages",e.messagesFlag)}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Messages")]):e._e()],1):e._e(),s("player",{ref:"player",attrs:{min:e.timeRange.min,max:e.timeRange.max},on:{next:e.playerNextHandler,prev:e.playerPrevHandler},model:{value:e.playerValue,callback:function(t){e.playerValue=t},expression:"playerValue"}})],1):e._e()])}),k=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-white",staticStyle:{"font-size":"3rem"}},[s("div",[e._v("No messages")]),s("div",{staticStyle:{"font-size":"1.5rem"}},[e._v("or position is empty")])])}],b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("virtual-scroll-list",{ref:"scrollList",attrs:{cols:e.cols,actions:e.actions,items:e.messages,date:e.from,mode:e.mode,viewConfig:e.viewConfig,colsConfigurator:"toolbar",i18n:e.i18n,theme:e.theme,title:"Messages"},on:{"change:pagination-prev":e.paginationPrevChangeHandler,"change:pagination-next":e.paginationNextChangeHandler,"change:date":e.dateChangeHandler,"change:date-prev":e.datePrevChangeHandler,"change:date-next":e.dateNextChangeHandler,"update:cols":e.updateColsHandler},scopedSlots:e._u([{key:"items",fn:function(t){var i=t.item,a=t.index,n=t.actions,r=t.cols,o=t.etcVisible,l=t.actionsVisible,c=t.itemHeight,d=t.rowWidth;return s("messages-list-item",{key:""+JSON.stringify(i)+a,attrs:{item:i,index:a,actions:n,cols:r,itemHeight:c,rowWidth:d,etcVisible:o,actionsVisible:l,selected:a===e.selected},on:{"item-click":e.viewMessagesHandler}})}}])}),s("message-viewer",{ref:"messageViewer",attrs:{message:"undefined"!==typeof e.selectedMessage?e.selectedMessage:{},inverted:""},on:{close:e.closeHandler}})],1)},w=[],D=s("3kWr"),x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-modal",{ref:"modal",attrs:{"content-css":{maxWidth:"100vw",maxHeight:"100vh",width:e.$q.platform.is.mobile?"100vw":"500px",height:e.$q.platform.is.mobile?"100vh":"400px"},"content-classes":{"bg-dark":void 0!==e.inverted}},on:{hide:function(t){e.$emit("close")}}},[s("q-modal-layout",[s("q-toolbar",{staticStyle:{"justify-content":"flex-end"},attrs:{slot:"footer",color:"dark"},slot:"footer"},[s("q-btn",{attrs:{flat:""},on:{click:function(t){e.copy(e.message)}}},[e._v("Copy full message")]),s("q-btn",{attrs:{flat:""},on:{click:function(t){e.$refs.modal.hide()}}},[e._v("Close")])],1),s("div",{staticClass:"layout-padding"},e._l(e.message,function(t,i,a){return s("div",{key:a,staticClass:"row items-center"},[s("div",{staticClass:"text-weight-bold"},[s("span",{staticClass:"message-viewer__copy text-green cursor-pointer"},[s("q-icon",{attrs:{name:"mdi-content-copy"},nativeOn:{click:function(s){e.copy(i+": "+t)}}})],1),s("span",{staticClass:"message-viewer__name text-white"},[e._v(e._s(i)+": ")]),s("span",{staticClass:"message-viewer__value text-green"},[e._v(e._s(e.getValue(i,t)))])])])}))],1)],1)},M=[],C=s("4IOb"),j={name:"MessageViewer",data:function(){return{date:C["R"]}},props:{message:{type:Object,required:!0},inverted:{type:Boolean}},methods:{show:function(){this.$refs.modal.show()},getValue:function(e,t){return"timestamp"===e?C["R"].formatDate(1e3*t,"DD/MM/YYYY HH:mm:ss"):t},copy:function(e){var t=this;this.$copyText(JSON.stringify(e)).then(function(e){t.$q.notify({type:"positive",icon:"content_copy",message:"Successfully copied",timeout:1e3})},function(e){t.$q.notify({type:"negative",icon:"content_copy",message:"Error coping",timeout:1e3})})}}},S=j,I=(s("Tfr2"),s("KHd+")),_=Object(I["a"])(S,x,M,!1,null,null,null),q=_.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.item["__connectionStatus"]?s("div",{style:{height:e.itemHeight+"px",width:e.rowWidth+"px",border:"solid 1px #000",color:"#000",fontWeight:"bold",backgroundColor:"offline"===e.item.__connectionStatus?"#ff0":"#0f0",backgroundImage:"url(./statics/police.png)",overflow:"hidden",opacity:".7"},attrs:{title:e.date.formatDate(e.item.timestamp,"DD/MM/YYYY HH:mm:ss")}},e._l(Array(10),function(t){return s("span",{key:t,staticClass:"uppercase",staticStyle:{padding:"0 5px","margin-left":"150px"},style:{backgroundColor:"offline"===e.item.__connectionStatus?"#ff0":"#0f0"}},[e._v(e._s(e.item["__connectionStatus"]))])})):s("div",{staticClass:"cursor-pointer",class:[e.item.__status?"missed-items":""],style:{height:e.itemHeight+"px",width:e.rowWidth+"px",backgroundColor:e.selected?"rgba(255,255,255,0.7)":"",color:e.selected?"#333":"",borderBottom:e.item.delimiter?"solid 1px #f40":""},on:{click:function(t){e.itemClickHandler(e.index,e.item)}}},[e.actionsVisible?s("span",{staticClass:"list__item item_actions"},e._l(e.actions,function(t,i){return s("q-icon",{key:i,staticClass:"cursor-pointer on-left",class:t.classes,attrs:{name:t.icon},nativeOn:{click:function(s){s.stopPropagation(),e.clickHandler(e.index,t.type,e.item)}}},[s("q-tooltip",[e._v(e._s(t.label))])],1)})):e._e(),e._l(e.cols,function(t,i){return s("span",{key:t.name+i,staticClass:"list__item",class:(a={},a["item_"+i]=!0,a),attrs:{title:JSON.stringify(e.values[t.name].value)}},[e._v("\n    "+e._s(e.values[t.name].value)+"\n  ")]);var a}),e.etcVisible?s("span",{staticClass:"list__item item_etc"},[e._v(e._s(e.values.etc.value||"*Empty*"))]):e._e()],2)},A=[],O=s("cDf5"),H=s.n(O),P=(s("KKXr"),{props:["item","index","actions","cols","itemHeight","etcVisible","rowWidth","actionsVisible","selected"],data:function(){return{date:C["R"]}},computed:{values:function(){var e=this,t={};return t=this.cols.length?this.cols.reduce(function(e,t,s,i){return e[t.name]={value:null},s===i.length-1&&(e.etc={value:""}),e},{}):{etc:{value:""}},Object.keys(this.item).forEach(function(s){if(-1!==s.indexOf("#")){var i=s.split("#"),a=i[0],n=i[1];t[a]?(t[a].value||(t[a].value={}),t[a].value[n]=e.item[s]):t.etc.value+="".concat(s,": ").concat(e.item[s],"; ")}else if(t[s]){var r=e.item[s];-1!==s.indexOf("timestamp")&&(r=C["R"].formatDate(1e3*r,"DD/MM/YYYY HH:mm:ss")),-1!==s.indexOf("image.bin.")&&(r="<binary image>"),t[s].value=r}else{if("delimiter"===s||"__status"===s)return!1;-1!==s.indexOf("image.bin.")?t.etc.value+="".concat(s,": <binary image>"):t.etc.value+="".concat(s,": ").concat(e.item[s],"; ")}}),Object.keys(t).forEach(function(e){if("object"===H()(t[e].value)&&t[e].value)if(t[e].value instanceof Array){var s=t[e].value.reduce(function(e,t,s,i){return e+=t,s!==i.length-1&&(e+=", "),e},"");t[e].value=s}else if(t[e].value instanceof Object){var i=Object.keys(t[e].value).reduce(function(s,i,a,n){return s+="".concat(i,": ").concat(t[e].value[i]),a!==n.length-1&&(s+=", "),s},"");t[e].value=i}}),t}},methods:{clickHandler:function(e,t,s){this.$emit("action",{index:e,type:t,content:s})},itemClickHandler:function(e,t){this.$emit("item-click",{index:e,content:t})}}}),E=P,B=(s("b628"),Object(I["a"])(E,T,A,!1,null,null,null)),N=B.exports,z={actions:[],viewConfig:{needShowFilter:!1,needShowMode:!1,needShowPageScroll:!1,needShowDate:!1,needShowEtc:!0},theme:{color:"white",bgColor:"dark",contentInverted:!0,controlsInverted:!0}},F={props:["mode","item","activeDeviceId","limit","messages","date","activeMessagesIds"],data:function(){return{selectedMessage:void 0,theme:z.theme,i18n:{},viewConfig:z.viewConfig,actions:z.actions,moduleName:this.activeDeviceId}},computed:{cols:{get:function(){return this.$store.state.messages[this.moduleName].cols},set:function(e){this.$store.commit("messages/".concat(this.moduleName,"/updateCols"),e)}},from:{get:function(){return this.$store.state.messages[this.moduleName].from},set:function(e){e?this.$store.commit("messages/".concat(this.moduleName,"/setFrom"),e):this.$store.commit("messages/".concat(this.moduleName,"/setFrom"),0)}},to:{get:function(){return this.$store.state.messages[this.moduleName].to},set:function(e){e?this.$store.commit("messages/".concat(this.moduleName,"/setTo"),e):this.$store.commit("messages/".concat(this.moduleName,"/setTo"),0)}},reverse:{get:function(){return this.$store.state.messages[this.moduleName].reverse||!1},set:function(e){this.$store.commit("messages/".concat(this.moduleName,"/setReverse"),e)}},currentLimit:{get:function(){return this.$store.state.messages[this.moduleName].limit},set:function(e){e?this.$store.commit("messages/".concat(this.moduleName,"/setLimit"),e):this.$store.commit("messages/".concat(this.moduleName,"/setLimit"),0)}},selected:{get:function(){return this.$store.state.messages[this.moduleName].selected},set:function(e){this.$store.commit("messages/".concat(this.moduleName,"/setSelected"),e)}}},methods:{resetParams:function(){this.$refs.scrollList.resetParams()},setTranslate:function(e){this.i18n.from=e.length?"Previous batch until ".concat(C["R"].formatDate(1e3*e[0].timestamp,"HH:mm:ss")):"Prev",this.i18n.to=e.length?"Next batch from ".concat(C["R"].formatDate(1e3*e[e.length-1].timestamp,"HH:mm:ss")):"Next"},updateColsHandler:function(e){this.cols=e},dateChangeHandler:function(e){this.$store.dispatch("messages/".concat(this.moduleName,"/get"),{name:"setDate",payload:e})},datePrevChangeHandler:function(){this.$store.dispatch("messages/".concat(this.moduleName,"/get"),{name:"datePrev"})},dateNextChangeHandler:function(){this.$store.dispatch("messages/".concat(this.moduleName,"/get"),{name:"dateNext"})},paginationPrevChangeHandler:function(){var e=0;e=this.messages.length?1e3*this.messages[0].timestamp:0,this.$store.dispatch("messages/".concat(this.moduleName,"/get"),{name:"paginationPrev",payload:e})},paginationNextChangeHandler:function(){var e=0;e=this.messages.length?1e3*this.messages[this.messages.length-1].timestamp:0,this.$store.dispatch("messages/".concat(this.moduleName,"/get"),{name:"paginationNext",payload:e})},viewMessagesHandler:function(e){var t=e.index,s=e.content;this.selected=t,this.selectedMessage=s,this.$refs.messageViewer.show(),this.$emit("view")},closeHandler:function(){this.selected=null,this.selectedMessage=void 0,this.activeMessagesIds.length&&(this.selected=this.activeMessagesIds[this.activeMessagesIds.length-1])},copyMessageHandler:function(e){var t=this,s=(e.index,e.content);this.$copyText(JSON.stringify(s)).then(function(e){t.$q.notify({type:"positive",icon:"content_copy",message:"Message copied",timeout:1e3})},function(e){t.$q.notify({type:"negative",icon:"content_copy",message:"Error coping messages",timeout:1e3})})},unselect:function(){this.selected&&(this.selected=null)},highlightSelected:function(e){var t=this;e.length&&e.forEach(function(e){t.selected=e})}},watch:{limit:function(e){this.currentLimit=e},activeMessagesIds:function(e){this.highlightSelected(e)}},created:function(){var e=h()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.currentLimit=this.limit,this.highlightSelected(this.activeMessagesIds);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),beforeDestroy:function(){this.$store.commit("messages/".concat(this.moduleName,"/clearSelected"))},components:{VirtualScrollList:D["a"],MessagesListItem:N,MessageViewer:q}},W=F,R=(s("qguO"),Object(I["a"])(W,b,w,!1,null,null,null)),Y=R.exports,L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"flex","background-color":"#424242",width:"100%"}},[s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{disable:e.max<=e.min,size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""}},[e._v("\n    x"+e._s(e.speed)+"\n    "),s("q-popover",{ref:"speedPopover",staticStyle:{"background-color":"#424242"},attrs:{anchor:"top left"}},[s("div",{staticClass:"column"},[s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=100}}},[e._v("x100")]),s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=70}}},[e._v("x70")]),s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=50}}},[e._v("x50")]),s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=30}}},[e._v("x30")]),s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=10}}},[e._v("x10")]),s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.speed=1}}},[e._v("x1")])],1)]),e.$q.platform.is.desktop?s("q-tooltip",[e._v("Speed")]):e._e()],1),s("q-btn",{directives:[{name:"touch-hold",rawName:"v-touch-hold.noMouse",value:e.playRepeatClickHandler,expression:"playRepeatClickHandler",modifiers:{noMouse:!0}}],staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{color:"play"===e.status?"blue":"white",disable:e.max<=e.min,size:e.$q.platform.is.desktop?"1.4rem":"md",icon:"play"===e.status?e.repeatFlag?"mdi-repeat":"mdi-pause":"mdi-play",flat:""},on:{click:[function(t){return t.ctrlKey?e.playRepeatClickHandler(t):null},e.playClickHandler]}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Play/Pause (Ctrl+Click to repeat)")]):e._e(),e.$q.platform.is.mobile?s("q-tooltip",[e._v("Play/Pause (Touch hold to repeat)")]):e._e()],1),s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{disable:e.max<=e.min,icon:"mdi-skip-previous",size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.$emit("prev")}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Prev message")]):e._e()],1),s("div",{staticClass:"player"},[s("div",{staticClass:"player__main"},[s("div",{ref:"playerContainer",staticClass:"player__container",staticStyle:{transform:"translate3d(0,0,0)"}},[e.max>e.min?s("q-range",{attrs:{color:"white",square:"",min:e.min,max:e.max,step:1},model:{value:e.range,callback:function(t){e.range=t},expression:"range"}}):e._e(),s("div",{staticClass:"player__line cursor-pointer",class:{disabled:e.max<=e.min},on:{click:e.clickLineHandler}},[s("div",{staticClass:"line line__disabled line__disabled--left",style:{width:100*(e.rangeMin-e.min)/(e.max-e.min)+"%"}}),s("div",{staticClass:"line line__active",style:{left:e.current+"%",width:100-e.current-100/e.max*(e.max-e.rangeMax)+"%"}}),s("div",{staticClass:"line line__disabled line__disabled--right",style:{width:100/(e.max-e.min)*(e.max-e.rangeMax)+"%"}})]),s("div",{directives:[{name:"touch-pan",rawName:"v-touch-pan.horizontal",value:e.dragPlayerControl,expression:"dragPlayerControl",modifiers:{horizontal:!0}}],staticClass:"player__control cursor-pointer",class:{"player__control--mobile":e.$q.platform.is.mobile,disabled:e.max<=e.min},style:{left:e.current+"%"}})],1)])]),s("q-btn",{staticClass:"text-white",class:{"btn-less-padding":!e.$q.platform.is.desktop},attrs:{disable:e.max<=e.min,icon:"mdi-skip-next",size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.$emit("next")}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Next message")]):e._e()],1)],1)},V=[],J={name:"Player",props:["min","max","value"],data:function(){return{status:"pause",currentValue:this.value,rangeMin:this.min,rangeMax:this.max,timer:0,speed:10,percentsByPixel:0,current:0,repeatFlag:!1}},computed:{range:{get:function(){return{min:this.rangeMin,max:this.rangeMax}},set:function(e){this.stop(),this.currentValue<=e.min&&(this.currentValue=e.min),this.currentValue>e.max&&(this.currentValue=e.max,this.end()),this.rangeMin=e.min,this.rangeMax=e.max}}},mounted:function(){this.$refs.playerContainer&&(this.percentsByPixel=100/this.$refs.playerContainer.offsetWidth)},watch:{currentValue:Object(C["U"])(function(e){this.$emit("input",Math.round(e))},100),speed:Object(C["S"])(function(e){this.$refs.speedPopover.hide(),"play"===this.status&&(this.stop(),this.$nextTick(this.play))},100),value:function(e){var t=(e-this.min)/(this.max-this.min)*100;if(this.checkNeedRedraw(t),e===this.currentValue)return!1;this.currentValue=e},min:function(e){this.rangeMin=e},max:function(e){this.rangeMax=e}},methods:{checkNeedRedraw:function(e){Math.abs(e-this.current)>=this.percentsByPixel&&(this.current=e)},playRepeatClickHandler:function(){this.repeatFlag=!this.repeatFlag,"pause"===this.status&&this.playClickHandler()},playClickHandler:function(){switch(this.status){case"pause":this.play();break;case"play":this.stop();break}},changeCurrent:function(){var e=this.currentValue+1;if(e>this.rangeMax)return this.stop(),!1;this.currentValue=e},play:function(){"pause"===this.status&&(this.status="play"),this.currentValue===this.max&&(this.currentValue=this.min),this.timer=setInterval(this.changeCurrent,1e3/this.speed)},stop:function(){if(this.repeatFlag&&(this.repeatFlag=!1,this.currentValue===this.max))return this.currentValue=this.min,!1;this.timer&&(clearInterval(this.timer),this.timer=0,"play"===this.status&&(this.end(),this.status="pause"))},end:function(){var e=this;this.value!==this.currentValue&&setTimeout(function(){e.$emit("input",e.currentValue)},100)},getPlayerParams:function(){var e=this.$refs.playerContainer,t=e.getBoundingClientRect().left,s=e.offsetWidth,i=s/(this.max-this.min);return{left:t,width:s,step:i}},dragPlayerControl:function(e){if(this.max<=this.min)return!1;var t=this.getPlayerParams(),s=t.left,i=t.step,a=this.min+(e.position.left-s)/i;a<this.rangeMin&&(a=this.rangeMin),a>this.rangeMax&&(a=this.rangeMax),this.currentValue=e.isFinal?Math.round(a):a},clickLineHandler:function(e){if(this.max<=this.min)return!1;var t=e.clientX,s=this.getPlayerParams(),i=s.left,a=s.step,n=this.min+(t-i)/a;if(this.currentValue!==n){if(n<this.rangeMin||n>this.rangeMax)return!1;this.currentValue=Math.round(n)}},beforeDestroy:function(){this.stop()}}},$=J,Q=(s("H/dO"),Object(I["a"])($,L,V,!1,null,null,null)),Z=Q.exports,U={name:"QueueItem",props:["id","messages","mode","date","isAdmin","device","needShowMessages","needShowPlayer"],data:function(){return{playerValue:0,activeMessagesIndexes:[],needPolyline:!1,messagesFlag:this.needShowMessages}},computed:{timeRange:function(){return this.messages.length?{min:Math.floor(this.messages[0].timestamp),max:Math.floor(this.messages[this.messages.length-1].timestamp)}:{min:0,max:0}},indexesByTimestamp:function(){return this.messages.reduce(function(e,t,s){var i=Math.floor(t.timestamp);return e[i]||(e[i]=[]),e[i].push(s),e},{})},height:function(){return 0===this.mode&&this.messages.length?this.needShowMessages&&!this.needShowPlayer?"20vh":!this.needShowMessages&&this.needShowPlayer?"65px":"30vh":this.needShowMessages&&this.needShowPlayer?"205px":this.needShowMessages&&!this.needShowPlayer?"20vh":!this.needShowMessages&&this.needShowPlayer?"65px":"0vh"}},methods:{getCurrentActiveTimestamp:function(){var e=this,t=0,s=Object.keys(this.indexesByTimestamp);return s.every(function(s,i){return e.playerValue>=s&&(t=s,!0)}),t},update:function(e){this.$emit("play",{id:this.id,messagesIndexes:this.indexesByTimestamp[e]}),this.activeMessagesIndexes=this.indexesByTimestamp[e]},playerNextHandler:function(){var e=Object.keys(this.indexesByTimestamp),t=e.indexOf(this.getCurrentActiveTimestamp());if(t===e.length-1)return this.$q.notify({message:"That`s last message",type:"info",position:"bottom-left"}),!1;this.playerValue=e[t+1]},playerPrevHandler:function(){var e=Object.keys(this.indexesByTimestamp),t=e.indexOf(this.getCurrentActiveTimestamp());if(0===t)return this.$q.notify({message:"That`s first message",type:"info",position:"bottom-left"}),!1;this.playerValue=e[t-1]},viewMessageHandler:function(){this.$refs.player&&this.$refs.player.stop()}},watch:{playerValue:function(e,t){var s=0,i=!0,a=Object.keys(this.indexesByTimestamp);a.every(function(n,r){return e>=n?(s=n,r===a.length-1&&(i=!1),!0):((t>=n||t<s)&&(i=!1),!1)}),i||this.update(s)},needShowMessages:function(e){this.messagesFlag=e},messages:function(e){if(0===this.mode&&e.length){var t=Math.floor(e[0].timestamp);this.playerValue=e.length?Math.floor(e[0].timestamp):0,this.update(t)}}},components:{Messages:Y,Player:Z},beforeDestroy:function(){if(0===this.mode&&this.messages.length){var e=Math.floor(this.messages[this.messages.length-1].timestamp);this.update(e)}},created:function(){if(0===this.mode&&this.messages.length){var e=Math.floor(this.messages[0].timestamp);this.playerValue=this.messages.length?Math.floor(this.messages[0].timestamp):0,this.update(e)}}},G=U,X=(s("thcN"),Object(I["a"])(G,y,k,!1,null,null,null)),K=X.exports,ee={name:"Queue",props:["messages","activeDevicesID","devices","isAdmin","telemetryDeviceId","mode","date","needShowMessages","needShowPlayer"],data:function(){var e=this;return{selected:this.activeDevicesID.length?this.activeDevicesID[0].toString():"",telemetryOfActiveDevices:this.devices.filter(function(t){return e.activeDevicesID.includes(t.id)}).reduce(function(e,t){return e[t.id]=t.telemetry?t.telemetry:null,e},{}),playerValue:0}},methods:{getNameById:function(e){return this.devices.filter(function(t){return t.id===e})[0].name||"&lt;#".concat(e,"&gt;")},sendInitMessages:function(e){this.$emit("send",e)},playHandler:function(e){this.$emit("play",e)},stopHandler:function(e){this.$emit("stop",e)}},created:function(){this.activeDevicesID.length&&this.$emit("change:selected",parseInt(this.activeDevicesID[0]))},watch:{devices:{deep:!0,handler:function(e){var t=this;this.telemetryOfActiveDevices=e.filter(function(e){return t.activeDevicesID.includes(e.id)}).reduce(function(e,t){return e[t.id]=t.telemetry?t.telemetry:null,e},{})}},activeDevicesID:function(e){this.telemetryOfActiveDevices=this.devices.filter(function(t){return e.includes(t.id)}).reduce(function(e,t){return e[t.id]=t.telemetry?t.telemetry:null,e},{}),e.length||(this.selected=""),this.selected&&e.includes(parseInt(this.selected))||!e.length||(this.selected=e[0].toString())},telemetryDeviceId:function(e){e&&(this.selected=e.toString())},selected:function(e){this.$emit("change:selected",parseInt(e))}},components:{QueueItem:K}},te=ee,se=(s("qypp"),Object(I["a"])(te,v,f,!1,null,null,null)),ie=se.exports,ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-modal",{ref:"postMessageModal",attrs:{"content-css":{minWidth:"50vw",minHeight:"50vh"}},on:{show:e.modalOpenHandler}},[s("q-modal-layout",[s("q-toolbar",{attrs:{slot:"footer",color:"dark"},slot:"footer"},[s("q-btn",{staticClass:"full-width",attrs:{flat:""},on:{click:e.modalSubmit}},[e._v("Send")])],1),s("q-toolbar",{attrs:{slot:"header",color:"dark"},slot:"header"},[s("span",{staticClass:"header__label"},[e._v("Send message")]),s("q-icon",{staticClass:"absolute-top-right cursor-pointer",attrs:{name:"close",size:"2.5rem",flat:""},nativeOn:{click:function(t){return e.modalButtonCloseHandler(t)}}})],1),s("div",{staticClass:"modal__wrapper"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 col-sm-12"},[s("q-input",{attrs:{"float-label":"Latitude",placeholder:"Latitude"},model:{value:e.currentPos.lat,callback:function(t){e.$set(e.currentPos,"lat",t)},expression:"currentPos.lat"}}),s("q-input",{attrs:{"float-label":"Longitude",placeholder:"Longitude"},model:{value:e.currentPos.lng,callback:function(t){e.$set(e.currentPos,"lng",t)},expression:"currentPos.lng"}})],1),s("div",{staticClass:"text-center col-md-5 offset-md-1 col-sm-12"},[s("q-knob",{attrs:{min:0,max:360},model:{value:e.direction,callback:function(t){e.direction=t},expression:"direction"}},[s("div",{staticClass:"direction",style:{transform:"rotate("+(e.direction-45)+"deg)"}})])],1),s("div",{staticClass:"col-4"},[s("q-input",{attrs:{type:"number",min:-100,max:1e4,"float-label":"Altitude",placeholder:"Altitude"},model:{value:e.altitude,callback:function(t){e.altitude=t},expression:"altitude"}})],1),s("div",{staticClass:"col-4"},[s("q-input",{attrs:{type:"number",min:0,"float-label":"Satellites",placeholder:"Satellites"},model:{value:e.satellites,callback:function(t){e.satellites=t},expression:"satellites"}})],1),s("div",{staticClass:"col-4"},[s("q-input",{attrs:{type:"number",min:0,"float-label":"Speed",placeholder:"Speed"},model:{value:e.speed,callback:function(t){e.speed=t},expression:"speed"}})],1),s("div",{staticClass:"col-12"},[e._v("Custom properties")]),s("div",{staticClass:"col-4"},[e._v("\n        Key\n      ")]),s("div",{staticClass:"col-8"},[e._v("\n        Value\n      ")]),s("div",{staticClass:"col-4"},[s("q-input",{attrs:{type:"text",placeholder:"Key"},model:{value:e.current_custom_field.key,callback:function(t){e.$set(e.current_custom_field,"key",t)},expression:"current_custom_field.key"}})],1),s("div",{staticClass:"col-4 text-center vertical-middle",staticStyle:{"line-height":"3.5rem"}},["number"==e.type_current_field?s("q-input",{attrs:{type:"number",placeholder:"Value"},model:{value:e.current_custom_field.value,callback:function(t){e.$set(e.current_custom_field,"value",t)},expression:"current_custom_field.value"}}):e._e(),"string"==e.type_current_field?s("q-input",{attrs:{type:"text",placeholder:"Value"},model:{value:e.current_custom_field.value,callback:function(t){e.$set(e.current_custom_field,"value",t)},expression:"current_custom_field.value"}}):e._e(),"bool"==e.type_current_field?s("q-checkbox",{model:{value:e.current_custom_field.value,callback:function(t){e.$set(e.current_custom_field,"value",t)},expression:"current_custom_field.value"}}):e._e()],1),s("div",{staticClass:"col-2"},[s("q-select",{attrs:{options:e.types_current_field},on:{change:e.inputChange},model:{value:e.type_current_field,callback:function(t){e.type_current_field=t},expression:"type_current_field"}})],1),s("div",{staticClass:"col-2 relative-position"},[s("q-icon",{staticClass:"pull-right cursor-pointer absolute-bottom-right",staticStyle:{bottom:"10px"},attrs:{name:"add",size:"2rem",flat:""},nativeOn:{click:function(t){return e.addCustomFieldHandler(t)}}})],1)]),e._l(e.custom,function(t,i){return s("div",{key:i,staticClass:"row",staticStyle:{"margin-top":"10px"}},[s("div",{staticClass:"col-5 ellipsis"},[e._v("\n        "+e._s(i)+"\n      ")]),s("div",{staticClass:"col-5 ellipsis"},[e._v("\n        "+e._s(t)+"\n      ")]),s("div",{staticClass:"col-2"},[s("q-icon",{staticClass:"pull-right cursor-pointer",attrs:{name:"remove",size:"1.5rem",flat:""},nativeOn:{click:function(t){e.removeCustomFieldHandler(i)}}})],1)])})],2)],1)],1)},ne=[],re={props:["currentPos","deviceID","lastMessage"],data:function(){return{type_current_field:"string",types_current_field:[{label:"String",value:"string"},{label:"Number",value:"number"},{label:"Boolean",value:"bool"}],current_custom_field:{key:null,value:null},altitude:0,speed:0,satellites:0,direction:0,custom:{}}},methods:{show:function(){this.$refs.postMessageModal.show()},modalOpenHandler:function(){this.direction=this.lastMessage&&this.lastMessage["position.direction"]?this.lastMessage["position.direction"]:0;var e=Object.keys(this.lastMessage).length?[this.lastMessage["position.latitude"],this.lastMessage["position.longitude"]]:[51.50853,-.12574];this.$emit("update:marker",{id:this.deviceID,lastPos:e})},modalSubmit:function(){var e=Object.assign({"position.latitude":this.currentPos.lat,"position.longitude":this.currentPos.lng,"position.altitude":this.altitude,"position.direction":this.direction,"position.satellites":this.satellites,"position.speed":this.speed},this.custom);this.$store.dispatch("postMessage",{data:e,id:this.deviceID}),this.$emit("update:dragged",!1),this.altitude=0,this.satellites=0,this.speed=0,this.custom={},this.type_current_field="string",this.current_custom_field={key:null,value:null},this.$refs.postMessageModal.hide()},modalButtonCloseHandler:function(){this.$emit("update:dragged",!1),this.$refs.postMessageModal.hide()},addCustomFieldHandler:function(){this.current_custom_field.key&&(p["default"].set(this.custom,this.current_custom_field.key,this.current_custom_field.value),this.current_custom_field.key=null,this.current_custom_field.value=null,this.type_current_field="string")},removeCustomFieldHandler:function(e){p["default"].delete(this.custom,e)},inputChange:function(e){switch(e){case"number":this.current_custom_field.value=0;break;case"string":this.current_custom_field.value="";break;case"bool":this.current_custom_field.value=!1;break}}}},oe=re,le=(s("ijhY"),Object(I["a"])(oe,ae,ne,!1,null,null,null)),ce=le.exports,de={name:"Map",props:["params","deviceIdForWatch","activeDevices","delay","mode","date"],data:function(){return{isDragged:!1,map:null,flyToZoom:15,markers:{},tracks:{},lastMessage:{},telemetryDeviceId:-1,activeDeviceID:0,activeDevicesID:[],draggedMarker:{markerCurrentPosition:[],markerID:0},openModalFlag:!1,admin:{flag:!1,counter:0,timerId:0},needShowTail:!1,selected:null}},computed:r()({},Object(o["d"])({messages:function(e){return this.activeDevicesID.reduce(function(t,s){return t[s]=e.messages[s].messages.filter(function(e){return!!e["position.latitude"]&&!!e["position.longitude"]}),t},{})},allMessages:function(e){return this.activeDevicesID.reduce(function(t,s){return t[s]=e.messages[s].messages,t},{})}})),methods:{initMap:function(){var e=this;this.map||(this.map=g.a.map("map",{center:[51.50853,-.12574],zoom:3,maxBounds:[[90,-180],[-90,180]]}),this.map.addEventListener("zoom",function(t){t.flyTo||(e.flyToZoom=t.target.getZoom())}),this.map.addEventListener("click",function(t){g.a.DomUtil.hasClass(e.map._container,"crosshair-cursor-enabled")&&(e.draggedMarker.markerCurrentPosition=t.latlng,g.a.DomUtil.removeClass(e.map._container,"crosshair-cursor-enabled"),e.$refs.postMessageModal.show(),e.$emit("update:send-active",null)),e.admin.counter+=1,e.admin.timerId=setTimeout(function(){e.admin.timerId&&e.admin.counter>=10&&(e.admin.flag=!e.admin.flag),e.admin.timerId=0,e.admin.counter=0},2e3)}),g.a.tileLayer("//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:3,noWrap:!0}).addTo(this.map))},generateIcon:function(e,t,s){return g.a.divIcon({className:"my-div-icon icon-".concat(e),iconSize:new g.a.Point(20,20),html:'<div style="border-color: '.concat(s,'" class="my-div-icon__inner"></div>').concat(this.params.needShowNamesOnMap?'<div class="my-div-icon__name">'.concat(t,"</div>"):"")})},getColor:function(){for(var e="0123456789ABCDEF",t="#",s=0;s<6;s++)t+=e[Math.floor(16*Math.random())];return t},initMarker:function(e,t,s){var i=this,a=this.messages[e][this.messages[e].length-1]["position.direction"]?this.messages[e][this.messages[e].length-1]["position.direction"]:0,n=this.tracks[e]&&this.tracks[e].options?this.tracks[e].options.color:this.markers[e]?this.markers[e].color:this.getColor();this.markers[e]=g.a.marker(s,{icon:this.generateIcon(e,t,n),draggable:this.admin.flag,title:t}),this.markers[e].id=e,this.markers[e].color=n,this.markers[e].addEventListener("dragstart",function(e){i.isDragged=!0}),this.markers[e].addEventListener("dragend",function(e){if(0===i.mode){i.$q.notify({message:"Change mode to real-time"});var t=[i.messages[e.target.id][i.messages[e.target.id].length-1]["position.latitude"],i.messages[e.target.id][i.messages[e.target.id].length-1]["position.longitude"]];return i.markers[e.target.id].setLatLng(t).update(),!1}i.draggedMarker.markerCurrentPosition=e.target.getLatLng(),i.draggedMarker.markerID=e.target.id,i.lastMessage=i.messages[e.target.id][i.messages[e.target.id].length-1]?i.messages[e.target.id][i.messages[e.target.id].length-1]:{},i.$refs.postMessageModal.show()}),this.markers[e].addEventListener("add",function(t){if(document.querySelector(".icon-".concat(e," .my-div-icon__inner")).style.transform="rotate(".concat(a-45,"deg)"),i.messages[e]&&i.messages[e].length&&i.deviceIdForWatch===parseInt(e)){var s=document.querySelector(".icon-".concat(e," .my-div-icon__inner"));s.style.backgroundColor=s.style.borderColor}}),this.markers[e].addEventListener("click",function(t){i.telemetryDeviceId=parseInt(e),i.$emit("update:telemetry-device-id",i.telemetryDeviceId)}),this.markers[e].addEventListener("move",function(t){1===i.mode&&(document.querySelector(".icon-".concat(e," .my-div-icon__inner")).style.transform="rotate(".concat((i.messages[e][i.messages[e].length-1]["position.direction"]?i.messages[e][i.messages[e].length-1]["position.direction"]:0)-45,"deg)"))}),this.markers[e].addTo(this.map)},initDeviceOnMap:function(e){var t=this.activeDevices.filter(function(t){return t.id===parseInt(e)})[0];this.markers[e]||(this.markers[e]={},this.markers[e].id=e,this.markers[e].color=this.getColor(),this.tracks[e]={});var s=this.messages[e]&&this.messages[e].length;if(!s)return!1;var i=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]],a=t.name||"#".concat(e);if(this.initMarker(e,a,i),this.tracks[e]=g.a.polyline(this.getLatLngArrByDevice(e),{color:this.markers[e].color}).addTo(this.map),parseInt(e)===this.selected&&0===this.mode){var n=this.tracks[e].getBounds();this.map.fitBounds(n)}},updateDeviceOnMap:function(e){var t=this.getLatLngArrByDevice(e),s=this.deviceIdForWatch&&this.markers[this.deviceIdForWatch]&&this.markers[this.deviceIdForWatch]instanceof g.a.Marker?this.markers[this.deviceIdForWatch].getLatLng():{},i=this.deviceIdForWatch&&this.messages[this.deviceIdForWatch]&&this.messages[this.deviceIdForWatch].length&&s.lat&&s.lat!==this.messages[this.deviceIdForWatch][this.messages[this.deviceIdForWatch].length-1]["position.latitude"]&&s.lng&&s.lng!==this.messages[this.deviceIdForWatch][this.messages[this.deviceIdForWatch].length-1]["position.longitude"];if(i){var a=t[t.length-1];this.map.flyTo(a,this.flyToZoom)}if(!t.length)return this.removeFlags(e),this.tracks[e].tail&&this.tracks[e].tail instanceof g.a.Polyline&&this.tracks[e].tail.remove(),this.map.removeLayer(this.tracks[e]),this.map.removeLayer(this.markers[e]),this.tracks[e]=void 0,this.markers[e]=void 0,!1;if(!(this.markers[e]instanceof g.a.Marker)){var n=this.activeDevices.filter(function(t){return t.id===parseInt(e)})[0].name||"#".concat(e),r=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]];this.initMarker(e,n,r)}if(this.tracks[e]instanceof g.a.Polyline||(this.tracks[e]=g.a.polyline(this.getLatLngArrByDevice(e),{color:this.markers[e]?this.markers[e].color:this.getColor()}).addTo(this.map)),this.isDragged||this.markers[e].setLatLng(t[t.length-1]).update(),this.markers[e].setOpacity(1),this.tracks[e].setLatLngs(t),parseInt(e)===this.selected&&0===this.mode){var o=this.tracks[e].getBounds();this.map.fitBounds(o)}},getLatLngArrByDevice:function(e){return this.messages[e]?this.messages[e].reduce(function(e,t){return e.push([t["position.latitude"],t["position.longitude"]]),e},[]):[]},prepareForSendMessage:function(e){this.draggedMarker.markerID=parseInt(e),this.lastMessage=this.messages[e]&&this.messages[e][this.messages[e].length-1]?this.messages[e][this.messages[e].length-1]:{},g.a.DomUtil.addClass(this.map._container,"crosshair-cursor-enabled")},onResize:function(){this.map&&this.map.invalidateSize()},updateMarkerHandler:function(e){var t=e.id,s=e.lastPos;this.markers[t]&&this.markers[t]instanceof g.a.Marker?this.markers[t].setLatLng(s).update():this.initDeviceOnMap(t)},updateFlagHandler:function(e){this.isDragged=e},removeMarker:function(e){this.markers[e]&&this.markers[e]instanceof g.a.Marker&&(this.removeFlags(e),this.markers[e].remove(),this.tracks[e].tail&&this.tracks[e].tail instanceof g.a.Polyline&&this.tracks[e].tail.remove(),this.tracks[e].remove()),p["default"].delete(this.markers,e),p["default"].delete(this.tracks,e)},flyToDevice:function(e){var t=this.activeDevices.filter(function(t){return t.id===e}),s=t.length?t[0]:null,i=s&&s.telemetry&&s.telemetry["position.latitude"]&&s.telemetry["position.longitude"]?[s.telemetry["position.latitude"].value,s.telemetry["position.longitude"].value]:[];this.messages[e]&&this.messages[e].length&&(i=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]]),i.length?this.map.flyTo(i,this.flyToZoom):this.$q.notify({message:"No Position!"})},generateFlag:function(e){var t=e.id,s=e.status;return g.a.divIcon({className:"my-flag-icon flag-".concat(s,"-").concat(t),iconSize:new g.a.Point(45,45),html:'<i aria-hidden="true" style="color: '.concat("start"===s?"green":"red",';" class="my-flag-icon__inner mdi mdi-flag-variant-outline"></i>')})},addFlags:function(e){if(!this.markers[e])return!1;if(this.markers[e].flags||(this.markers[e].flags={start:{},stop:{}}),this.messages[e].length){var t=[this.messages[e][0]["position.latitude"],this.messages[e][0]["position.longitude"]],s=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]];this.markers[e].flags.start=g.a.marker(t,{icon:this.generateFlag({id:e,status:"start"})}),this.markers[e].flags.start.addTo(this.map),this.markers[e].flags.stop=g.a.marker(s,{icon:this.generateFlag({id:e,status:"stop"})}),this.markers[e].flags.stop.addTo(this.map)}},removeFlags:function(e){if(!this.markers[e]||!this.markers[e].flags||!(this.markers[e].flags.start instanceof g.a.Marker)||!(this.markers[e].flags.stop instanceof g.a.Marker))return!1;this.markers[e].flags.start.remove(),this.markers[e].flags.stop.remove(),this.markers[e].flags=void 0},modeChangeById:function(){var e=h()(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(s=null!==this.$store.state.messages[t].mode,this.$store.commit("messages/".concat(t,"/clearMessages")),this.$store.commit("messages/".concat(t,"/setMode"),this.mode),1!==this.mode||!s){e.next=7;break}return this.$store.commit("messages/".concat(t,"/setTo"),Date.now()),e.next=7,this.$store.dispatch("messages/".concat(t,"/getHistory"),200);case 7:if(0!==this.mode){e.next=11;break}return e.next=10,this.$store.dispatch("messages/".concat(t,"/get"),{name:"setDate",payload:this.date});case 10:this.addFlags(t);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),initDevice:function(){var e=h()(regeneratorRuntime.mark(function e(t){var s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$q.loading.show(),!t){e.next=5;break}return this.$store.commit("messages/".concat(t,"/setActive"),t),e.next=5,this.$store.dispatch("messages/".concat(t,"/getCols"));case 5:if(null!==this.$store.state.messages[t].mode){e.next=13;break}return e.next=8,this.modeChangeById(t);case 8:return e.next=10,this.$store.dispatch("messages/".concat(t,"/pollingGet"));case 10:if(1!==this.mode){e.next=13;break}return e.next=13,this.$store.dispatch("messages/".concat(t,"/getHistory"),200);case 13:p["default"].connector.socket.on("offline",function(){s.$store.commit("messages/".concat(t,"/setOffline"),1===s.mode)}),p["default"].connector.socket.on("connect",function(){s.$store.state.messages[t].offline&&(s.$store.commit("messages/".concat(t,"/setReconnected"),1===s.mode),1===s.mode&&s.$store.dispatch("messages/".concat(t,"/getMissedMessages")))}),this.$q.loading.hide();case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),initActiveDeviceID:function(e){this.activeDeviceID=e||0},playHandler:function(e){var t=this,s=e.id,i=e.messagesIndexes;i.forEach(function(e){if(t.markers[s]&&t.markers[s]instanceof g.a.Marker){var i=t.messages[s][e];if(t.markers[s].setLatLng([i["position.latitude"],i["position.longitude"]]).update(),i["position.direction"]){var a=document.querySelector(".icon-".concat(s," .my-div-icon__inner"));a&&(a.style.transform="rotate(".concat((i["position.direction"]?i["position.direction"]:0)-45,"deg)"))}}});var a=i[i.length-1],n=a-10<0?0:a-10,r=this.messages[s].slice(n,a+1),o=r.map(function(e){return[e["position.latitude"],e["position.longitude"]]});if(this.tracks[s]&&this.tracks[s]instanceof g.a.Polyline&&o.length){if(!this.tracks[s].tail||!(this.tracks[s].tail instanceof g.a.Polyline))return this.tracks[s].tail=g.a.polyline(o,{color:"#666666"}),this.needShowTail&&this.tracks[s].tail.addTo(this.map),!0;this.tracks[s].tail.setLatLngs(o)}},stopHandler:function(e){e.id},changeShowTail:function(e){var t=this;Object.keys(this.tracks).forEach(function(s){t.tracks[s]&&t.tracks[s].tail&&t.tracks[s].tail instanceof g.a.Polyline&&(e?t.tracks[s].tail.addTo(t.map):t.tracks[s].tail.remove())})}},watch:{messages:{deep:!0,handler:function(e){var t=this,s=Object.keys(e),i=Object.keys(this.markers);if(!s.length)return Object.keys(this.markers).forEach(function(e){t.removeMarker(e)}),!1;if(s.length<i.length){var a=i.filter(function(e){return!s.includes(e)})[0];return this.removeMarker(a),!1}s.forEach(function(s){if(!e[s].length)return t.activeDevices.filter(function(e){return e.id===parseInt(s)})[0].telemetry||t.markers[s]?t.updateDeviceOnMap(s):t.initDeviceOnMap(s),!1;i.includes(s)?t.updateDeviceOnMap(s):t.initDeviceOnMap(s)})}},activeDevices:function(e){var t=this,s=e.map(function(e){return e.id});this.activeDeviceID||this.initActiveDeviceID(s[0]);var i=Object.keys(this.messages).map(function(e){return parseInt(e)}),a=i.length>s.length?"remove":"add";switch(s.forEach(function(e){t.$store.state.messages[e]||(t.$store.registerModule(["messages",e],Object(D["b"])(t.$store,p["default"],t.$q.localStorage,"messages/".concat(e))),t.$store.commit("messages/".concat(e,"/setSortBy"),"timestamp"))}),this.activeDevicesID=s,a){case"remove":var n=i.filter(function(e){return!s.includes(e)});1===n.length&&n[0]?this.$store.commit("messages/".concat(n[0],"/clear")):n.length===i.length&&n.forEach(function(e){t.$store.commit("messages/".concat(e,"/clear"))});break;case"add":var r=s.filter(function(e){return!i.includes(e)})[0];r&&this.initDevice(r);break}this.map&&g.a.DomUtil.hasClass(this.map._container,"crosshair-cursor-enabled")&&g.a.DomUtil.removeClass(this.map._container,"crosshair-cursor-enabled")},deviceIdForWatch:function(e){if(e){if(this.flyToDevice(e),document.querySelectorAll(".my-div-icon__inner").forEach(function(e){e.style.backgroundColor=""}),this.messages[e]&&this.messages[e].length){var t=document.querySelector(".my-div-icon.icon-".concat(e," .my-div-icon__inner"));t.style.backgroundColor=t.style.borderColor}this.telemetryDeviceId=parseInt(e),this.$emit("update:telemetry-device-id",this.telemetryDeviceId)}else document.querySelectorAll(".my-div-icon__inner").forEach(function(e){e.style.backgroundColor=""})},"admin.flag":function(e){var t=this;e?(Object.keys(this.markers).forEach(function(e){t.markers[e]instanceof g.a.Marker&&t.markers[e].dragging.enable()}),this.$q.notify({message:"Send messages: enabled",type:"info",position:"bottom-left"})):(Object.keys(this.markers).forEach(function(e){t.markers[e]instanceof g.a.Marker&&t.markers[e].dragging.disable()}),this.$q.notify({message:"Send messages: disabled",type:"info",position:"bottom-left"}))},"params.needShowNamesOnMap":function(e){var t=this;Object.keys(this.markers).forEach(function(e){var s=t.activeDevices.filter(function(t){return t.id===parseInt(e)})[0],i=t.messages[e]&&t.messages[e].length?[t.messages[e][t.messages[e].length-1]["position.latitude"],t.messages[e][t.messages[e].length-1]["position.longitude"]]:[],a=s.name||"#".concat(e);t.markers[e]instanceof g.a.Marker&&(t.markers[e].remove(),t.initMarker(e,a,i))})},mode:function(){var e=this;this.activeDevicesID.forEach(function(){var t=h()(regeneratorRuntime.mark(function t(s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.modeChangeById(s);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())},date:function(e,t){var s=this;0===this.mode&&0!==t&&this.activeDevicesID.forEach(function(){var e=h()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.modeChangeById(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},selected:function(e){if(this.tracks[e]&&this.tracks[e]instanceof g.a.Polyline&&0===this.mode){var t=this.tracks[e].getBounds();this.map.fitBounds(t)}}},created:function(){var e=this;this.activeDevicesID=this.activeDevices.map(function(e){return e.id}),this.activeDevicesID.forEach(function(t){e.$store.registerModule(["messages",t],Object(D["b"])(e.$store,p["default"],e.$q.localStorage,"messages/".concat(t))),e.$store.commit("messages/".concat(t,"/setSortBy"),"timestamp"),e.initDevice(t)})},mounted:function(){this.initMap()},components:{Queue:ie,PostMessageModal:ce}},me=de,he=(s("d7WT"),Object(I["a"])(me,c,d,!1,null,null,null)),ue=he.exports,ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-list",{attrs:{separator:""}},[s("q-list-header",[s("big",[s("q-icon",{staticClass:"cursor-pointer",staticStyle:{"margin-right":"15px"},attrs:{name:"mdi-arrow-left",size:"1.8rem"},nativeOn:{click:function(t){e.$emit("click:hide")}}}),e._v("\n      Devices\n    ")],1)],1),e._l(e.devices,function(t){return s("device",{key:t.id,attrs:{device:t,activeDevicesID:e.activeDevicesID,isDeviceWatched:e.deviceIdForWatch===t.id},on:{"update:watch-by-id":e.setWatchByDeviceID}})})],2)},pe=[],ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-item",{staticClass:"cursor-pointer",class:[e.model?"active":"",e.device.messages_ttl?"":"disabled"],attrs:{highlight:e.$q.platform.is.desktop},nativeOn:{click:function(t){return e.deviceClickHandler(t)}}},[e.device.messages_ttl?e._e():s("q-tooltip",[e._v("You should set messages ttl more than 0")]),s("q-item-side",{staticClass:"text-center",class:[e.model?"text-primary":""],attrs:{icon:"developer_board"}},[s("q-item-tile",[s("small",[e._v("#"+e._s(e.device.id))])])],1),s("q-item-main",[s("q-item-tile",{staticClass:"ellipsis",attrs:{label:""}},[e._v(e._s(e.device.name||"<noname>"))]),s("small",[e.device.ident?s("q-item-tile",{staticClass:"ellipsis",attrs:{sublabel:""}},[s("q-icon",{attrs:{name:"label_outline"}}),e._v(" "+e._s(e.device.ident))],1):e._e(),e.device.phone?s("q-item-tile",{attrs:{sublabel:""}},[s("q-icon",{attrs:{name:"phone"}}),e._v(" "+e._s(e.device.phone))],1):e._e()],1)],1),s("q-item-side",{staticClass:"text-center"},[s("q-item-tile",[s("q-icon",{class:[e.isDeviceWatched&&e.activeDevicesID.includes(e.device.id)?"icon__send-active":""],attrs:{size:"1.5rem",name:"gps_fixed"},nativeOn:{click:function(t){return t.stopPropagation(),e.watchDeviceHandler(t)}}},[e.device.messages_ttl?s("q-tooltip",{model:{value:e.watchTooltip,callback:function(t){e.watchTooltip=t},expression:"watchTooltip"}},[e._v("Show on map")]):e._e()],1)],1)],1)],1)},fe=[],ye={props:["device","activeDevicesID","isDeviceWatched"],data:function(){return{watchTooltip:!1}},computed:{model:function(){return this.activeDevicesID.includes(this.device.id)}},methods:{deviceClickHandler:function(){this.activeDevicesID.includes(this.device.id)?this.unsetActiveDevice():this.setActiveDevice()},setActiveDevice:function(){this.device.messages_ttl&&this.$store.commit("setActiveDevice",this.device.id)},unsetActiveDevice:function(){this.$store.commit("unsetActiveDevice",this.device.id)},watchDeviceHandler:function(){var e=this;if(!this.device.messages_ttl)return!1;this.activeDevicesID.includes(this.device.id)||this.setActiveDevice(),setTimeout(function(){e.isDeviceWatched?e.$emit("update:watch-by-id",null):e.$emit("update:watch-by-id",e.device.id)},500),setTimeout(function(){e.watchTooltip=!1},500)}}},ke=ye,be=(s("4HMK"),Object(I["a"])(ke,ve,fe,!1,null,null,null)),we=be.exports,De={name:"DeviceList",data:function(){return{unsubscribeDevices:function(){}}},props:["devices","activeDevicesID","deviceIdForWatch"],components:{Device:we},methods:r()({},Object(o["b"])(["poolDevices"]),{setWatchByDeviceID:function(e){this.$emit("update:watch-by-id",e)}}),created:function(){var e=h()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$store.state.token){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.poolDevices();case 4:this.unsubscribeDevices=e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),beforeDestroy:function(){this.unsubscribeDevices()}},xe=De,Me=(s("WtGL"),Object(I["a"])(xe,ge,pe,!1,null,null,null)),Ce=Me.exports,je=s("kiQV"),Se={data:function(){return{deviceIdForWatch:null,deviceIdForTelemetry:null,params:{needShowMessages:!1,needShowTelemetry:!0,needShowNamesOnMap:!0,needShowPlayer:!0},side_left:!1,side_right:!1,telemetrySettings:{inverted:!0},mode:1,telemetrySearch:"",telemetryConfig:{propHistoryFlag:!0},version:je.version,date:0}},computed:r()({},Object(o["d"])({token:function(e){return e.token},devices:function(e){return e.devices},isLoading:function(e){return e.isLoading},activeDevicesID:function(e){var t=this;return 0===this.mode&&this.getLastUpdatePosition().then(function(e){t.date=e}),e.activeDevicesID},hasDevicesInit:function(e){return e.hasDevicesInit},activeDevices:function(e){return e.devices.filter(function(t){return e.activeDevicesID.includes(t.id)})},lastActiveDevicesUpdate:function(e){return this.activeDevicesID.reduce(function(t,s){var i=e.messages[s].messages.filter(function(e){return!!e["position.latitude"]&&!!e["position.longitude"]});return i.length?t[s]=Math.floor(1e3*i[i.length-1].timestamp):t[s]=0,t},{})}}),{deviceForTelemetry:function(){var e=this;return this.deviceIdForTelemetry?this.devices.filter(function(t){return t.id===e.deviceIdForTelemetry})[0]:{}}}),components:{DeviceList:Ce,MapComponent:ue,QTelemetry:l["a"]},methods:r()({},Object(o["c"])(["setToken","clearToken","setDevicesInit","unsetDevicesInit"]),Object(o["b"])(["getLastUpdatePosition"]),{exitHandler:function(e){this.unsetDevicesInit(),this.clearToken(),this.$router.push("/login")},setWatchToDeviceID:function(e){this.deviceIdForWatch=e},menuChangeHandler:function(e){this.$q.localStorage.set("TrackIt Params",this.params)},telemetrySettingsChangeHandler:function(){this.$q.localStorage.set("TrackIt TelemetrySettings",this.telemetrySettings)},updateTelemetryDeviceId:function(e){var t=this,s=this.devices.filter(function(t){return t.id===e});s.length?(this.deviceIdForTelemetry=e,this.params.needShowTelemetry&&this.deviceIdForTelemetry&&this.activeDevicesID.includes(this.deviceIdForTelemetry)&&setTimeout(function(){t.side_right=!0},0)):(this.deviceIdForTelemetry=null,this.side_right=!1)},changeMode:function(){var e=this;1===this.mode?this.getLastUpdatePosition().then(function(t){e.date=t,e.mode=0}):(this.date=0,this.mode=1)}}),watch:{token:function(e){e||this.$router.push("/login")},hasDevicesInit:function(e){e?this.$q.loading.hide():this.$q.loading.show()},deviceIdForWatch:function(e){e&&(this.side_left=!1)},devices:function(e,t){e.length||(this.side_left=!1,this.side_right=!1)}},created:function(){this.token||this.$router.push("/login");var e=this.$q.localStorage.get.item("TrackIt Params");e&&(this.params=Object.assign(this.params,e));var t=this.$q.localStorage.get.item("TrackIt TelemetrySettings");t&&(this.telemetrySettings=Object.assign(this.telemetrySettings,t))}},Ie=Se,_e=(s("WN/4"),Object(I["a"])(Ie,i,a,!1,null,null,null));t["default"]=_e.exports},uITV:function(e,t,s){}}]);
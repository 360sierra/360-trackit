(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"AT+L":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-page window-height window-width bg-light column items-center no-wrap"},[t.$q.platform.is.mobile?t._e():n("a",{attrs:{href:"https://github.com/flespi-software/TrackIt/",target:"_blank"}},[n("img",{staticStyle:{position:"absolute",top:"0",right:"0",border:"0",width:"149px",height:"149px"},attrs:{src:i("Eeo1"),alt:"Fork me on GitHub"}})]),t._m(0),t.$route.params.token?n("div",[n("div",{staticClass:"login-card shadow-4 bg-white column items-center justify-center no-wrap"},[n("q-progress",{staticStyle:{width:"100%",height:"45px"},attrs:{indeterminate:"",color:"positive"}})],1)]):n("div",[n("div",{staticClass:"login-card shadow-4 bg-white column items-center justify-center no-wrap"},[n("p",{staticClass:"text-center"},[t._v("Track your devices on the map.")]),n("div",{staticClass:"row full-width"},[n("div",{staticClass:"col-12 text-center"},[n("iframe",{staticStyle:{width:"100%",height:"96px"},attrs:{src:t.$flespiServer+"/frame/index.html#fff;666;40",frameborder:"0"}})])])])])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-back flex items-center justify-center"},[i("div",{staticClass:"login-code flex items-center justify-center"},[t._v("\n      Track it!\n    ")])])}],s=i("MVZn"),a=i.n(s),r=i("L2JU"),c={data:function(){return{token:"",offlineIntervalId:0,icons:{facebook:"mdi-facebook-box",google:"mdi-google-plus-box",live:"mdi-windows",github:"mdi-github-box",email:"mdi-at"}}},computed:{model:{get:function(){return this.token},set:function(t){this.token=t}}},methods:a()({},Object(r["c"])(["setToken"]),{logIn:function(){var t=this;this.setToken(this.token),this.$nextTick(function(){t.$router.push("/")})},autoLogin:function(){var t=this;this.setToken(this.$route.params.token),setTimeout(function(){t.$router.push("/")},1e3)},checkHasToken:function(){var t=this,e=this.$q.cookies.get("X-Flespi-Token"),i=this.$q.localStorage.get.item("X-Flespi-Token");this.$route.params&&this.$route.params.token?this.autoLogin():i?(this.token=i,this.logIn()):e&&this.$q.dialog({title:"Confirm",message:"Do you want log in by token ".concat(e,"."),ok:!0,cancel:!0}).then(function(){t.token=e,t.logIn()}).catch(function(){})}}),watch:{$route:function(t){t.params&&t.params.token&&this.autoLogin()}},created:function(){var t=this,e=function e(i){"string"===typeof i.data&&~i.data.indexOf("FlespiToken")&&(t.token=i.data,t.logIn(),window.removeEventListener("message",e))};window.addEventListener("message",e),this.$q.loading.hide(),this.checkHasToken()}},l=c,h=(i("ETl2"),i("KHd+")),u=Object(h["a"])(l,n,o,!1,null,null,null);u.options.__file="Login.vue";e["default"]=u.exports},ETl2:function(t,e,i){"use strict";var n=i("Ed6p"),o=i.n(n);o.a},Ed6p:function(t,e,i){},Eeo1:function(t,e,i){t.exports=i.p+"img/right-graphite@2x.f2e09a9.png"}}]);
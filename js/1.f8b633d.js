(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"AT+L":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-page window-height window-width bg-light column items-center no-wrap"},[t.$q.platform.is.mobile?t._e():i("a",{attrs:{href:"https://github.com/flespi-software/TrackIt/",target:"_blank"}},[i("img",{staticStyle:{position:"absolute",top:"0",right:"0",border:"0",width:"149px",height:"149px"},attrs:{src:n("Eeo1"),alt:"Fork me on GitHub"}})]),t._m(0),t.$route.params.token?i("div",[i("div",{staticClass:"login-card shadow-4 bg-white column items-center justify-center no-wrap"},[i("q-progress",{staticStyle:{width:"100%",height:"45px"},attrs:{indeterminate:"",color:"positive"}})],1)]):i("div",[i("div",{staticClass:"login-card shadow-4 bg-white column items-center justify-center no-wrap"},[i("p",{staticClass:"text-center"},[t._v("Track your devices on the map.")]),i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-12 text-center"},t._l(t.providers,function(e,n){return i("q-icon",{key:n,staticClass:"cursor-pointer",attrs:{size:"3.5rem",name:t.icons[n]},nativeOn:{click:function(i){t.openUrl(e,n)}}})}))])])])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-back flex items-center justify-center"},[n("div",{staticClass:"login-code flex items-center justify-center"},[t._v("\n      Track it!\n    ")])])}],s=(n("rGqo"),n("yt8O"),n("RW0V"),n("ls82"),n("yXPU")),r=n.n(s),c=n("MVZn"),a=n.n(c),l=n("L2JU"),u={data:function(){return{token:"",offlineIntervalId:0,icons:{facebook:"mdi-facebook-box",google:"mdi-google-plus-box",live:"mdi-windows",github:"mdi-github-box",email:"mdi-at"}}},computed:a()({},Object(l["d"])(["providers"]),{model:{get:function(){return this.token},set:function(t){this.token=t}}}),methods:a()({},Object(l["b"])(["getLoginProviders"]),Object(l["c"])(["setToken"]),{logIn:function(){var t=this;this.setToken(this.token),this.$nextTick(function(){t.$router.push("/")})},autoLogin:function(){var t=this;this.setToken(this.$route.params.token),setTimeout(function(){t.$router.push("/")},1e3)},checkHasToken:function(){var t=this,e=this.$q.cookies.get("X-Flespi-Token"),n=this.$q.localStorage.get.item("X-Flespi-Token");this.$route.params&&this.$route.params.token?this.autoLogin():n?(this.token=n,this.logIn()):e&&this.$q.dialog({title:"Confirm",message:"Do you want log in by token ".concat(e,"."),ok:!0,cancel:!0}).then(function(){t.token=e,t.logIn()}).catch(function(){})},openUrl:function(t,e){var n=this,i=function t(e){"string"===typeof e.data&&~e.data.indexOf("FlespiToken")&&(n.token=e.data,n.logIn(),window.removeEventListener("message",t))};window.addEventListener("message",i),e=e||"auth";var o=500,s=600,r=void 0!==window.screenLeft?window.screenLeft:screen.left,c=void 0!==window.screenTop?window.screenTop:screen.top,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,l=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,u=a/2-o/2+r,d=l/2-s/2+c,h=window.open(t,e,"toolbar=no,location=no,status=yes,resizable=yes,scrollbars=yes, width="+o+", height="+s+", top="+d+", left="+u);window.focus&&h.focus()}}),watch:{$route:function(t){t.params&&t.params.token&&this.autoLogin()}},created:function(){var t=r()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$q.loading.hide(),this.checkHasToken(),Object.keys(this.providers).length){t.next=5;break}return t.next=5,this.getLoginProviders();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},d=u,h=(n("ETl2"),n("KHd+")),g=Object(h["a"])(d,i,o,!1,null,null,null);e["default"]=g.exports},ETl2:function(t,e,n){"use strict";var i=n("Ed6p"),o=n.n(i);o.a},Ed6p:function(t,e,n){},Eeo1:function(t,e,n){t.exports=n.p+"img/right-graphite@2x.f2e09a9.png"}}]);
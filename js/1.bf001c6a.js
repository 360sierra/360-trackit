(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0017":function(e,t,s){"use strict";var i=s("e56e"),a=s.n(i);a.a},"1d4d":function(e,t,s){"use strict";var i=s("26b9"),a=s.n(i);a.a},"26b9":function(e,t,s){},"295b":function(e,t,s){"use strict";var i=s("34b3"),a=s.n(i);a.a},"2a98":function(e,t,s){},"34b3":function(e,t,s){},"411d":function(e,t,s){},4678:function(e,t,s){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id="4678"},4846:function(e,t,s){"use strict";var i=s("8dcd"),a=s.n(i);a.a},"577b":function(e,t,s){"use strict";var i=s("87a0"),a=s.n(i);a.a},"5cc2":function(e,t){e.exports="data:image/png;base64,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"},"87a0":function(e,t,s){},"8dcd":function(e,t,s){},"96f6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},b656:function(e,t,s){"use strict";var i=s("e707"),a=s.n(i);a.a},dfed:function(e,t,s){"use strict";var i=s("2a98"),a=s.n(i);a.a},e56e:function(e,t,s){},e707:function(e,t,s){},e72c:function(e,t,s){"use strict";var i=s("411d"),a=s.n(i);a.a},f241:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-layout",{ref:"layout",attrs:{view:"hHh LpR lFf"}},[e.isInit?i("q-drawer",{attrs:{side:"left","no-swipe-open":e.$q.platform.is.desktop,"no-swipe-close":e.$q.platform.is.desktop,breakpoint:576,behavior:"mobile"},model:{value:e.side_left,callback:function(t){e.side_left=t},expression:"side_left"}},[i("device-list",{directives:[{name:"show",rawName:"v-show",value:e.devices.length,expression:"devices.length"}],attrs:{deviceIdForWatch:e.deviceIdForWatch,activeDevicesID:e.activeDevicesID,devices:e.devices},on:{"update-watch-by-id":e.setWatchToDeviceID,"click-hide":function(t){e.side_left=!1}}})],1):e._e(),i("q-drawer",{attrs:{side:"right","no-swipe-open":"","no-swipe-close":"","content-class":{"bg-grey-9":e.telemetrySettings.inverted}},model:{value:e.side_right,callback:function(t){e.side_right=t},expression:"side_right"}},[i("div",{staticStyle:{position:"relative",height:"100vh",overflow:"hidden"}},[i("q-item",[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{color:e.telemetrySettings.inverted?"white":"",size:"1.8rem",name:"developer_board"}})],1),i("q-item-section",[i("q-item-label",{staticClass:"ellipsis text-bold q-pa-none",class:{"text-white":e.telemetrySettings.inverted},attrs:{header:""}},[e._v("Telemetry")]),e.deviceIdForTelemetry?i("q-item-label",{staticClass:"ellipsis",class:{"text-white":e.telemetrySettings.inverted},attrs:{caption:""}},[i("small",[e._v(e._s(e.deviceForTelemetry.name||"#"+e.deviceForTelemetry.id))])]):i("q-item-label",{staticClass:"ellipsis",class:{"text-white":e.telemetrySettings.inverted},attrs:{caption:""}},[i("small",[e._v("No selected device")])])],1),i("q-item-section",{attrs:{side:""}},[i("q-btn",{staticClass:"text-grey",attrs:{color:e.telemetrySettings.inverted?"white":"grey",flat:"",icon:"filter_b_and_w"},on:{click:e.telemetrySettingsChangeHandler}},[i("q-tooltip",[e._v("Inverted")])],1)],1)],1),e.deviceIdForTelemetry?i("q-item",[i("q-item-section",[i("q-input",{staticClass:"q-mb-xs",attrs:{type:"text",label:"Search",dark:e.telemetrySettings.inverted,color:e.telemetrySettings.inverted?"white":"grey",outlined:"","hide-bottom-space":""},model:{value:e.telemetrySearch,callback:function(t){e.telemetrySearch=t},expression:"telemetrySearch"}})],1)],1):e._e(),e.deviceIdForTelemetry?i("q-telemetry",{staticClass:"scroll",staticStyle:{height:"calc(100% - 128px)"},attrs:{propHistoryFlag:e.telemetryConfig.propHistoryFlag,device:e.deviceForTelemetry,inverted:e.telemetrySettings.inverted,search:e.telemetrySearch}}):i("div",{staticClass:"text-bold text-center q-mt-sm",class:{"text-white":e.telemetrySettings.inverted}},[e._v("\n        Select one by clicking on its "),i("q-icon",{attrs:{name:"mdi-car-sports",size:"1.2rem"}}),e._v(" marker\n      ")],1)],1)]),i("q-page-container",[i("q-page",[e.devices.length?i("q-btn",{staticClass:"floated menu",attrs:{small:"",round:"",flat:"",color:"bg-grey-9",size:"md"},on:{click:function(t){e.side_left=!e.side_left}}},[i("q-icon",{attrs:{name:"menu"}})],1):e._e(),i("div",{staticClass:"floated label"},[i("img",{staticStyle:{height:"40px","margin-top":"3px",display:"inline-block"},attrs:{src:s("5cc2"),alt:"Track it!"}}),i("div",{staticClass:"q-toolbar-title",staticStyle:{color:"rgb(51, 51, 51)",display:"inline-block"}},[e._v("\n          Track it! "),i("sup",[e._v(e._s(e.version))]),i("div",{staticClass:"q-toolbar-subtitle"},[e._v("\n            Find yourself\n          ")])])]),e.errors.length?i("q-btn",{staticClass:"floated notifications",attrs:{small:"",flat:"",round:"",color:"bg-grey-9",size:"md",icon:"notifications"},on:{click:e.clearNotificationCounter}},[e.newNotificationCounter?i("q-chip",{staticClass:"absolute-top-right q-pa-xs text-white",staticStyle:{"font-size":".6rem"},attrs:{color:"red"}},[e._v(e._s(e.newNotificationCounter))]):e._e(),i("q-menu",{ref:"popoverError",attrs:{fit:""}},[i("q-list",{staticClass:"scroll",staticStyle:{"max-height":"200px"},attrs:{"no-border":"",link:"",separator:""}},e._l(e.errors,(function(t,s){return i("q-item",{key:s,staticStyle:{cursor:"default"}},[i("q-item-section",[i("q-item-label",[e._v(e._s(t))])],1)],1)})),1)],1)],1):e._e(),e.devices.length?i("div",{staticClass:"floated date"},[i("date-range-modal",{attrs:{date:e.date,theme:e.dateTheme},on:{save:function(t){return e.date=[].concat(t)},reinit:e.initDate}})],1):e._e(),!e.activeDevicesID.length&&e.devices.length?i("div",{staticClass:"floated no-devices"},[i("span",{staticClass:"no-devices__message"},[e._v("You have no selected devices")]),i("div",{staticStyle:{"margin-top":"15px"}},[i("q-btn",{staticStyle:{"pointer-events":"auto"},attrs:{icon:"menu",color:"black",size:"md"},on:{click:function(t){e.side_left=!e.side_left}}},[e._v("\n            select devices\n          ")])],1)]):!e.devices.length&&e.hasDevicesInit?i("div",{staticClass:"floated no-devices"},[i("span",{staticClass:"no-devices__message"},[e._v("You have no devices")]),i("div",{staticClass:"q-mt-sm text-bg-grey-9",staticStyle:{"font-size":"1.3rem"}},[e._v("\n          Create one on\n          "),i("q-btn",{staticStyle:{"pointer-events":"auto"},attrs:{dense:"",color:"red-5",label:"flespi.io"},on:{click:function(t){return e.openURL("https://flespi.io")}}})],1)]):e._e(),e.$q.platform.is.desktop?i("a",{staticClass:"floated github",attrs:{href:"https://github.com/flespi-software/TrackIt/",target:"_blank"}},[i("q-btn",{attrs:{flat:"",round:"",color:"bg-grey-9"}},[i("img",{staticStyle:{height:"30px"},attrs:{src:s("96f6"),alt:"GitHub"}}),i("q-tooltip",[e._v("Show on GitHub")])],1)],1):e._e(),i("q-btn",{staticClass:"floated options",attrs:{small:"",round:"",flat:"",size:"md"}},[i("q-icon",{attrs:{color:"bg-grey-9",name:"more_vert"}}),i("q-menu",{ref:"popover-menu"},[i("q-list",{staticClass:"scroll",staticStyle:{"min-width":"200px"},attrs:{link:"",separator:""}},[i("q-item",[i("q-toggle",{attrs:{disabled:!e.devices.length,icon:"dvr",label:"Messages"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowMessages,callback:function(t){e.$set(e.params,"needShowMessages",t)},expression:"params.needShowMessages"}})],1),i("q-item",[i("q-toggle",{attrs:{disable:!e.devices.length,icon:"mdi-play",label:"Player"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowPlayer,callback:function(t){e.$set(e.params,"needShowPlayer",t)},expression:"params.needShowPlayer"}})],1),i("q-item",[i("q-toggle",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disabled:!e.devices.length,icon:"av_timer",label:"Telemetry"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowTelemetry,callback:function(t){e.$set(e.params,"needShowTelemetry",t)},expression:"params.needShowTelemetry"}})],1),i("q-item",[i("q-toggle",{attrs:{disabled:!e.devices.length,icon:"pin_drop",label:"Names"},on:{input:e.menuChangeHandler},model:{value:e.params.needShowNamesOnMap,callback:function(t){e.$set(e.params,"needShowNamesOnMap",t)},expression:"params.needShowNamesOnMap"}})],1),i("q-item",{staticClass:"within-iframe-hide",attrs:{clickable:""},on:{click:e.exitHandler}},[i("q-item-section",{staticClass:"q-pl-md",attrs:{avatar:""}},[i("q-icon",{attrs:{name:"exit_to_app"}})],1),i("q-item-section",[i("q-item-label",[e._v("Exit")])],1)],1)],1)],1)],1),i("map-component",{attrs:{activeDevices:e.activeDevices,deviceIdForWatch:e.deviceIdForWatch,params:e.params,date:e.date},on:{"update-telemetry-device-id":e.updateTelemetryDeviceId,"change-need-show-messages":function(t){e.params.needShowMessages=t}}})],1)],1)],1)},a=[],n=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("28a5"),s("f751"),s("6762"),s("2fdb"),s("c47a")),r=s.n(n),o=s("2b0e"),c=s("2f62"),l=function(){var e,t,s=this,i=s.$createElement,a=s._self._c||i;return a("div",{staticClass:"q-v-date-range-picker",staticStyle:{"min-width":"180px"}},[a("q-btn",{attrs:{color:s.theme.bgColor,flat:"",dense:"",icon:"keyboard_arrow_left"},on:{click:s.prevHandler}},[a("q-tooltip",[s._v("Previous time range")])],1),a("q-btn",{staticClass:"q-pa-none",staticStyle:{"min-width":"124px","font-size":".8rem","line-height":".8rem"},attrs:{flat:"",color:s.theme.bgColor},on:{click:s.dateRangeToggle}},[a("div",[a("div",[s._v(s._s(s.formatDate(s.dateModel[0])))]),a("div",{staticStyle:{"font-size":".5rem"}},[s._v("|")]),a("div",[s._v(s._s(s.formatDate(s.dateModel[1])))])]),a("q-tooltip",[s._v("Change time")])],1),a("q-btn",{attrs:{color:s.theme.bgColor,flat:"",dense:"",icon:"keyboard_arrow_right"},on:{click:s.nextHandler}},[a("q-tooltip",[s._v("Next time range")])],1),a("q-dialog",{ref:"dateRangePickerModal",attrs:{"content-class":"modal-date-range"}},[a("q-card",[a("q-card-section",{staticClass:"scroll q-pa-none",class:(e={},e["bg-"+s.theme.bgColor]=!0,e["text-white"]=!!s.theme.bgColor,e)},[a("div",{staticClass:"flex flex-center",staticStyle:{"max-width":"330px"}},[a("div",{staticClass:"fit text-center q-my-sm"},[a("q-btn-toggle",{attrs:{options:s.dateRangeModeOptions,color:s.theme.bgColor,"text-color":"grey","toggle-text-color":s.theme.color,flat:""},model:{value:s.mode,callback:function(e){s.mode=e},expression:"mode"}})],1),a("date-range-picker",{staticClass:"q-ma-sm",attrs:{mode:s.mode,theme:s.theme},on:{"change:mode":s.changeModeDateTimeRangeHandler,error:function(e){return s.saveDisabled=e}},model:{value:s.dateModel,callback:function(e){s.dateModel=e},expression:"dateModel"}})],1)]),a("q-card-actions",{class:(t={},t["bg-"+s.theme.bgColor]=!0,t["text-white"]=!!s.theme.bgColor,t),attrs:{align:"between"}},[a("q-btn",{attrs:{flat:"",color:s.theme.color,dense:"",icon:"mdi-map-clock-outline"},on:{click:function(e){s.$emit("reinit"),s.dateRangeModalClose()}}},[a("q-tooltip",[s._v("Reinit time by devices positions")])],1),a("div",[a("q-btn",{attrs:{flat:"",color:s.theme.color},on:{click:s.dateRangeModalClose}},[s._v("close")]),a("q-btn",{attrs:{flat:"",color:s.theme.color,disable:s.saveDisabled},on:{click:s.dateRangeModalSave}},[s._v("save")])],1)],1)],1)],1)],1)},h=[],d=s("bd4c"),m=s("a99f"),u={props:["theme","date"],data:function(){return{dateModel:this.date,mode:0,saveDisabled:!1,dateRangeModeOptions:[{label:"Day",value:0},{label:"Range",value:3},{label:"Manual",value:4}]}},methods:{dateRangeToggle:function(){this.$refs.dateRangePickerModal.toggle()},dateRangeModalClose:function(){this.$refs.dateRangePickerModal.hide()},changeModeDateTimeRangeHandler:function(e){this.mode=e},dateRangeModalSave:function(){this.$emit("save",this.dateModel),this.dateRangeModalClose()},formatDate:function(e){return d["a"].formatDate(e,"DD/MM/YYYY HH:mm:ss")},prevHandler:function(){var e=this.dateModel[1]-this.dateModel[0],t=this.dateModel[0]-1,s=t-e;this.dateModel=[s,t],this.$emit("save",this.dateModel)},nextHandler:function(){var e=this.dateModel[1]-this.dateModel[0],t=this.dateModel[1]+1,s=t+e;this.dateModel=[t,s],this.$emit("save",this.dateModel)}},watch:{date:function(e){this.dateModel=e}},components:{DateRangePicker:m["a"]}},p=u,g=(s("0017"),s("2877")),f=Object(g["a"])(p,l,h,!1,null,null,null),v=f.exports,y=s("5ee7"),k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"map-wrapper absolute-top-left absolute-bottom-right"},[s("div",{style:{height:e.mapHeight},attrs:{id:"map"}},[s("q-resize-observer",{on:{resize:e.onResize}})],1),Object.keys(e.messages).length&&(e.params.needShowMessages||e.params.needShowPlayer)?s("queue",{ref:"queue",attrs:{devices:e.activeDevices,activeDevicesID:e.activeDevicesID,needShowMessages:e.params.needShowMessages,needShowPlayer:e.params.needShowPlayer,messages:e.allMessages,telemetryDeviceId:e.telemetryDeviceId,date:e.date,markers:e.markers,player:e.player},on:{"player-value":function(t){return e.playProcess(t,"value")},"player-play":function(t){return e.playProcess(t,"play")},"player-pause":function(t){return e.playProcess(t,"pause")},"player-stop":function(t){return e.playProcess(t,"stop")},"player-speed":e.playerSpeedChangeHandler,"player-mode":e.playerModeChange,"change-need-show-messages":function(t){e.$emit("change-need-show-messages",t)},"change-selected":function(t){e.selected=t},"update-color":e.updateColorHandler,"view-on-map":e.viewOnMapHandler}}):e._e(),s("color-modal",{ref:"colorModal",model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)},b=[],w=s("967e"),_=s.n(w),D=(s("96cf"),s("fa84")),x=s.n(D),M=(s("3846"),s("7f7f"),s("e11eb")),S=(s("6cc5"),s("7998"),function(e){e.Polyline.include({_snakingTimestamp:0,_snakingRings:0,_snakingTailRings:0,_snakingVertices:0,_snakingTailVertices:0,_snakingDistance:0,_snakingTailDistance:0,_snakingIn:!1,_snakingOut:!1,_snakingPaused:!1,_snakingPauseTime:0,snakeIn:function(){if(!this._snakingIn&&!this._snakingOut&&"performance"in window&&"now"in window.performance&&this._map)return this._snakingIn=!0,this._snakingTime=performance.now(),this._snakingVertices=this._snakingRings=this._snakingDistance=0,this._snakeLatLngs||(this._snakeLatLngs=e.LineUtil.isFlat(this._latlngs)?[this._latlngs]:this._latlngs),this._latlngs=[[this._snakeLatLngs[0][0],this._snakeLatLngs[0][0]]],this._update(),this._snake(),this.fire("snakestart"),this.fire("snakeInStart"),this},snakeOut:function(){var t=this;if(!this._snakingOut&&"performance"in window&&"now"in window.performance&&this._map){if(this._snakingOut=!0,this._snakingTime=performance.now(),this._snakingTailVertices=this._snakingTailRings=this._snakingTailDistance=0,this._snakeLatLngs||(this._snakeLatLngs=e.LineUtil.isFlat(this._latlngs)?[this._latlngs]:this._latlngs),!this._snakingIn){var s=[],i=Object.keys(this._snakeLatLngs);i.forEach((function(){s.push([]),t._snakeLatLngs[s.length-1].forEach((function(e){s[s.length-1].push([e.lat,e.lng])}))})),this._latlngs=s}return this._update(),this._snakingIn||this._snake(),this.fire("snakeOutStart"),this}},_snake:function(){if(this._map&&!this._snakingPaused){var t=performance.now(),s=t-this._snakingTime;s=0===s?.001:s;var i=s*this.options.snakingSpeed/1e3;return this._snakingTime=t,this._snakingIn&&this._latlngs[this._snakingRings].pop(),this._snakingOut&&this._latlngs[this._snakingTailRings].shift(),this._snakingIn&&this._snakeHeadForward(i),this._snakingOut&&this._snakeTailForward(i),this.setLatLngs(this._latlngs),(this._snakingIn||this._snakingOut)&&(this.fire("snake"),e.Util.requestAnimFrame(this._snake,this)),this}},_snakeHeadForward:function(e){var t=this._map.latLngToContainerPoint(this._snakeLatLngs[this._snakingRings][this._snakingVertices]),s=this._map.latLngToContainerPoint(this._snakeLatLngs[this._snakingRings][this._snakingVertices+1]),i=t.distanceTo(s);while(this._snakingDistance+e>i){if(this._snakingVertices++,this._latlngs[this._snakingRings].push(this._snakeLatLngs[this._snakingRings][this._snakingVertices]),this._snakingVertices>=this._snakeLatLngs[this._snakingRings].length-1){if(this._snakingRings>=this._snakeLatLngs.length-1)return this._snakeInEnd();this._snakingVertices=0,this._snakingRings++,this._latlngs[this._snakingRings]=[this._snakeLatLngs[this._snakingRings][this._snakingVertices]]}this._snakingDistance-=i,t=this._map.latLngToContainerPoint(this._snakeLatLngs[this._snakingRings][this._snakingVertices]),s=this._map.latLngToContainerPoint(this._snakeLatLngs[this._snakingRings][this._snakingVertices+1]),i=t.distanceTo(s)}this._snakingDistance+=e;var a=this._snakingDistance/i,n=s.multiplyBy(a).add(t.multiplyBy(1-a)),r=this._map.containerPointToLatLng(n);return this._latlngs[this._snakingRings].push(r),this.options.followHead&&this._map.setView(r),this},_snakeTailForward:function(e){var t=this._map.latLngToContainerPoint(this._snakeLatLngs[this._snakingTailRings][this._snakingTailVertices]),s=this._map.latLngToContainerPoint(this._snakeLatLngs[this._snakingTailRings][this._snakingTailVertices+1]),i=t.distanceTo(s);while(this._snakingTailDistance+e>i){if(this._snakingTailVertices++,this._latlngs[this._snakingTailRings].shift(),this._snakingTailVertices>=this._snakeLatLngs[this._snakingTailRings].length-1){if(this._snakingTailRings>=this._snakeLatLngs.length-1)return this._snakeOutEnd();this._snakingTailVertices=0,this._latlngs[this._snakingTailRings]=[],this._snakingTailRings++,this._latlngs[this._snakingTailRings].shift()}this._snakingTailDistance-=i,t=this._map.latLngToContainerPoint(this._snakeLatLngs[this._snakingTailRings][this._snakingTailVertices]),s=this._map.latLngToContainerPoint(this._snakeLatLngs[this._snakingTailRings][this._snakingTailVertices+1]),i=t.distanceTo(s)}this._snakingTailDistance+=e;var a=this._snakingTailDistance/i,n=s.multiplyBy(a).add(t.multiplyBy(1-a)),r=this._map.containerPointToLatLng(n);return this._latlngs[this._snakingTailRings].unshift(r),this},_snakeInEnd:function(){return this._snakingIn=!1,this._snakingOut||this.setLatLngs(this._snakeLatLngs),this.fire("snakeend"),this.fire("snakeInEnd"),this},_snakeOutEnd:function(){return this._snakingOut=!1,this.fire("snakeOutEnd"),this},snakeReset:function(){return this._snakingIn=this._snakingOut=!1,this._snakeLatLngs&&this.setLatLngs(this._snakeLatLngs),this},snakePause:function(){this._snakingPaused=!0,this._snakingPauseTime=performance.now()},snakeUnpause:function(){if(this._snakingPaused){this._snakingPaused=!1;var t=performance.now(),s=t-this._snakingPauseTime;this._snakingPauseTime=0,this._snakingTime+=s,e.Util.requestAnimFrame(this._snake,this)}}}),e.Polyline.mergeOptions({snakingSpeed:200,followHead:!1}),e.LayerGroup.include({_snakingLayers:[],_snakingLayersDone:0,_snakingTailLayersDone:0,_snakingIn:!1,_snakingOut:!1,_snakeTimeoutsId:[],snakeIn:function(){if("performance"in window&&"now"in window.performance&&this._map&&!this._snakingIn&&!this._snakingOut){if(this._snakingIn=!0,this._snakingLayersDone=0,0===this._snakingLayers.length&&this._initSnakingLayers(),this.options.snakeRemoveLayers)this.clearLayers();else for(var t in this._snakingLayers)this._snakingLayers[t]instanceof e.Polyline&&this.removeLayer(this._snakingLayers[t]);return this.fire("snakestart"),this.fire("snakeInStart"),this._snakeHeadNext()}},snakeOut:function(){if("performance"in window&&"now"in window.performance&&this._map&&!this._snakingOut)return this._snakingOut=!0,this._snakingTailLayersDone=0,this.fire("snakeOutStart"),this._snakeTailNext()},_initSnakingLayers:function(){var e=Object.keys(this._layers);for(var t in e){var s=e[t];this._snakingLayers.push(this._layers[s])}return this},_snakeHeadNext:function(){if(!this._snakingIn)return this;if(this._snakingLayersDone>=this._snakingLayers.length)return this.fire("snakeend"),this.fire("snakeInEnd"),void(this._snakingIn=!1);var e=this._snakingLayers[this._snakingLayersDone];return this._snakingLayersDone++,this.getLayer(e)||this.addLayer(e),"snakeIn"in e?(e.once("snakeInEnd",(function(){this._snakeTimeoutsId.push(setTimeout(this._snakeHeadNext.bind(this),this.options.snakingPause))}),this),e.snakeIn()):this._snakeTimeoutsId.push(setTimeout(this._snakeHeadNext.bind(this),this.options.snakingPause)),this.fire("snake"),this},_snakeTailNext:function(){if(!this._snakingOut)return this;if(this.options.snakeRemoveLayers&&this.removeLayer(this._snakingLayers[this._snakingTailLayersDone-1]),this._snakingTailLayersDone>=this._snakingLayers.length)return this.fire("snakeOutEnd"),void(this._snakingOut=!1);var e=this._snakingLayers[this._snakingTailLayersDone];return this._snakingTailLayersDone++,"snakeOut"in e?(e.once("snakeOutEnd",(function(){this._snakeTimeoutsId.push(setTimeout(this._snakeTailNext.bind(this),this.options.snakingPause))}),this),e.snakeOut()):this._snakeTimeoutsId.push(setTimeout(this._snakeTailNext.bind(this),this.options.snakingPause)),this.fire("snake"),this},snakeReset:function(){for(var t in this._snakingIn=!1,this._snakingOut=!1,0===this._snakingLayers.length&&this._initSnakingLayers(),this._snakeTimeoutsId)clearTimeout(t);for(var s in this._snakeTimeoutsId=[],this._snakingLayers)this._snakingLayers[s]instanceof e.Polyline&&this._snakingLayers[s].snakeReset(),this.getLayer(this._snakingLayers[s])||this.addLayer(this._snakingLayers[s]);return this}}),e.LayerGroup.mergeOptions({snakingPause:200,snakeRemoveLayers:!0})}),I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"absolute-bottom-left absolute-bottom-right",attrs:{id:"queue"}},[s("q-tab-panels",{staticStyle:{background:"rgba(0, 0, 0, .5)"},attrs:{animated:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.activeDevicesID,(function(t){return s("q-tab-panel",{key:"tab-panel-"+t,staticClass:"no-padding",attrs:{name:t.toString()}},[s("queue-item",{key:"tab-pane-"+t,attrs:{id:t,messages:e.messages[t],date:e.date,device:e.devices[t],needShowMessages:e.needShowMessages,needShowPlayer:e.needShowPlayer,player:e.player},on:{"player-value":e.playHandler,"player-play":function(t){return e.$emit("player-play",t)},"player-pause":function(t){return e.$emit("player-pause",t)},"player-stop":e.stopHandler,"player-speed":function(t){return e.$emit("player-speed",t)},"player-mode":function(t){return e.$emit("player-mode",t)},"change-need-show-messages":function(t){e.$emit("change-need-show-messages",t)},"view-on-map":function(t){e.$emit("view-on-map",t)}}})],1)})),1),s("q-tabs",{staticClass:"bg-grey-9",attrs:{align:"left","indicator-color":"white"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.activeDevicesID,(function(t){return s("q-tab",{key:"tab-"+t,attrs:{name:t.toString()},on:{click:function(s){e.messages[t].length&&e.markers[t]&&e.markers[t]._icon&&e.changeTabColorHandler(t)}}},[s("div",{staticClass:"text-white"},[e.messages[t].length&&e.markers[t]&&e.markers[t]._icon?s("div",{staticClass:"color-view q-mr-xs",style:{backgroundColor:e.markers[t].color},on:{click:function(s){return s.stopPropagation(),e.changeColorHandler(t)}}}):e._e(),e._v("\n        "+e._s(e.getNameById(t))+"\n      ")])])})),1),s("color-modal",{ref:"colorModal",model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)},C=[],T=(s("6b54"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{style:[{height:e.height,position:"relative"}]},[e.needShowMessages?[s("div",{staticClass:"table__wrapper",style:{height:e.needShowPlayer?"calc(100% - 65px)":"100%"}},[s("messages",{staticStyle:{height:"100%"},attrs:{messages:e.messages,item:e.device,activeDeviceId:e.id,limit:0,date:e.date,activeMessagesIds:e.activeMessagesIndexes},on:{view:e.viewMessageHandler,"view-on-map":e.viewOnMapHandler}})],1)]:e._e(),e.needShowPlayer?s("div",{staticStyle:{display:"flex","background-color":"#424242"},style:{height:e.needShowMessages?"65px":"100%"}},[s("q-btn",{attrs:{icon:"dvr",color:e.needShowMessages?"blue":"white",dense:e.$q.platform.is.mobile,size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.messagesFlag=!e.messagesFlag,e.$emit("change-need-show-messages",e.messagesFlag)}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Messages")]):e._e()],1),s("q-btn",{attrs:{icon:"time"===e.player.mode?"mdi-map-clock-outline":"mdi-map-marker-distance",disable:"play"===e.player.status,color:"white",dense:e.$q.platform.is.mobile,size:e.$q.platform.is.desktop?"1.4rem":"md",flat:""},on:{click:function(t){e.playerMode="data"===e.playerMode?"time":"data",e.$emit("player-mode",{mode:e.playerMode,id:e.id})}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Change mode (Time/Data)")]):e._e()],1),s("player",{ref:"player",attrs:{min:e.timeRange.min,max:e.timeRange.max,status:e.player.status,speed:e.player.speed,mode:e.player.mode},on:{"player-next":e.playerNextHandler,"player-prev":e.playerPrevHandler,"player-play":e.playerPlayHandler,"player-pause":e.playerPauseHandler,"player-stop":e.playerStopHandler,"player-speed":e.playerSpeedHandler},model:{value:e.playerValue,callback:function(t){e.playerValue=t},expression:"playerValue"}})],1):e._e()],2)}),j=[],L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("virtual-scroll-list",{ref:"scrollList",attrs:{cols:e.cols,actions:e.actions,items:e.messages,dateRange:e.dateRange,viewConfig:e.viewConfig,theme:e.theme,title:"Messages",loading:e.isLoading,autoscroll:e.needAutoscroll,scrollOffset:"10%",item:e.listItem,itemprops:e.getItemsProps},on:{"action-to-bottom":e.actionToBottomHandler,"update-cols":e.updateColsHandler,"scroll-bottom":e.scrollBottomHandler,action:e.actionHandler}},[s("div",{staticClass:"no-messages text-center",attrs:{slot:"empty"},slot:"empty"},[s("div",{staticClass:"text-white",staticStyle:{"font-size":"3rem"}},[s("div",[e._v("No messages")]),s("div",{staticStyle:{"font-size":"1.5rem"}},[e._v("or position is empty")])])])]),s("message-viewer",{ref:"messageViewer",attrs:{message:"undefined"!==typeof e.selectedMessage?e.selectedMessage:{},inverted:""},on:{close:e.closeHandler}})],1)},q=[],P=s("de45"),O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{ref:"modal",on:{hide:function(t){return e.$emit("close")}}},[s("q-card",{class:{"bg-grey-9":void 0!==e.inverted},style:{minWidth:e.$q.platform.is.mobile?"100%":"30vw"}},[s("q-card-section",{staticClass:"scroll q-pa-none",style:{height:e.$q.platform.is.mobile?"calc(100% - 52px)":""}},[s("div",{staticClass:"layout-padding q-pa-md"},e._l(e.message,(function(t,i,a){return s("div",{key:a,staticClass:"row items-center"},[s("div",{staticClass:"text-weight-bold"},[s("span",{staticClass:"message-viewer__copy text-green cursor-pointer"},[s("q-icon",{attrs:{name:"mdi-content-copy"},nativeOn:{click:function(s){return e.copy(i+": "+t)}}})],1),s("span",{staticClass:"message-viewer__name text-white"},[e._v(e._s(i)+": ")]),s("span",{staticClass:"message-viewer__value text-green"},[e._v(e._s(e.getValue(i,t)))])])])})),0)]),s("q-separator",{attrs:{color:"white"}}),s("q-card-actions",{staticClass:"bg-grey-9 text-white",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:""},on:{click:function(t){return e.copy(e.message)}}},[e._v("Copy full message")]),s("q-btn",{attrs:{flat:""},on:{click:function(t){return e.$refs.modal.hide()}}},[e._v("Close")])],1)],1)],1)},A=[],H=s("cdde"),N={name:"MessageViewer",data:function(){return{date:d["a"]}},props:{message:{type:Object,required:!0},inverted:{type:Boolean}},methods:{show:function(){this.$refs.modal.show()},getValue:function(e,t){return"timestamp"===e?d["a"].formatDate(1e3*t,"DD/MM/YYYY HH:mm:ss"):t},copy:function(e){var t=this;Object(H["a"])(JSON.stringify(e)).then((function(e){t.$q.notify({color:"positive",icon:"content_copy",message:"Successfully copied",timeout:1e3})}),(function(e){t.$q.notify({color:"negative",icon:"content_copy",message:"Error coping",timeout:1e3})}))}}},E=N,R=Object(g["a"])(E,O,A,!1,null,null,null),z=R.exports,B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.item["__connectionStatus"]?s("div",{style:{height:e.itemHeight+"px",width:e.rowWidth+"px",border:"solid 1px #000",color:"#000",fontWeight:"bold",backgroundColor:"offline"===e.item.__connectionStatus?"#ff0":"#0f0",backgroundImage:"url(./statics/police.png)",overflow:"hidden",opacity:".7"},attrs:{title:e.date.formatDate(e.item.timestamp,"DD/MM/YYYY HH:mm:ss")}},e._l(Array(10),(function(t){return s("span",{key:t,staticClass:"uppercase",staticStyle:{padding:"0 5px","margin-left":"150px"},style:{backgroundColor:"offline"===e.item.__connectionStatus?"#ff0":"#0f0"}},[e._v(e._s(e.item["__connectionStatus"]))])})),0):s("div",{staticClass:"cursor-pointer",class:{"missed-items":e.item["x-flespi-status"],"item--telemetry-inited":e.item["x-flespi-inited-by-telemetry"]},style:{height:e.itemHeight+"px",width:e.rowWidth+"px",borderBottom:e.item.delimiter?"solid 1px #f40":""},on:{click:function(t){return e.itemClickHandler(e.index,e.clearItem)}}},[e._l(e.cols,(function(t,i){var a,n;return["etc"===t.__dest?s("span",{key:t.name+i,staticClass:"list__item item_etc",class:(a={},a["item_"+i]=!0,a["item--active"]=e.menuCellActive&&e.menuCellActive.row===e.index&&e.menuCellActive.col===i,a)},[e._v(e._s(e.values.etc.value||"*Empty*"))]):s("span",{key:t.name+i,staticClass:"list__item",class:(n={},n["item_"+i]=!0,n["item--active"]=e.menuCellActive&&e.menuCellActive.row===e.index&&e.menuCellActive.col===i,n),attrs:{title:e.values[t.name].value}},[e._v("\n      "+e._s(e.values[t.name].value)+"\n    ")])]}))],2)},$=[],F=(s("4917"),{props:["item","index","actions","cols","itemHeight","etcVisible","rowWidth","actionsVisible","selected","menuCellActive"],data:function(){return{date:d["a"]}},computed:{values:function(){var e=this,t={};return t=this.cols.length?this.cols.reduce((function(t,s,i,a){return t[s.name]={value:e.getValueOfProp(s,e.item)},i===a.length-1&&(t.etc={value:""}),t}),{}):{etc:{value:""}},Object.keys(this.item).forEach((function(s){if(!t[s]){if(-1!==s.indexOf("x-flespi"))return!1;-1!==s.indexOf("image.bin.")?t.etc.value+="".concat(s,": <binary image>"):t.etc.value+="".concat(s,": ").concat(JSON.stringify(e.item[s]),"; ")}})),t},clearItem:function(){var e=this;return Object.keys(this.item).reduce((function(t,s){return"uuid"===s||-1!==s.indexOf("x-flespi")||(t[s]=e.item[s]),t}),{})}},methods:{clickHandler:function(e,t,s){this.$emit("action",{index:e,type:t,content:s})},itemClickHandler:function(e,t){this.$emit("item-click",{index:e,content:t})},getValue:function(e){return"string"===typeof e?e:JSON.stringify(e)},getValueOfProp:function(e,t){var s=e.name,i=t[s];return s.match(/timestamp$/)?i=d["a"].formatDate(1e3*i,"DD/MM/YYYY HH:mm:ss"):-1!==s.indexOf("image.bin.")?i="<binary image>":"string"!==typeof i&&(i=JSON.stringify(i)),i}}}),W=F,V=(s("1d4d"),Object(g["a"])(W,B,$,!1,null,null,null)),Y=V.exports,J={actions:[{icon:"mdi-eye",label:"Show message",classes:"",type:"view"}],viewConfig:{needShowFilter:!1,needShowDate:!1,needShowEtc:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}},Z={props:["mode","item","activeDeviceId","limit","messages","date","activeMessagesIds"],data:function(){var e=document.createElement("style");e.type="text/css";var t=document.head||document.getElementsByTagName("head")[0],s=t.appendChild(e);return{listItem:Y,selectedMessage:void 0,dynamicCSS:s,theme:J.theme,viewConfig:J.viewConfig,actions:J.actions,moduleName:this.activeDeviceId,autoscroll:!0}},computed:{storedMessages:function(){var e=this.$store.state.messages[this.moduleName].messages;return this.scrollControlling(e.length),e},cols:{get:function(){return this.$store.state.messages[this.moduleName].cols},set:function(e){this.$store.commit("messages/".concat(this.moduleName,"/updateCols"),e)}},from:{get:function(){return this.$store.state.messages[this.moduleName].from},set:function(e){e?this.$store.commit("messages/".concat(this.moduleName,"/setFrom"),e):this.$store.commit("messages/".concat(this.moduleName,"/setFrom"),0)}},to:{get:function(){return this.$store.state.messages[this.moduleName].to},set:function(e){e?this.$store.commit("messages/".concat(this.moduleName,"/setTo"),e):this.$store.commit("messages/".concat(this.moduleName,"/setTo"),0)}},dateRange:function(){return[this.$store.state.messages[this.moduleName].from,this.$store.state.messages[this.moduleName].to]},reverse:{get:function(){return this.$store.state.messages[this.moduleName].reverse||!1},set:function(e){this.$store.commit("messages/".concat(this.moduleName,"/setReverse"),e)}},currentLimit:{get:function(){return this.$store.state.messages[this.moduleName].limit},set:function(e){e?this.$store.commit("messages/".concat(this.moduleName,"/setLimit"),e):this.$store.commit("messages/".concat(this.moduleName,"/setLimit"),0)}},selected:{get:function(){return this.$store.state.messages[this.moduleName].selected},set:function(e){e&&e.length&&(this.autoscroll=!1),this.$store.commit("messages/".concat(this.moduleName,"/setSelected"),e)}},realtimeEnabled:function(){return this.$store.state.messages[this.moduleName].realtimeEnabled},isLoading:function(){return this.$store.state.messages[this.moduleName].isLoading},needAutoscroll:function(){return this.realtimeEnabled&&!this.selected.length&&this.autoscroll}},methods:{getItemsProps:function(e,t){var s=this,i=this.messages[e];t.key=i["x-flespi-message-key"],t.class=["scroll-list-item--".concat(e)],t.on||(t.on={}),t.on.action=this.actionHandler,t.on["item-click"]=this.viewMessageOnMap,t.dataHandler=function(e,t,i){return s.autoscroll=!1,s.listItem.methods.getValueOfProp(e.data,t.data)}},resetParams:function(){this.$refs.scrollList.resetParams()},updateColsHandler:function(e){this.cols=e},viewMessagesHandler:function(e){var t=e.index,s=e.content;this.selectedMessage=s,this.highlightSelected([t]),this.$refs.messageViewer.show(),this.$emit("view")},viewMessageOnMap:function(e){e.index;var t=e.content;this.$emit("view-on-map",t)},closeHandler:function(){var e=[];this.selectedMessage=void 0,this.activeMessagesIds.length&&(e=[this.activeMessagesIds[this.activeMessagesIds.length-1]]),this.highlightSelected(e)},actionToBottomHandler:function(){this.autoscroll=!0,this.$refs.scrollList.scrollTo(this.messages.length-1)},scrollBottomHandler:function(){this.autoscroll=!0},copyMessageHandler:function(e){var t=this,s=(e.index,e.content);Object(H["a"])(JSON.stringify(s)).then((function(e){t.$q.notify({color:"positive",icon:"content_copy",message:"Message copied",timeout:1e3})}),(function(e){t.$q.notify({color:"negative",icon:"content_copy",message:"Error coping messages",timeout:1e3})}))},actionHandler:function(e){var t=e.index,s=e.type,i=e.content;switch(s){case"view":i=Object.keys(i).reduce((function(e,t){return"uuid"===t||-1!==t.indexOf("x-flespi")||(e[t]=i[t]),e}),{}),this.viewMessagesHandler({index:t,content:i});break}},unselect:function(){this.selected.length&&(this.selected=[])},updateDynamicCSS:function(e){this.dynamicCSS.styleSheet?this.dynamicCSS.styleSheet.cssText=e:this.dynamicCSS.innerText=e},highlightSelected:function(e){var t,s;if(e.length){var i=e[e.length-1];s=[i],t=".scroll-list-item--".concat(i," {background-color: rgba(255,255,255,0.7)!important; color: #333;}")}else s=[],t="";this.selected=s,this.updateDynamicCSS(t)},scrollToSelected:function(e){if("number"===typeof e&&e>=0&&this.$refs.scrollList){var t=this.$refs.scrollList.itemsCount,s=e-Math.floor(t/2);s<0&&(s=0),this.$refs.scrollList.scrollTo(s)}},messageShow:function(e){this.selected[0]!==e[e.length-1]&&(this.highlightSelected(e),this.scrollToSelected(e[e.length-1]))},scrollControlling:function(e){this.selected.length&&this.selected[0]+1e3<=e&&this.$store.dispatch("messages/".concat(this.moduleName,"/unsubscribePooling"))}},watch:{limit:function(e){this.currentLimit=e},activeMessagesIds:function(e){this.messageShow(e)}},created:function(){this.currentLimit=this.limit,this.highlightSelected(this.activeMessagesIds)},destroyed:function(){this.$store.commit("messages/".concat(this.moduleName,"/clearSelected")),this.dynamicCSS.parentNode.removeChild(this.dynamicCSS)},components:{VirtualScrollList:P["a"],MessageViewer:z}},G=Z,U=(s("295b"),Object(g["a"])(G,L,q,!1,null,null,null)),Q=U.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"flex","background-color":"#424242",width:"100%"}},[s("q-btn",{staticClass:"text-white",attrs:{disable:e.max<=e.min,size:e.$q.platform.is.desktop?"1.4rem":"md",dense:e.$q.platform.is.mobile,flat:""}},[e._v("\n    x"+e._s(e.currentSpeed)+"\n    "),s("q-menu",{ref:"currentSpeedPopover",staticStyle:{"background-color":"#424242"},attrs:{anchor:"top left"}},[s("div",{staticClass:"column"},[s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius full-width",attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",dense:e.$q.platform.is.mobile,flat:""},on:{click:function(t){return e.changeSpeed(100)}}},[e._v("x100")]),s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius full-width",attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",dense:e.$q.platform.is.mobile,flat:""},on:{click:function(t){return e.changeSpeed(70)}}},[e._v("x70")]),s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius full-width",attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",dense:e.$q.platform.is.mobile,flat:""},on:{click:function(t){return e.changeSpeed(50)}}},[e._v("x50")]),s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius full-width",attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",dense:e.$q.platform.is.mobile,flat:""},on:{click:function(t){return e.changeSpeed(30)}}},[e._v("x30")]),s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius full-width",attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",dense:e.$q.platform.is.mobile,flat:""},on:{click:function(t){return e.changeSpeed(10)}}},[e._v("x10")]),s("q-btn",{staticClass:"text-white bg-grey-9 no-border-radius full-width",attrs:{size:e.$q.platform.is.desktop?"1.4rem":"md",dense:e.$q.platform.is.mobile,flat:""},on:{click:function(t){return e.changeSpeed(1)}}},[e._v("x1")])],1)]),e.$q.platform.is.desktop?s("q-tooltip",[e._v("currentSpeed")]):e._e()],1),s("q-btn",{directives:[{name:"touch-hold",rawName:"v-touch-hold.noMouse",value:e.playRepeatClickHandler,expression:"playRepeatClickHandler",modifiers:{noMouse:!0}}],staticClass:"text-white",attrs:{color:"play"===e.currentStatus?"blue":"white",disable:e.max<=e.min,dense:e.$q.platform.is.mobile,size:e.$q.platform.is.desktop?"1.4rem":"md",icon:"play"===e.currentStatus?e.repeatFlag?"mdi-repeat":"mdi-pause":"mdi-play",flat:""},on:{click:[e.playClickHandler,function(t){return t.ctrlKey?e.playRepeatClickHandler(t):null}]}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Play/Pause (Ctrl+Click to repeat)")]):e._e(),e.$q.platform.is.mobile?s("q-tooltip",[e._v("Play/Pause (Touch hold to repeat)")]):e._e()],1),s("q-btn",{staticClass:"text-white",attrs:{color:"white",disable:e.max<=e.min,dense:e.$q.platform.is.mobile,size:e.$q.platform.is.desktop?"1.4rem":"md",icon:"mdi-stop",flat:""},on:{click:e.stop}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Stop")]):e._e()],1),s("q-btn",{staticClass:"text-white",attrs:{disable:e.max<=e.min||"data"===e.mode,icon:"mdi-skip-previous",size:e.$q.platform.is.desktop?"1.4rem":"md",dense:e.$q.platform.is.mobile,flat:""},on:{click:function(t){return e.$emit("player-prev")}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Prev message")]):e._e()],1),s("div",{staticClass:"player"},[s("div",{staticClass:"player__main"},[s("div",{ref:"playerContainer",staticClass:"player__container",staticStyle:{transform:"translate3d(0,0,0)"}},[e.max>e.min&&"time"===e.mode?s("q-range",{attrs:{color:"white",min:e.min,max:e.max,step:1},model:{value:e.range,callback:function(t){e.range=t},expression:"range"}}):e._e(),s("div",{staticClass:"player__line cursor-pointer",class:{disabled:e.max<=e.min||"data"===e.mode},on:{click:e.clickLineHandler}},[s("div",{staticClass:"line line__disabled line__disabled--left",style:{width:100*(e.rangeMin-e.min)/(e.max-e.min)+"%"}}),s("div",{staticClass:"line line__active",style:{left:("time"===e.mode?e.current:0)+"%",width:100-("time"===e.mode?e.current:0)-100/e.max*(e.max-e.rangeMax)+"%"}}),s("div",{staticClass:"line line__disabled line__disabled--right",style:{width:100/(e.max-e.min)*(e.max-e.rangeMax)+"%"}})]),s("div",{directives:[{name:"touch-pan",rawName:"v-touch-pan.horizontal.mouse",value:e.dragPlayerControl,expression:"dragPlayerControl",modifiers:{horizontal:!0,mouse:!0}}],staticClass:"player__control cursor-pointer",class:{"player__control--mobile":e.$q.platform.is.mobile,disabled:e.max<=e.min||"data"===e.mode},style:{left:("time"===e.mode?e.current:0)+"%"}})],1)])]),s("q-btn",{staticClass:"text-white",attrs:{disable:e.max<=e.min||"data"===e.mode,icon:"mdi-skip-next",size:e.$q.platform.is.desktop?"1.4rem":"md",dense:e.$q.platform.is.mobile,flat:""},on:{click:function(t){return e.$emit("player-next")}}},[e.$q.platform.is.desktop?s("q-tooltip",[e._v("Next message")]):e._e()],1)],1)},K=[],ee=s("b047"),te=s.n(ee),se=s("0f32"),ie=s.n(se),ae={name:"Player",props:["min","max","value","status","speed","mode"],data:function(){return{currentStatus:this.status,currentValue:this.value,rangeMin:this.min,rangeMax:this.max,timer:0,currentMode:this.mode,currentSpeed:this.speed,percentsByPixel:0,current:0,repeatFlag:!1}},computed:{range:{get:function(){return{min:this.rangeMin,max:this.rangeMax}},set:function(e){this.pause(),this.currentValue<=e.min&&(this.currentValue=e.min),this.currentValue>e.max&&(this.currentValue=e.max,this.end()),this.rangeMin=e.min,this.rangeMax=e.max}}},mounted:function(){this.$refs.playerContainer&&(this.percentsByPixel=100/this.$refs.playerContainer.offsetWidth)},watch:{currentValue:ie()((function(e){this.$emit("input",Math.round(e))}),100,{trailing:!0}),currentSpeed:te()((function(e){this.$refs.currentSpeedPopover.hide(),"play"===this.currentStatus&&(this.pause(),this.$nextTick(this.play))}),100),value:function(e){var t=(e-this.min)/(this.max-this.min)*100;if(this.checkNeedRedraw(t),e===this.currentValue)return!1;this.currentValue=e},min:function(e,t){this.rangeMin===t&&(this.rangeMin=e)},max:function(e,t){this.rangeMax===t&&(this.rangeMax=e)},status:function(e){function t(t,s){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){e!==this.currentStatus&&(this.currentStatus=e,"play"!==e&&"pause"!==e||this.playClickHandler(),"stop"===e&&this.stop())})),mode:function(e){this.currentMode=e,this.current=0,this.currentValue=this.min,this.timer&&clearInterval(this.timer)}},methods:{checkNeedRedraw:function(e){Math.abs(e-this.current)>=this.percentsByPixel&&(this.current=e)},playRepeatClickHandler:function(){this.repeatFlag=!this.repeatFlag,"pause"===this.currentStatus&&this.playClickHandler()},playClickHandler:function(){switch(this.currentStatus){case"stop":case"pause":this.play();break;case"play":this.pause();break}},emit:function(e){status!==this.currentStatus&&this.$emit("player-".concat(e))},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=0,"play"===this.currentStatus&&(this.currentStatus="stop",this.currentValue=this.min)),this.emit("stop")},changeCurrent:function(){var e=this.currentValue+1;if(e>this.rangeMax)return this.pause(),!1;this.currentValue=e},changeSpeed:function(e){this.currentSpeed=e,this.$emit("player-speed",e)},play:function(){"pause"!==this.currentStatus&&"stop"!==this.currentStatus||(this.currentStatus="play",this.emit("play")),this.currentValue===this.max&&(this.currentValue=this.min),this.timer=setInterval(this.changeCurrent,1e3/this.currentSpeed)},pause:function(){var e=this;if(this.repeatFlag&&this.currentValue===this.max)return setTimeout((function(){e.currentValue=e.min}),600),!1;this.timer&&(clearInterval(this.timer),this.timer=0,"play"===this.currentStatus&&(this.end(),this.currentStatus="pause",this.emit("pause")))},end:function(){var e=this;this.value!==this.currentValue&&setTimeout((function(){e.$emit("input",e.currentValue)}),100)},getPlayerParams:function(){var e=this.$refs.playerContainer,t=e.getBoundingClientRect().left,s=e.offsetWidth,i=s/(this.max-this.min);return{left:t,width:s,step:i}},dragPlayerControl:function(e){if(this.max<=this.min||"data"===this.mode)return!1;var t=this.getPlayerParams(),s=t.left,i=t.step,a=this.min+(e.position.left-s)/i;a<this.rangeMin&&(a=this.rangeMin),a>this.rangeMax&&(a=this.rangeMax),this.currentValue=e.isFinal?Math.round(a):a},clickLineHandler:function(e){if(this.max<=this.min||"data"===this.mode)return!1;var t=e.clientX,s=this.getPlayerParams(),i=s.left,a=s.step,n=this.min+(t-i)/a;if(this.currentValue!==n){if(n<this.rangeMin||n>this.rangeMax)return!1;this.currentValue=Math.round(n)}}},beforeDestroy:function(){this.stop()}},ne=ae,re=(s("e72c"),Object(g["a"])(ne,X,K,!1,null,null,null)),oe=re.exports,ce={name:"QueueItem",props:["id","messages","date","device","needShowMessages","needShowPlayer","player"],data:function(){return{playerMode:this.player.mode||"time",playerValue:0,playerStatus:"stop",activeMessagesIndexes:[],messagesFlag:this.needShowMessages}},computed:{timeRange:function(){return this.messages.length?{min:Math.floor(this.messages[0].timestamp),max:Math.floor(this.messages[this.messages.length-1].timestamp)}:{min:0,max:0}},indexesByTimestamp:function(){return this.messages.reduce((function(e,t,s){var i=Math.floor(t.timestamp);return e[i]||(e[i]=[]),e[i].push(s),e}),{})},height:function(){return this.messages.length?this.needShowMessages&&!this.needShowPlayer?"20vh":!this.needShowMessages&&this.needShowPlayer?"65px":"30vh":this.needShowMessages&&this.needShowPlayer?"30vh":this.needShowMessages&&!this.needShowPlayer?"20vh":!this.needShowMessages&&this.needShowPlayer?"65px":"0vh"}},methods:{getCurrentActiveTimestamp:function(){var e=this,t=0,s=Object.keys(this.indexesByTimestamp);return s.every((function(s,i){return e.playerValue>=s&&(t=s,!0)})),t},update:function(e){"time"===this.playerMode&&(this.$emit("player-value",{id:this.id,messagesIndexes:this.indexesByTimestamp[e]}),this.activeMessagesIndexes=this.indexesByTimestamp[e]||[])},playerNextHandler:function(){var e=Object.keys(this.indexesByTimestamp),t=e.indexOf(this.getCurrentActiveTimestamp());if(t===e.length-1)return this.$q.notify({message:"That`s last message",color:"info",position:"bottom-left"}),!1;this.playerValue=e[t+1]},playerPrevHandler:function(){var e=Object.keys(this.indexesByTimestamp),t=e.indexOf(this.getCurrentActiveTimestamp());if(0===t)return this.$q.notify({message:"That`s first message",color:"info",position:"bottom-left"}),!1;this.playerValue=e[t-1]},playerPlayHandler:function(){this.playerStatus="play",this.playerValue||(this.playerValue=Math.floor(this.messages[0].timestamp)),this.$emit("player-play",{id:this.id})},playerPauseHandler:function(){this.playerStatus="pause",this.$emit("player-pause",{id:this.id})},playerStopHandler:function(){this.playerStatus="stop",this.messages.length?this.playerValue=Math.floor(this.messages[0].timestamp):this.playerValue=0,this.$emit("player-stop",{id:this.id})},playerSpeedHandler:function(e){this.$emit("player-speed",{id:this.id,speed:e})},viewMessageHandler:function(){this.$refs.player&&"stop"!==this.playerStatus&&this.$refs.player.stop()},viewOnMapHandler:function(e){this.$emit("view-on-map",e)}},watch:{playerValue:function(e,t){var s=0,i=!0,a=Object.keys(this.indexesByTimestamp);a.every((function(n,r){return e>=n?(s=n,r===a.length-1&&(i=!1),!0):((t>=n||t<s)&&(i=!1),!1)})),i||this.update(s)},player:{deep:!0,handler:function(e){this.activeMessagesIndexes&&this.activeMessagesIndexes[0]!==e.currentMsgIndex&&(this.activeMessagesIndexes=[e.currentMsgIndex])}},needShowMessages:function(e){this.messagesFlag=e},date:function(){this.playerValue=0,this.playerStatus="stop"}},components:{Messages:Q,Player:oe}},le=ce,he=Object(g["a"])(le,T,j,!1,null,null,null),de=he.exports,me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{ref:"colorModal",staticClass:"color-modal",attrs:{minimized:"","content-css":{minWidth:"240px",minHeight:"201px"}}},[s("div",{staticClass:"bg-grey-9"},[s("q-color",{attrs:{dark:"","format-model":"hex"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),s("q-btn",{staticClass:"full-width",attrs:{flat:"",color:"white"},on:{click:function(t){return e.modalSubmit(e.color)}}},[e._v("Set")])],1)])},ue=[],pe={name:"ColorModal",props:["value"],data:function(){return{color:this.value||"#fff"}},methods:{modalSubmit:function(e){this.$emit("input",e),this.currentColorId=0,this.color="#fff",this.$refs.colorModal.hide(),this.$emit("hide")},modalButtonCloseHandler:function(){this.color="#fff",this.$refs.colorModal.hide(),this.$emit("hide")},show:function(){this.$refs.colorModal.show()}},watch:{value:function(e){this.color=e}}},ge=pe,fe=Object(g["a"])(ge,me,ue,!1,null,"0c4b1810",null),ve=fe.exports,ye={name:"Queue",props:["messages","activeDevicesID","devices","telemetryDeviceId","date","needShowMessages","needShowPlayer","markers","player"],data:function(){var e=this;return{selected:this.activeDevicesID.length?this.activeDevicesID[0].toString():"",telemetryOfActiveDevices:this.devices.filter((function(t){return e.activeDevicesID.includes(t.id)})).reduce((function(e,t){return e[t.id]=t.telemetry?t.telemetry:null,e}),{}),playerValue:0,currentColorModel:"#fff",currentColorId:0}},computed:{color:{get:function(){return this.currentColorModel},set:function(e){this.$emit("update-color",{id:this.currentColorId,color:e}),this.currentColorModel=e}}},methods:{getNameById:function(e){return this.devices.filter((function(t){return t.id===e}))[0].name||"<#".concat(e,">")},playHandler:function(e){this.$emit("player-value",e)},stopHandler:function(e){this.$emit("player-stop",e)},changeColorHandler:function(e){this.currentColorId=e,this.currentColorModel=this.markers[e].color,this.$refs.colorModal.show()},changeTabColorHandler:function(e){e.toString()===this.selected&&this.changeColorHandler(e)}},created:function(){this.activeDevicesID.length&&this.$emit("change-selected",parseInt(this.activeDevicesID[0]))},watch:{devices:{deep:!0,handler:function(e){var t=this;this.telemetryOfActiveDevices=e.filter((function(e){return t.activeDevicesID.includes(e.id)})).reduce((function(e,t){return e[t.id]=t.telemetry?t.telemetry:null,e}),{})}},activeDevicesID:function(e){this.telemetryOfActiveDevices=this.devices.filter((function(t){return e.includes(t.id)})).reduce((function(e,t){return e[t.id]=t.telemetry?t.telemetry:null,e}),{}),e.length||(this.selected=""),this.selected&&e.includes(parseInt(this.selected))||!e.length||(this.selected=e[0].toString())},telemetryDeviceId:function(e){e&&(this.selected=e.toString())},selected:function(e){this.$emit("change-selected",parseInt(e))}},components:{QueueItem:de,ColorModal:ve}},ke=ye,be=(s("4846"),Object(g["a"])(ke,I,C,!1,null,null,null)),we=be.exports,_e=s("bc78"),De=s("1732"),xe=function(e){return e},Me={};function Se(e){var t=e.name,s=e.duration,i=void 0===s?300:s,a=e.to,n=e.from,r=e.apply,o=e.done,c=e.cancel,l=e.easing,h=t,d=new Date;h?Ie(h):h=Object(De["a"])();var m=l||xe,u=function e(){var t=(new Date-d)/i;t>1&&(t=1);var s=n+(a-n)*m(t);if(r(s,t),1===t)return delete Me[h],void(o&&o(s));p.last={pos:s,progress:t},p.timer=requestAnimationFrame(e)},p=Me[h]={cancel:c,timer:requestAnimationFrame(u)};return h}function Ie(e){if(e){var t=Me[e];t&&t.timer&&(cancelAnimationFrame(t.timer),t.cancel&&t.cancel(t.last),delete Me[e])}}var Ce={start:Se,stop:Ie};function Te(e,t,s){var i='\n    <svg\n      xmlns="http://www.w3.org/2000/svg" version="1.0" width="20" height="35" viewBox="0 0 322.41 644.26"\n      preserveAspectRatio="xMidYMid meet" id="svg24">\n    <g transform="scale(.1 -.1) rotate(39.9 10895.45 -1796.96)" id="g22" style="fill:#000;stroke:none">\n      <path style="fill:'.concat(t,';fill-opacity:1;stroke:none;stroke-width:7.5px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M90.2 1440.33l700.66-772.42L1810.08 25.48l862.86 683.33 1051.22 1347.75 444.64 531.73 179-120.54 69.53 145.88-83.22 221.15 513.31 509.29 543.23 600.84 96.12 630.8-152.93 477.63-261.24 330.67-360.5 295.62-284.29 161.95-308.89 90.7-252.9 14.74-207.63-43.52-353.46-170.4-309.83-301.5-239.28-362.56-272.9-369.48-178.18-210.64-231.28 63.55-110.64-68.23-7.01-78.63 152.75-164.84-655.94-756.08-407.52-433.12-501.68-572.84-377.55-662.23-122.76-290.99z" id="path841"/><path style="fill:#000;stroke:none;stroke-width:1" d="M3746.75 5933.68c-306-61-565-242-847-592-85-106-140-197-169-281-15-42-64-108-229-306l-211-253-84 29c-46 15-100 28-120 28-55-1-115-33-143-78-24-36-47-101-47-129 0-7 41-33 91-59l91-45-19-22c-11-12-132-157-270-322-293-352-302-362-622-699-434-458-552-591-666-751-131-183-290-469-427-768-65-143-69-156-66-212 4-71 40-136 142-262 264-325 979-925 1351-1135 122-69 204-98 273-98 57 0 64 3 158 67 312 211 582 430 760 615 126 131 222 254 659 843 98 132 205 274 239 315 69 86 530 636 556 663 16 18 20 15 75-62 32-45 64-81 72-81 48 0 156 93 169 145 13 51-3 119-45 194-34 61-39 76-28 90 6 10 101 123 209 252 138 163 211 241 240 258 110 62 198 146 345 329 108 134 151 198 211 317 58 115 97 226 118 333 19 98 18 299-2 402-58 307-250 598-577 872-269 225-515 353-776 402-100 19-318 20-411 1zm415-21c297-56 614-250 910-555 107-110 158-175 224-283l41-67-39-65c-47-77-58-135-43-216 16-85 58-161 135-244l68-72-17-79c-44-220-133-392-319-623-115-143-232-256-307-295-49-26-85-64-280-296-123-145-228-272-235-280-10-12-2-33 42-114 66-118 70-153 24-196-17-16-35-29-39-29s-38 43-76 95-72 94-76 92c-10-3-559-657-671-800-57-73-209-274-337-447s-276-369-329-435c-222-279-475-505-889-794-131-92-134-93-182-89-162 16-624 337-1120 780-346 309-550 548-550 646 0 80 285 635 447 872 126 183 222 293 617 710 355 375 415 441 758 852l298 358-110 55-110 55 15 30c19 37 52 60 85 60 14 0 72-16 128-34l103-35 233 280c189 227 238 291 251 332 26 80 76 162 170 280 370 460 741 633 1180 551z" id="path4"/><path style="fill:#000;stroke:none;stroke-width:1" d="M3831.75 5895.68c-54-4-103-11-107-15-11-11 91-85 167-122 148-73 275-64 389 27l59 47-30 13c-50 20-222 51-303 55-41 2-120 0-175-5z" id="path6"/><path style="fill:#000;stroke:none;stroke-width:1" d="M4128.75 5673.68c-170-48-408-178-602-329-180-140-397-340-547-505-111-123-129-153-97-165 12-5 39 18 97 81 44 49 148 154 231 235 120 117 155 146 172 142 15-4 55 18 144 80 176 122 283 157 374 122 37-14 87-61 74-70-2-1-39-24-83-51s-189-120-322-208c-178-116-243-164-243-178 0-11 7-22 15-25 10-4 113 58 273 163 141 93 280 183 307 200 59 36 374 210 558 307 109 58 128 71 125 90-4 25-54 52-173 91-99 34-225 42-303 20zm223-56c66-17 155-51 155-59 0-4-39-28-87-53-49-25-158-84-243-131l-154-85-21 37c-28 51-73 74-142 73-86-1-142-25-291-125-193-130-200-133-82-35 189 158 404 287 600 360 82 31 190 38 265 18z" id="path8"/><path style="fill:#000;stroke:none;stroke-width:1" d="M5007.75 5219.68c-7-5-63-161-125-347-127-381-135-400-288-751-60-139-108-260-106-270s11-19 21-21c20-4 33 22 194 398 68 157 145 363 215 573l110 328 25-37c68-100 109-233 99-322-40-336-266-793-623-1260-93-121-106-152-65-152 38 0 282 338 443 612 189 322 302 641 300 846-1 91-32 185-98 294-55 91-82 121-102 109z" id="path10"/><path style="fill:#000;stroke:none;stroke-width:1" d="M2934.75 4659.68c-131-42-177-93-321-351-64-113-123-232-132-264-24-81-18-180 14-224 13-18 277-246 587-506 605-508 603-507 695-492 85 14 162 61 355 219 126 102 202 172 223 204 115 174 75 432-110 705-79 115-298 337-429 435-194 144-394 243-560 278-98 21-250 19-322-4z" id="path12"/><path style="fill:#000;stroke:none;stroke-width:1" d="M2175.75 4015.68c-254-317-401-491-606-720-310-347-397-482-410-639-4-49-1-87 12-134l18-66 104 104c523 517 976 1183 1124 1653 22 72 23 81 5 88-8 3-96-98-247-286z" id="path14"/><path style="fill:#000;stroke:none;stroke-width:1" d="M4047.75 2817.68c-352-192-817-615-1186-1079-155-194-307-412-297-422 15-15 146-11 204 6 143 42 259 151 558 531 190 240 282 350 574 684 141 162 255 300 253 305-7 21-33 15-106-25z" id="path16"/><path style="fill:#000;stroke:none;stroke-width:1" d="M1140.75 2242.68c-18-9-41-25-52-37-24-27-278-454-298-502-42-102 4-275 121-449 143-214 343-369 595-461 60-22 98-28 190-32 112-5 116-4 167 23 77 42 450 370 474 416 39 76 20 155-52 224-60 57-926 782-968 811-41 28-128 31-177 7z" id="path18"/><path style="fill:#000;stroke:none;stroke-width:1" d="M889.75 2238.68c-23-9-47-41-57-76-6-18 4-28 64-64l71-43 25 24c14 14 27 41 31 61 5 36 4 38-50 72-31 20-57 36-59 35-2 0-13-4-25-9z" id="path20"/></g>\n    </svg>\n  '),a='\n    <div class="my-div-icon__inner">'.concat(i,"</div>\n    ").concat(s?'<div class="my-div-icon__name">'.concat(e,"</div>"):"","\n  ");return a}function je(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Le(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?je(Object(s),!0).forEach((function(t){r()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):je(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}S(M);var qe={name:"Map",props:["params","deviceIdForWatch","activeDevices","delay","date"],data:function(){return{map:null,flyToZoom:15,markers:{},tracks:{},telemetryDeviceId:-1,activeDeviceID:0,activeDevicesID:[],selected:null,currentColorModel:"#fff",currentColorId:0,player:{currentMsgIndex:null,speed:10,status:"stop",mode:"time",tailInterval:0}}},computed:Le(Le({},Object(c["d"])({messages:function(e){return this.activeDevicesID.reduce((function(t,s){return t[s]=e.messages[s].messages.reduce((function(e,t,s){return t["position.latitude"]&&t["position.longitude"]&&(t["x-flespi-message-index"]=s,e.push(t)),e}),[]),t}),{})},allMessages:function(e){return this.activeDevicesID.reduce((function(t,s){return t[s]=e.messages[s].messages,t}),{})}})),{},{color:{get:function(){return this.currentColorModel},set:function(e){this.updateColorHandler({id:this.currentColorId,color:e}),this.currentColorModel=e}},mapHeight:function(){var e="100%";return this.activeDevices.length?(this.params.needShowMessages&&this.params.needShowPlayer?e="calc(100% - 113px)":this.params.needShowMessages&&!this.params.needShowPlayer?e="calc(100% - 48px)":!this.params.needShowMessages&&this.params.needShowPlayer&&(e="calc(100% - 65px)"),e):e}}),methods:{initMap:function(){var e=this;this.map||(this.map=M["map"]("map",{center:[51.50853,-.12574],zoom:3,maxBounds:[[90,-180],[-90,180]]}),this.map.addEventListener("zoom",(function(t){t.flyTo||(e.flyToZoom=t.target.getZoom())})),M["tileLayer"]("//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:3,noWrap:!0}).addTo(this.map))},flyToWithHideTracks:function(e,t){var s=this;this.map.once("zoomstart",(function(e){Object.keys(s.tracks).forEach((function(e){var t=s.tracks[e];t instanceof M["Polyline"]&&(t.tail&&t.tail instanceof M["Polyline"]&&s.map.removeLayer(t.tail),t.overview&&t.overview instanceof M["Polyline"]&&s.map.removeLayer(t.overview),s.map.removeLayer(t))}))})),this.map.once("zoomend",(function(e){Object.keys(s.tracks).forEach((function(e){var t=s.tracks[e];t instanceof M["Polyline"]&&(s.map.addLayer(t),t.tail&&t.tail instanceof M["Polyline"]&&s.map.addLayer(t.tail),t.overview&&t.overview instanceof M["Polyline"]&&s.map.addLayer(t.overview))}))})),this.map.flyTo(e,t)},generateIcon:function(e,t,s){return M["divIcon"]({className:"my-div-icon icon-".concat(e),iconSize:new M["Point"](20,35),html:Te(t,s,this.params.needShowNamesOnMap)})},getColor:function(){for(var e="0123456789ABCDEF",t="#".concat(e[Math.floor(5*Math.random())]),s=0;s<5;s++)t+=e[Math.floor(15*Math.random())];return t},getColorById:function(e){var t=this.$q.localStorage.getItem("trackit-colors-settings");return t||(t={}),t[e]||(t[e]=this.getColor()),this.$q.localStorage.set("trackit-colors-settings",t),t[e]},setColorById:function(e,t){var s=this.$q.localStorage.getItem("trackit-colors-settings");return s||(s={}),s[e]=t,this.$q.localStorage.set("trackit-colors-settings",s),s[e]},getAccuracyParams:function(e){var t=[e["position.latitude"],e["position.longitude"]],s=e["position.hdop"]||e["position.pdop"]||0,i={stroke:!0,color:"#444",weight:3,opacity:.5,fillOpacity:.15,fillColor:"#444",clickable:!1};return{position:t,accuracy:s,circleStyle:i}},updateMarkerDirection:function(e,t){if(t){var s=document.querySelector(".icon-".concat(e," .my-div-icon__inner"));s&&(s.style.transform="rotate(".concat(t||0,"deg)"))}},updateMarker:function(e,t,s){this.updateMarkerDirection(e,s),this.markers[e].setLatLng(t).update()},initMarker:function(e,t,s){var i=this,a=this.messages[e][this.messages[e].length-1]["position.direction"]?this.messages[e][this.messages[e].length-1]["position.direction"]:0,n=this.tracks[e]&&this.tracks[e].options?this.tracks[e].options.color:this.markers[e]?this.markers[e].color:this.getColorById(e);this.markers[e]=M["marker"](s,{icon:this.generateIcon(e,t,n),draggable:!1,title:t}),this.markers[e].id=e,this.markers[e].color=n;var r=this.getAccuracyParams(this.messages[e][this.messages[e].length-1]),o=r.position,c=r.accuracy,l=r.circleStyle;this.markers[e].accuracy=M["circle"](o,c,l),this.markers[e].accuracy.addTo(this.map),this.markers[e].addEventListener("add",(function(t){i.updateMarkerDirection(e,a),i.messages[e]&&i.messages[e].length&&(i.deviceIdForWatch,parseInt(e))})),this.markers[e].addEventListener("click",(function(t){i.telemetryDeviceId=parseInt(e),i.$emit("update-telemetry-device-id",i.telemetryDeviceId)})),this.markers[e].addEventListener("move",(function(t){"stop"===i.player.status&&i.updateMarkerDirection(e,i.messages[e][i.messages[e].length-1]["position.direction"])})),this.markers[e].addEventListener("contextmenu",(function(t){i.currentColorId=e,i.currentColorModel=i.markers[e].color,i.$refs.colorModal.show()})),this.markers[e].addTo(this.map)},initDeviceOnMap:function(e){var t=this.activeDevices.filter((function(t){return t.id===parseInt(e)}))[0];this.markers[e]||(this.markers[e]={},this.markers[e].id=e,this.markers[e].color=this.getColorById(e),this.tracks[e]={});var s=this.messages[e]&&this.messages[e].length;if(!s)return!1;var i=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]],a=t.name||"#".concat(e);if(this.initMarker(e,a,i),this.tracks[e]=M["polyline"](this.getLatLngArrByDevice(e),{color:this.markers[e].color}).addTo(this.map),parseInt(e)===this.selected){var n=this.tracks[e].getBounds();this.map.fitBounds(n)}},updateDeviceOnMap:function(e){var t=this.getLatLngArrByDevice(e),s=this.deviceIdForWatch&&this.markers[this.deviceIdForWatch]&&this.markers[this.deviceIdForWatch]instanceof M["Marker"]?this.markers[this.deviceIdForWatch].getLatLng():{},i=this.deviceIdForWatch&&this.messages[this.deviceIdForWatch]&&this.messages[this.deviceIdForWatch].length&&s.lat&&s.lat!==this.messages[this.deviceIdForWatch][this.messages[this.deviceIdForWatch].length-1]["position.latitude"]&&s.lng&&s.lng!==this.messages[this.deviceIdForWatch][this.messages[this.deviceIdForWatch].length-1]["position.longitude"];if(i){var a=t[t.length-1];this.flyToWithHideTracks(a,this.flyToZoom)}if(!t.length)return this.removeFlags(e),this.tracks[e].tail&&this.tracks[e].tail instanceof M["Polyline"]&&this.tracks[e].tail.remove(),this.tracks[e].overview&&this.tracks[e].overview instanceof M["Polyline"]&&this.tracks[e].overview.remove(),this.markers[e].accuracy&&this.map.removeLayer(this.markers[e].accuracy),this.map.removeLayer(this.tracks[e]),this.map.removeLayer(this.markers[e]),this.tracks[e]={},this.markers[e]={color:this.markers[e].color||void 0,id:e},!1;if(!(this.markers[e]instanceof M["Marker"])){var n=this.activeDevices.filter((function(t){return t.id===parseInt(e)}))[0].name||"#".concat(e),r=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]];this.initMarker(e,n,r)}if(this.tracks[e]instanceof M["Polyline"]||(this.tracks[e]=M["polyline"](this.getLatLngArrByDevice(e),{color:this.markers[e]?this.markers[e].color:this.getColorById(e)}).addTo(this.map)),this.markers[e].setLatLng(t[t.length-1]).update(),this.markers[e].accuracy.setRadius(this.getAccuracyParams(this.messages[e][this.messages[e].length-1]).accuracy),this.markers[e].accuracy.setLatLng(t[t.length-1]),this.markers[e].setOpacity(1),this.tracks[e].setLatLngs(t),parseInt(e)===this.selected&&!this.$store.state.messages[e].realtimeEnabled){var o=this.tracks[e].getBounds();this.map.fitBounds(o)}},getLatLngArrByDevice:function(e){return this.messages[e]?this.messages[e].reduce((function(e,t){return e.push([t["position.latitude"],t["position.longitude"]]),e}),[]):[]},onResize:function(){this.map&&this.map.invalidateSize()},removeMarker:function(e){this.markers[e]&&this.markers[e]instanceof M["Marker"]&&(this.removeFlags(e),this.map.removeLayer(this.markers[e].accuracy),this.markers[e].remove(),this.tracks[e].tail&&this.tracks[e].tail instanceof M["Polyline"]&&this.tracks[e].tail.remove(),this.tracks[e].overview&&this.tracks[e].overview instanceof M["Polyline"]&&this.tracks[e].overview.remove(),this.tracks[e].remove()),o["default"].delete(this.markers,e),o["default"].delete(this.tracks,e)},flyToDevice:function(e){var t=this.activeDevices.filter((function(t){return t.id===e})),s=t.length?t[0]:null,i=s&&[];this.messages[e]&&this.messages[e].length&&(i=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]]),i.length?this.flyToWithHideTracks(i,this.flyToZoom):this.$q.notify({message:"No Position!",color:"warning"})},centerOnDevice:function(e){var t=this.activeDevices.filter((function(t){return t.id===e})),s=t.length?t[0]:null,i=s&&[];this.messages[e]&&this.messages[e].length&&(i=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]]),i.length?this.map.setView(i,14,{animation:!1}):this.$q.notify({message:"No Position!",color:"warning"})},generateFlag:function(e){var t=e.id,s=e.status;return M["divIcon"]({className:"my-flag-icon flag-".concat(s,"-").concat(t),iconSize:new M["Point"](35,35),html:'<i aria-hidden="true" style="color: '.concat("start"===s?_e["a"].getBrand("primary"):_e["a"].getBrand("positive"),';" class="my-flag-icon__inner mdi mdi-').concat("start"===s?"map-marker-outline":"map-marker-check",'"></i>')})},addFlags:function(e){if(!this.markers[e])return!1;if(this.markers[e].flags||(this.markers[e].flags={start:{},stop:{}}),this.messages[e].length){var t=[this.messages[e][0]["position.latitude"],this.messages[e][0]["position.longitude"]],s=[this.messages[e][this.messages[e].length-1]["position.latitude"],this.messages[e][this.messages[e].length-1]["position.longitude"]];this.markers[e].flags.start=M["marker"](t,{icon:this.generateFlag({id:e,status:"start"})}),this.markers[e].flags.start.addTo(this.map),this.markers[e].flags.stop=M["marker"](s,{icon:this.generateFlag({id:e,status:"stop"})});var i=this.$store.state.messages[e].to<=Date.now();i&&this.markers[e].flags.stop.addTo(this.map)}},removeFlags:function(e){if(!this.markers[e]||!this.markers[e].flags||!(this.markers[e].flags.start instanceof M["Marker"])||!(this.markers[e].flags.stop instanceof M["Marker"]))return!1;this.markers[e].flags.start.remove(),this.markers[e].flags.stop.remove(),this.markers[e].flags=void 0},getDeviceData:function(e){var t=this;return x()(_.a.mark((function s(){var i,a,n;return _.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e){s.next=20;break}if(!t.$store.state.messages[e].realtimeEnabled){s.next=4;break}return s.next=4,t.$store.dispatch("messages/".concat(e,"/unsubscribePooling"));case 4:return t.$store.commit("messages/".concat(e,"/clearMessages")),i=t.date[0],a=t.date[1],t.$store.commit("messages/".concat(e,"/setFrom"),i),t.$store.commit("messages/".concat(e,"/setTo"),a),s.next=11,t.$store.dispatch("messages/".concat(e,"/get"));case 11:if(!(a>Date.now())){s.next=16;break}return s.next=14,t.$store.dispatch("messages/".concat(e,"/pollingGet"));case 14:n=s.sent,n();case 16:if(t.addFlags(e),t.$store.state.messages[e].messages.length){s.next=20;break}return s.next=20,t.$store.dispatch("getInitDataByDeviceId",e);case 20:case"end":return s.stop()}}),s)})))()},initDevice:function(e){var t=this;return x()(_.a.mark((function s(){return _.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t.$q.loading.show(),!e){s.next=7;break}return t.$store.commit("messages/".concat(e,"/setActive"),e),s.next=5,t.$store.dispatch("messages/".concat(e,"/getCols"),{actions:!0,etc:!0});case 5:return s.next=7,t.getDeviceData(e);case 7:o["default"].connector.socket.on("offline",(function(){t.$store.commit("messages/".concat(e,"/setOffline"))})),o["default"].connector.socket.on("connect",(function(){t.$store.state.messages[e].offline&&(t.$store.commit("messages/".concat(e,"/setReconnected")),t.$store.dispatch("messages/".concat(e,"/getMissedMessages")))})),t.needInitWatchingDevice&&e===t.deviceIdForWatch&&(t.telemetryDeviceId=parseInt(e),t.$emit("update-telemetry-device-id",t.telemetryDeviceId),t.centerOnDevice(e)),t.$q.loading.hide();case 11:case"end":return s.stop()}}),s)})))()},initActiveDeviceID:function(e){this.activeDeviceID=e||0},viewOnMapHandler:function(e){var t=this;if(e["position.latitude"]&&e["position.longitude"]){var s=[e["position.latitude"],e["position.longitude"]],i=M["divIcon"]({className:"my-highlight-icon",iconSize:new M["Point"](40,40),html:'<div class="my-highlight-icon__innner"></div>'}),a=M["marker"](s,{icon:i}),n=this.map.getZoom();this.flyToWithHideTracks(s,n>12?n:12),this.map.once("moveend",(function(){a.addTo(t.map);var e=document.querySelector(".my-highlight-icon__innner");Ce.start({from:20,to:40,duration:500,apply:function(t){e.style.height="".concat(t,"px"),e.style.width="".concat(t,"px"),e.style.transform="translate(".concat((40-t)/2,"px, ").concat((40-t)/2,"px)")},done:function(){a.remove()}})}))}else this.$q.notify({message:"No position",color:"warning",position:"bottom-left",icon:"mdi-alert-outline"})},playProcess:function(e,t){var s="data"===this.player.mode?0:1;switch(t){case"value":s?this.playerTimeValue(e):this.playerDataValue(e);break;case"play":if("play"===this.player.status)return;s?this.playerTimePlay(e):this.playerDataPlay(e);break;case"stop":if("stop"===this.player.status)return;s?this.playerTimeStop(e):this.playerDataStop(e);break;case"pause":if("pause"===this.player.status)return;s?this.playerTimePause(e):this.playerDataPause(e);break}},playerTimeValue:function(e){var t=this,s=e.id,i=e.messagesIndexes;if(!this.messages[s]||!i||"play"!==this.player.status)return!1;var a=0,n=null,r=i[i.length-1],o=0,c=this.messages[s].slice(o,r+1),l=c.reduce((function(e,t,s){return"number"===typeof t["position.latitude"]&&"number"===typeof t["position.longitude"]&&(n=s,e.push([t["position.latitude"],t["position.longitude"]])),e}),[]);if(i.forEach((function(e){if(t.markers[s]&&t.markers[s]instanceof M["Marker"]){var r=t.messages[s][e],o=r&&"number"===typeof r["position.latitude"]&&"number"===typeof r["position.longitude"];if(t.player.currentMsgIndex=e,o){var c=[r["position.latitude"],r["position.longitude"]];if("play"===t.player.status&&0!==i[0]){var h=1e3/t.player.speed/i.length;if(0!==e){var d=t.messages[s][e-1].timestamp,m=r.timestamp,u=m-d;h=1e3*u/t.player.speed,a=u}h-=50,h?t.markers[s].slideTo(c,{duration:h}):t.markers[s].setLatLng(c).update(),t.updateMarkerDirection(s,r["position.direction"])}else t.markers[s].setLatLng(c).update(),t.updateMarker(s,c,r["position.direction"]);t.markers[s].accuracy.setRadius(t.getAccuracyParams(r).accuracy),t.markers[s].accuracy.setLatLng(c)}else{var p=t.messages[s][n],g=l[l.length-1];t.markers[s].setLatLng(g).update(),t.updateMarker(s,g,p["position.direction"]),t.markers[s].accuracy.setRadius(t.getAccuracyParams(p).accuracy),t.markers[s].accuracy.setLatLng(g)}}})),this.tracks[s]&&this.tracks[s]instanceof M["Polyline"]&&l.length){if(!this.tracks[s].tail||!(this.tracks[s].tail instanceof M["Polyline"]))return this.tracks[s].tail=M["polyline"](l,this.tracks[s].options),this.tracks[s].tail.addTo(this.map),!0;this.player.tailInterval&&clearTimeout(this.player.tailInterval),this.player.tailInterval=setTimeout((function(){t.tracks[s].tail&&t.tracks[s].tail.setLatLngs(l)}),700*a/this.player.speed)}},playerTimePlay:function(e){var t=e.id;this.tracks[t].remove(),this.player.status="play"},playerTimeStop:function(e){var t=this,s=e.id;this.tracks[s].tail&&(this.tracks[s].tail.remove(),delete this.tracks[s].tail);var i=this.$store.state.messages[s].realtimeEnabled,a=i?this.messages[s].length-1:0,n=this.messages[s][a];this.$nextTick((function(){t.player.currentMsgIndex=a?null:0})),this.player.status="stop",this.tracks[s].addTo(this.map);var r=[n["position.latitude"],n["position.longitude"]];this.updateMarker(s,r,n["position.direction"])},playerTimePause:function(e){e.id;this.player.status="pause"},playerDataValue:function(e){e.id},playerDataPlay:function(e){var t=this,s=e.id;if("pause"===this.player.status)return this.tracks[s].overview.snakeUnpause(),void(this.player.status="play");this.player.status="play",this.tracks[s].remove();var i=this.messages[s].map((function(e){return{lat:e["position.latitude"],lng:e["position.longitude"],dir:e["position.direction"],index:e["x-flespi-message-index"]}}));if(i.length<2)return this.tracks[s].addTo(this.map),this.player.status="stop",void(this.player.currentMsgIndex=null);var a=M["polyline"](i,{snakingSpeed:20*this.player.speed,color:this.tracks[s].options.color});this.tracks[s].overview=a,a.addTo(this.map).snakeIn(),a.on("snake",(function(){var e=a.getLatLngs(),n=e.slice(-1)[0],r=n.slice(-1)[0],o=i[e[0].length-1];t.updateMarker(s,r,o.dir),t.player.currentMsgIndex!==o.index&&(t.player.currentMsgIndex=o.index)})),a.on("snakeInEnd",(function(){t.playerDataStop({id:s})}))},playerDataStop:function(e){var t=e.id;this.player.status="stop",this.tracks[t].overview&&(this.tracks[t].overview.remove(),delete this.tracks[t].overview),this.tracks[t]&&this.tracks[t]instanceof M["Polyline"]&&this.tracks[t].addTo(this.map);var s=this.messages[t].slice(-1)[0];if(this.player.currentMsgIndex=null,s){var i=[s["position.latitude"],s["position.longitude"]];this.updateMarker(t,i,s["position.direction"])}},playerDataPause:function(e){var t=e.id;"stop"!==this.player.status&&(this.player.status="pause",this.tracks[t].overview.snakePause())},playerSpeedChangeHandler:function(e){var t=e.speed,s=e.id;this.player.speed=t,"data"===this.player.mode&&"stop"!==this.player.status&&this.tracks[s].overview.setStyle({snakingSpeed:20*t})},playerModeChange:function(e){var t=e.id,s=e.mode;"stop"!==this.player.status&&("data"===s?this.playerTimeStop({id:t}):this.playerDataStop({id:t})),this.player.mode=s},updateColorHandler:function(e){var t=e.id,s=e.color;this.tracks[t].setStyle({color:s}),this.tracks[t].tail&&this.tracks[t].tail.setStyle({color:s}),this.tracks[t].overview&&this.tracks[t].overview.setStyle({color:s}),this.markers[t].color=s,this.markers[t].setIcon(this.generateIcon(t,this.markers[t].options.title,s)),this.setColorById(t,s)}},watch:{messages:{deep:!0,handler:function(e){var t=this;if("play"===this.player.status||"pause"===this.player.status)return!1;var s=Object.keys(e),i=Object.keys(this.markers);if(!s.length)return Object.keys(this.markers).forEach((function(e){t.removeMarker(e)})),!1;if(s.length<i.length){var a=i.filter((function(e){return!s.includes(e)}))[0];return this.removeMarker(a),!1}s.forEach((function(s){if(!e[s].length)return t.activeDevices.filter((function(e){return e.id===parseInt(s)}))[0].telemetry||t.markers[s]?t.updateDeviceOnMap(s):t.initDeviceOnMap(s),!1;i.includes(s)?t.updateDeviceOnMap(s):t.initDeviceOnMap(s)}))}},activeDevices:function(e){var t=this,s=e.map((function(e){return e.id}));this.activeDeviceID||s.forEach((function(e){t.initActiveDeviceID(e)}));var i=Object.keys(this.messages).map((function(e){return parseInt(e)})),a=i.length>s.length?"remove":"add";switch(s.forEach((function(e){t.$store.state.messages[e]||(t.$store.registerModule(["messages",e],Object(P["b"])({Vue:o["default"],LocalStorage:t.$q.localStorage,name:"messages/".concat(e),errorHandler:function(e){t.$store.commit("reqFailed",e)}})),t.$store.commit("messages/".concat(e,"/setSortBy"),"timestamp"),t.$store.commit("messages/".concat(e,"/setLimit"),0))})),this.activeDevicesID=s,a){case"remove":var n=i.filter((function(e){return!s.includes(e)}));1===n.length&&n[0]?this.$store.commit("messages/".concat(n[0],"/clear")):n.length===i.length&&n.forEach((function(e){t.$store.commit("messages/".concat(e,"/clear"))}));break;case"add":var r=s.filter((function(e){return!i.includes(e)}));r&&r.forEach((function(e){t.initDevice(e)}));break}this.map&&M["DomUtil"].hasClass(this.map._container,"crosshair-cursor-enabled")&&M["DomUtil"].removeClass(this.map._container,"crosshair-cursor-enabled")},deviceIdForWatch:function(e){e&&this.flyToDevice(e)},"params.needShowNamesOnMap":function(e){var t=this;Object.keys(this.markers).forEach((function(e){var s=t.activeDevices.filter((function(t){return t.id===parseInt(e)}))[0],i=t.messages[e]&&t.messages[e].length?[t.messages[e][t.messages[e].length-1]["position.latitude"],t.messages[e][t.messages[e].length-1]["position.longitude"]]:[],a=s.name||"#".concat(e);t.markers[e]instanceof M["Marker"]&&(t.markers[e].remove(),t.map.removeLayer(t.markers[e].accuracy),t.initMarker(e,a,i))}))},date:function(e,t){var s=this;t&&(this.player.status="stop",this.player.currentMsgIndex=null,this.activeDevicesID.forEach(function(){var e=x()(_.a.mark((function e(t){return _.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.getDeviceData(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},selected:function(e){if(this.tracks[e]&&this.tracks[e]instanceof M["Polyline"]){var t=this.tracks[e].getBounds();this.map.fitBounds(t)}}},created:function(){var e=this;this.deviceIdForWatch&&(this.needInitWatchingDevice=!0),this.activeDevicesID=this.activeDevices.map((function(e){return e.id})),this.activeDevicesID.forEach((function(t){e.$store.registerModule(["messages",t],Object(P["b"])({Vue:o["default"],LocalStorage:e.$q.localStorage,name:"messages/".concat(t),errorHandler:function(t){e.$store.commit("reqFailed",t)}})),e.$store.commit("messages/".concat(t,"/setSortBy"),"timestamp"),e.initDevice(t)})),o["default"].connector.socket.on("offline",(function(){e.$store.commit("setSocketOffline",!0)})),o["default"].connector.socket.on("connect",(function(){e.$store.commit("setSocketOffline",!1)}))},destroyed:function(){var e=this;o["default"].connector.socket.off("offline"),o["default"].connector.socket.off("connect"),this.activeDevicesID.forEach(function(){var t=x()(_.a.mark((function t(s){return _.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.unregisterModule(["messages",s]);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},mounted:function(){this.initMap()},components:{Queue:we,ColorModal:ve}},Pe=qe,Oe=(s("577b"),Object(g["a"])(Pe,k,b,!1,null,null,null)),Ae=Oe.exports,He=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-list",{staticClass:"bg-grey-9 text-white",attrs:{separator:""}},[s("q-item-label",{ref:"header",staticStyle:{height:"138px","line-height":"58px!important"}},[s("big",[s("q-icon",{staticClass:"cursor-pointer",staticStyle:{"margin-right":"15px"},attrs:{name:"mdi-arrow-left",size:"1.8rem"},nativeOn:{click:function(t){return e.$emit("click-hide")}}}),e._v("\n      Devices\n    ")],1),s("div",{staticClass:"q-px-sm"},[s("q-input",{attrs:{dark:"",color:"white",outlined:"",label:"Filter","hide-bottom-space":""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)],1),s("VirtualList",{style:{height:e.height+"px"},attrs:{size:68,remain:e.itemsCount}},e._l(e.filteredDevices,(function(t){return s("device",{key:t.id,attrs:{device:t,activeDevicesID:e.activeDevicesID,isDeviceWatched:e.deviceIdForWatch===t.id},on:{"update-watch-by-id":e.setWatchByDeviceID}})})),1)],1)},Ne=[],Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-item",{class:[e.model?"device-item__active":"",e.device.messages_ttl?"":"disabled"],attrs:{highlight:e.$q.platform.is.desktop,clickable:""},on:{click:e.deviceClickHandler}},[e.device.messages_ttl?e._e():s("q-tooltip",[e._v("You should set messages ttl more than 0")]),s("q-item-section",{staticClass:"flex flex-center",class:[e.model?"text-green-2":""],attrs:{avatar:""}},[s("q-icon",{attrs:{name:"developer_board"}}),s("small",[e._v("#"+e._s(e.device.id))])],1),s("q-item-section",[s("q-item-label",{staticClass:"ellipsis q-pa-none text-white",attrs:{header:""}},[e._v(e._s(e.device.name||"<noname>"))]),s("q-item-label",{staticClass:"ellipsis text-grey-3 full-width",attrs:{caption:""}},[s("q-icon",{attrs:{name:"label_outline"}}),e._v(" "+e._s(e.device.configuration&&e.device.configuration.ident?e.device.configuration.ident:"<no ident>"))],1),s("q-item-label",{staticClass:"text-grey-3",attrs:{caption:""}},[s("q-icon",{attrs:{name:"phone"}}),e._v(" "+e._s(e.device.configuration&&e.device.configuration.phone?e.device.configuration.phone:"<no phone>"))],1)],1),s("q-item-section",{staticClass:"text-center",attrs:{side:""}},[s("q-item-label",[s("q-icon",{class:[e.isDeviceWatched&&e.activeDevicesID.includes(e.device.id)?"icon__send-active":"text-grey-5"],attrs:{size:"1.5rem",name:"gps_fixed"},nativeOn:{click:function(t){return t.stopPropagation(),e.watchDeviceHandler(t)}}},[e.device.messages_ttl?s("q-tooltip",{model:{value:e.watchTooltip,callback:function(t){e.watchTooltip=t},expression:"watchTooltip"}},[e._v("Show on map")]):e._e()],1)],1)],1)],1)},Re=[],ze={props:["device","activeDevicesID","isDeviceWatched"],data:function(){return{watchTooltip:!1}},computed:{model:function(){return this.activeDevicesID.includes(this.device.id)}},methods:{deviceClickHandler:function(){this.activeDevicesID.includes(this.device.id)?this.unsetActiveDevice():this.setActiveDevice()},setActiveDevice:function(){this.device.messages_ttl&&this.$store.commit("setActiveDevice",this.device.id)},unsetActiveDevice:function(){this.$store.commit("unsetActiveDevice",this.device.id)},watchDeviceHandler:function(){var e=this;if(!this.device.messages_ttl)return!1;this.activeDevicesID.includes(this.device.id)||this.setActiveDevice(),setTimeout((function(){e.isDeviceWatched?e.$emit("update-watch-by-id",null):e.$emit("update-watch-by-id",e.device.id)}),500),setTimeout((function(){e.watchTooltip=!1}),500)}}},Be=ze,$e=(s("dfed"),Object(g["a"])(Be,Ee,Re,!1,null,null,null)),Fe=$e.exports,We=s("89c1"),Ve=s.n(We),Ye={name:"DeviceList",data:function(){return{unsubscribeDevices:function(){},itemsCount:0,height:0,filter:""}},props:["devices","activeDevicesID","deviceIdForWatch"],components:{Device:Fe,VirtualList:Ve.a},computed:{filteredDevices:function(){var e=this.filter.toLowerCase(),t=this.filter?this.devices.filter((function(t){return t&&"undefined"!==typeof t.name&&null!==t.name&&t.name.toLowerCase().indexOf(e)>=0||t&&"undefined"!==typeof t.id&&null!==t.id&&(t.id+"").indexOf(e)>=0||t&&t.configuration&&"undefined"!==typeof t.configuration.ident&&null!==t.configuration.ident&&t.configuration.ident.toLowerCase().indexOf(e)>=0})):this.devices;return t.sort((function(e,t){if(!e.name)return-1;if(!t.name)return 1;var s=e.name.toLowerCase(),i=t.name.toLowerCase();return s<i?-1:1})),t}},methods:{setWatchByDeviceID:function(e){this.$emit("update-watch-by-id",e)},onResize:function(e){this.height=e-138,this.itemsCount=Math.ceil((e-138)/68)}},watch:{"$q.screen.height":{immediate:!0,handler:function(e){this.onResize(e)}}}},Je=Ye,Ze=Object(g["a"])(Je,He,Ne,!1,null,null,null),Ge=Ze.exports,Ue=s("9224"),Qe=s("b06b");function Xe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Ke(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(s),!0).forEach((function(t){r()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Xe(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var et={data:function(){return{deviceIdForWatch:null,deviceIdForTelemetry:null,params:{needShowMessages:!1,needShowTelemetry:!1,needShowNamesOnMap:!0,needShowPlayer:!0},side_left:!1,side_right:!1,telemetrySettings:{inverted:!0},telemetrySearch:"",telemetryConfig:{propHistoryFlag:!0},version:Ue.version,dateTheme:{color:"white",bgColor:"grey-9",modeSwitch:!1},isInit:o["default"].connector.socket.connected(),unsubscribeDevices:function(){}}},computed:Ke(Ke({},Object(c["d"])({token:function(e){return e.token},devices:function(e){return e.devices},isLoading:function(e){return e.isLoading},activeDevicesID:function(e){return e.activeDevicesID},hasDevicesInit:function(e){return e.hasDevicesInit},activeDevices:function(e){return e.devices.filter((function(t){return e.activeDevicesID.includes(t.id)}))},lastActiveDevicesUpdate:function(e){return this.activeDevicesID.reduce((function(t,s){var i=e.messages[s].messages.filter((function(e){return!!e["position.latitude"]&&!!e["position.longitude"]}));return i.length?t[s]=Math.floor(1e3*i[i.length-1].timestamp):t[s]=0,t}),{})},errors:function(e){return e.errors},newNotificationCounter:function(e){return e.newNotificationCounter},deviceForTelemetry:function(e){var t=this;return this.deviceIdForTelemetry?e.devices.filter((function(e){return e.id===t.deviceIdForTelemetry}))[0]:{}}})),{},{date:{get:function(){return this.$store.state.date},set:function(e){this.$store.commit("setDate",e)}}}),components:{DeviceList:Ge,MapComponent:Ae,QTelemetry:y["a"],DateRangeModal:v},methods:Ke(Ke(Ke({openURL:Qe["a"]},Object(c["c"])(["clearToken","clearCurrentRegion","setDevicesInit","unsetDevicesInit","setActiveDevice","reqFailed","clearNotificationCounter","clearErrors"])),Object(c["b"])(["getLastUpdatePosition","poolDevices"])),{},{exitHandler:function(e){o["default"].connector.socket.off("error"),this.unsetDevicesInit(),this.clearToken(),this.clearCurrentRegion(),this.$router.push("/login")},setWatchToDeviceID:function(e){this.updateTelemetryDeviceId(e),this.deviceIdForWatch=e},menuChangeHandler:function(e){this.$q.localStorage.set("TrackIt Params",this.params)},telemetrySettingsChangeHandler:function(){this.$set(this.telemetrySettings,"inverted",!this.telemetrySettings.inverted),this.$q.localStorage.set("TrackIt TelemetrySettings",this.telemetrySettings)},updateTelemetryDeviceId:function(e){var t=this;if(this.deviceIdForTelemetry===e)return this.setWatchToDeviceID(null),!1;var s=this.devices.filter((function(t){return t.id===e}));s.length?(this.deviceIdForTelemetry=e,this.deviceIdForWatch=e,this.params.needShowTelemetry&&this.deviceIdForTelemetry&&this.activeDevicesID.includes(this.deviceIdForTelemetry)&&setTimeout((function(){if(e===t.deviceIdForWatch&&t.$q.platform.is.mobile)return!1}),0)):this.deviceIdForTelemetry=null},formatDate:function(e){return d["a"].formatDate(e,"DD/MM/YYYY")},paramsProcess:function(){var e=this.$q.localStorage.getItem("TrackIt Params");e&&(this.$set(this,"params",Object.assign(this.params,e)),this.side_right=e.needShowTelemetry);var t=this.$q.localStorage.getItem("TrackIt TelemetrySettings");t&&this.$set(this,"telemetrySettings",Object.assign(this.telemetrySettings,t))},connectProcess:function(){var e=this;this.isInit||(o["default"].connector.socket.on("connect",(function(){e.isInit=!0,e.$q.loading.hide()})),this.$q.loading.show())},initDate:function(){var e=this;this.getLastUpdatePosition().then((function(t){e.date=t}))},routeProcess:function(){var e=this,t=this.$route.query.from,s=this.$route.query.to,i=this.$route.params.devices;if(t&&s?this.date=[1e3*t,1e3*s]:this.date[0]||this.date[1]||this.initDate(),i){var a=i.split(",").map((function(e){return+e}));a.forEach((function(t){e.setActiveDevice(t)}))}},loginProcess:function(){this.$route.params.token?this.$router.push("/login/".concat(this.$route.params.token)):this.$router.push("/login")}}),watch:{token:function(e){e||this.$router.push("/login")},hasDevicesInit:function(e){e?this.$q.loading.hide():this.$q.loading.show()},deviceIdForWatch:function(e){e&&(this.side_left=!1)},devices:function(e,t){e.length||(this.side_left=!1,this.side_right=!1)},"params.needShowTelemetry":function(e){this.side_right=e}},created:function(){var e=this;if(this.$store.state.telemetry||this.$store.registerModule("telemetry",Object(y["b"])(this.$store,o["default"])),this.clearNotificationCounter(),this.clearErrors(),this.routeProcess(),!this.token)return this.loginProcess(),!1;this.connectProcess(),this.poolDevices().then((function(t){e.unsubscribeDevices=t})),this.activeDevicesID.length&&(this.$router.push("/devices/".concat(this.activeDevicesID.join(","))),1===this.activeDevicesID.length&&(this.deviceIdForWatch=this.activeDevicesID[0])),this.paramsProcess()},destroyed:function(){this.unsubscribeDevices&&this.unsubscribeDevices(),o["default"].connector.socket.off("connect")}},tt=et,st=(s("b656"),Object(g["a"])(tt,i,a,!1,null,null,null));t["default"]=st.exports}}]);